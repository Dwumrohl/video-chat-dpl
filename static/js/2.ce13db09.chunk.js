/*! For license information please see 2.ce13db09.chunk.js.LICENSE.txt */
(this["webpackJsonpvideo-chat-dpl"]=this["webpackJsonpvideo-chat-dpl"]||[]).push([[2],[function(e,t,n){e.exports=n(58)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function u(e){r(o,i,a,u,s,"next",e)}function s(e){r(o,i,a,u,s,"throw",e)}u(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return B})),n.d(t,"c",(function(){return q})),n.d(t,"d",(function(){return oe})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return _})),n.d(t,"i",(function(){return k})),n.d(t,"j",(function(){return w})),n.d(t,"k",(function(){return X})),n.d(t,"l",(function(){return P})),n.d(t,"m",(function(){return ue})),n.d(t,"n",(function(){return O})),n.d(t,"o",(function(){return te})),n.d(t,"p",(function(){return le})),n.d(t,"q",(function(){return ae})),n.d(t,"r",(function(){return j})),n.d(t,"s",(function(){return C})),n.d(t,"t",(function(){return S})),n.d(t,"u",(function(){return I})),n.d(t,"v",(function(){return de})),n.d(t,"w",(function(){return R})),n.d(t,"x",(function(){return $})),n.d(t,"y",(function(){return D})),n.d(t,"z",(function(){return Z})),n.d(t,"A",(function(){return M})),n.d(t,"B",(function(){return V})),n.d(t,"C",(function(){return A})),n.d(t,"D",(function(){return F})),n.d(t,"E",(function(){return L})),n.d(t,"F",(function(){return U})),n.d(t,"G",(function(){return Y})),n.d(t,"H",(function(){return K})),n.d(t,"I",(function(){return ee})),n.d(t,"J",(function(){return re})),n.d(t,"K",(function(){return ie})),n.d(t,"L",(function(){return J})),n.d(t,"M",(function(){return he})),n.d(t,"N",(function(){return fe})),n.d(t,"O",(function(){return G})),n.d(t,"P",(function(){return z}));var i=n(7),a=n(12),o=n(25),u=n(2),s=n(1),c=n(8),l=n(9),f=n(30),h=!1,d=!1,p="${JSCORE_VERSION}",v=function(e,t){if(!e)throw y(t)},y=function(e){return new Error("Firebase Database ("+p+") INTERNAL ASSERT FAILED: "+e)},m=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},g={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(m(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new b;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},b=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return n}(Object(f.a)(Error)),k=function(e){var t=m(e);return g.encodeByteArray(t,!0)},w=function(e){return k(e).replace(/\./g,"")},_=function(e){try{return g.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function O(e){return E(void 0,e)}function E(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=E(e[n],t[n]));return e}var T=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},x=function(){try{return T()||function(){if("undefined"!==typeof r){var e=Object({NODE_ENV:"production",PUBLIC_URL:"/video-chat-dpl",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&_(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},C=function(e){var t,n;return null===(n=null===(t=x())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},S=function(e){var t=C(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},j=function(){var e;return null===(e=x())||void 0===e?void 0:e.config},I=function(e){var t;return null===(t=x())||void 0===t?void 0:t["_".concat(e)]},N=function(){function e(){var t=this;Object(s.a)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Object(u.a)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function P(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[w(JSON.stringify({alg:"none",type:"JWT"})),w(JSON.stringify(a)),""].join(".")}function R(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function A(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(R())}function D(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function L(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function M(){var e=R();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function F(){return!0===h||!0===d}function U(){return!function(){var t,n=null===(t=x())||void 0===t?void 0:t.forceEnvironment;if("node"===n)return!0;if("browser"===n)return!1;try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(r){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V(){try{return"object"===typeof indexedDB}catch(e){return!1}}function z(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}var q=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){var a;return Object(s.a)(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Object(o.a)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Object(o.a)(a),B.prototype.create),a}return n}(Object(f.a)(Error)),B=function(){function e(t,n,r){Object(s.a)(this,e),this.service=t,this.serviceName=n,this.errors=r}return Object(u.a)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?W(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new q(n,a,t);return o}}]),e}();function W(e,t){return e.replace(H,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var H=/\{\$([^}]+)}/g;function K(e){return JSON.parse(e)}function G(e){return JSON.stringify(e)}var Q=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=K(_(a[0])||""),n=K(_(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}},Y=function(e){var t=Q(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},$=function(e){var t=Q(e).claims;return"object"===typeof t&&!0===t.admin};function X(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function J(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Z(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ee(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function te(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ne(u)&&ne(s)){if(!te(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ne(e){return null!==e&&"object"===typeof e}function re(e){for(var t=[],n=function(){var e=Object(a.a)(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ie(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=Object(a.a)(n,2),i=r[0],o=r[1];t[decodeURIComponent(i)]=decodeURIComponent(o)}})),t}function ae(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var oe=function(){function e(){Object(s.a)(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Object(u.a)(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var u,s,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(u=h^l&(f^h),s=1518500249):(u=l^f^h,s=1859775393):p<60?(u=l&f|h&(l|f),s=2400959708):(u=l^f^h,s=3395469782);var v=(c<<5|c>>>27)+u+d+s+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function ue(e,t){var n=new se(e,t);return n.subscribe.bind(n)}var se=function(){function e(t,n){var r=this;Object(s.a)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Object(u.a)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,a=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Object(i.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a in e&&"function"===typeof e[a])return!0}}catch(o){r.e(o)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ce),void 0===r.error&&(r.error=ce),void 0===r.complete&&(r.complete=ce);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{a.finalError?r.error(a.finalError):r.complete()}catch(e){}})),this.observers.push(r),o}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ce(){}function le(e,t){return"".concat(e," failed: ").concat(t," argument ")}var fe=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,v(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},he=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function de(e){return e&&e._delegate?e._delegate:e}}).call(this,n(32),n(36))},function(e,t,n){"use strict";e.exports=n(53)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(28);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(33);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(20),i=n(42);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(25);function u(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?Object(o.a)(e):t}function s(e){var t=Object(i.a)();return function(){var n,i=Object(r.a)(e);if(t){var a=Object(r.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return u(this,n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return X})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return J})),n.d(t,"d",(function(){return H})),n.d(t,"e",(function(){return T})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return E})),n.d(t,"h",(function(){return _})),n.d(t,"i",(function(){return j})),n.d(t,"j",(function(){return de})),n.d(t,"k",(function(){return Z})),n.d(t,"l",(function(){return G})),n.d(t,"m",(function(){return z})),n.d(t,"n",(function(){return A})),n.d(t,"o",(function(){return I})),n.d(t,"p",(function(){return K})),n.d(t,"q",(function(){return B}));var r=n(0),i=n.n(r),a=n(3),o=n(6),u=(n(2),n(1)),s=n(8),c=n(9),l=n(30),f=n(12),h=n(39),d=n(41),p=n(28),v=n(40);var y,m=n(7),g=n(15);function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(y||(y={}));var k,w="popstate";function _(e){void 0===e&&(e={});var t,n=e,r=n.initialEntries,i=void 0===r?["/"]:r,a=n.initialIndex,o=n.v5Compat,u=void 0!==o&&o;t=i.map((function(e,t){return d(e,"string"===typeof e?null:e.state,0===t?"default":void 0)}));var s=f(null==a?t.length-1:a),c=y.Pop,l=null;function f(e){return Math.min(Math.max(e,0),t.length-1)}function h(){return t[s]}function d(e,n,r){void 0===n&&(n=null);var i=S(t?h().pathname:"/",e,n,r);return x("/"===i.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),i}function p(e){return"string"===typeof e?e:j(e)}return{get index(){return s},get action(){return c},get location(){return h()},createHref:p,createURL:function(e){return new URL(p(e),"http://localhost")},encodeLocation:function(e){var t="string"===typeof e?I(e):e;return{pathname:t.pathname||"",search:t.search||"",hash:t.hash||""}},push:function(e,n){c=y.Push;var r=d(e,n);s+=1,t.splice(s,t.length,r),u&&l&&l({action:c,location:r,delta:1})},replace:function(e,n){c=y.Replace;var r=d(e,n);t[s]=r,u&&l&&l({action:c,location:r,delta:0})},go:function(e){c=y.Pop;var n=f(s+e),r=t[n];s=n,l&&l({action:c,location:r,delta:e})},listen:function(e){return l=e,function(){l=null}}}}function O(e){return void 0===e&&(e={}),N((function(e,t){var n=e.location;return S("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:j(t)}),null,e)}function E(e){return void 0===e&&(e={}),N((function(e,t){var n=I(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,u=n.hash;return S("",{pathname:i,search:o,hash:void 0===u?"":u},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:j(t))}),(function(e,t){x("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function T(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function x(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function C(e,t){return{usr:e.state,key:e.key,idx:t}}function S(e,t,n,r){return void 0===n&&(n=null),b({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?I(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function j(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function I(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function N(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=y.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=y.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:j(e);return T(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(b({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(w,p),f=e,function(){o.removeEventListener(w,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=y.Push;var r=S(m.location,e,t);n&&n(r,e);var i=C(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(u){o.location.assign(a)}s&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=y.Replace;var r=S(m.location,e,t);n&&n(r,e);var i=C(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(k||(k={}));var P=new Set(["lazy","caseSensitive","path","id","index","children"]);function R(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map((function(e,i){var a=[].concat(Object(g.a)(n),[i]),o="string"===typeof e.id?e.id:a.join("-");if(T(!0!==e.index||!e.children,"Cannot specify children on an index route"),T(!r[o],'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){var u=b({},e,{hasErrorBoundary:t(e),id:o});return r[o]=u,u}var s=b({},e,{id:o,hasErrorBoundary:t(e),children:void 0});return r[o]=s,e.children&&(s.children=R(e.children,t,a,r)),s}))}function A(e,t,n){void 0===n&&(n="/");var r=B(("string"===typeof t?I(t):t).pathname||"/",n);if(null==r)return null;var i=D(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=V(i[o],q(r));return a}function D(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(T(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=G([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(T(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),D(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:U(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=Object(m.a)(L(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function L(e){var t=e.split("/");if(0===t.length)return[];var n,r=(n=t,Object(h.a)(n)||Object(d.a)(n)||Object(p.a)(n)||Object(v.a)()),i=r[0],a=r.slice(1),o=i.endsWith("?"),u=i.replace(/\?$/,"");if(0===a.length)return o?[u,""]:[u];var s=L(a.join("/")),c=[];return c.push.apply(c,Object(g.a)(s.map((function(e){return""===e?u:[u,e].join("/")})))),o&&c.push.apply(c,Object(g.a)(s)),c.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var M=/^:\w+$/,F=function(e){return"*"===e};function U(e,t){var n=e.split("/"),r=n.length;return n.some(F)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!F(e)})).reduce((function(e,t){return e+(M.test(t)?3:""===t?1:10)}),r)}function V(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=z({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:G([i,l.pathname]),pathnameBase:Q(G([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=G([i,l.pathnameBase]))}return a}function z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);x("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=Object(f.a)(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return x(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function q(e){try{return decodeURI(e)}catch(t){return x(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function W(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function H(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function K(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=I(e):(T(!(i=b({},e)).pathname||!i.pathname.includes("?"),W("?","pathname","search",i)),T(!i.pathname||!i.pathname.includes("#"),W("#","pathname","hash",i)),T(!i.search||!i.search.includes("#"),W("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?I(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o;return{pathname:r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t,search:Y(a),hash:$(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var G=function(e){return e.join("/").replace(/\/\/+/g,"/")},Q=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Y=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},$=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},X=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return n}(Object(l.a)(Error));var J=function e(t,n,r,i){Object(u.a)(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r};function Z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ee=["post","put","patch","delete"],te=new Set(ee),ne=["get"].concat(ee),re=new Set(ne),ie=new Set([301,302,303,307,308]),ae=new Set([307,308]),oe={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ue={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},se={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,le="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,fe=!le,he=function(e){return Boolean(e.hasErrorBoundary)};function de(e){T(e.routes.length>0,"You must provide a non-empty routes array to createRouter");var t,n=e.detectErrorBoundary||he,r={},u=R(e.routes,n,void 0,r),s=b({v7_normalizeFormMethod:!1},e.future),c=null,l=new Set,h=null,d=null,p=null,v=null!=e.hydrationData,w=A(u,e.history.location,e.basename),_=null;if(null==w){var O=Ie(404,{pathname:e.history.location.pathname}),E=je(u),C=E.matches,j=E.route;w=C,_=Object(o.a)({},j.id,O)}var I,N,P=!w.some((function(e){return e.route.lazy}))&&(!w.some((function(e){return e.route.loader}))||null!=e.hydrationData),D={historyAction:e.history.action,location:e.history.location,matches:w,initialized:P,navigation:oe,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||_,fetchers:new Map,blockers:new Map},L=y.Pop,M=!1,F=!1,U=!1,V=[],z=[],q=new Map,W=0,H=-1,K=new Map,G=new Set,Q=new Map,Y=new Map,$=new Map,X=!1;function J(e){D=b({},D,e),l.forEach((function(e){return e(D)}))}function Z(n,r){var i,a,o,s=null!=D.actionData&&null!=D.navigation.formMethod&&Ve(D.navigation.formMethod)&&"loading"===D.navigation.state&&!0!==(null==(i=n.state)?void 0:i._isRedirect);o=r.actionData?Object.keys(r.actionData).length>0?r.actionData:null:s?D.actionData:null;var c,l=r.loaderData?Ce(D.loaderData,r.loaderData,r.matches||[],r.errors):D.loaderData,h=Object(m.a)($);try{for(h.s();!(c=h.n()).done;){Ye(Object(f.a)(c.value,1)[0])}}catch(p){h.e(p)}finally{h.f()}var d=!0===M||null!=D.navigation.formMethod&&Ve(D.navigation.formMethod)&&!0!==(null==(a=n.state)?void 0:a._isRedirect);t&&(u=t,t=void 0),J(b({},r,{actionData:o,loaderData:l,historyAction:L,location:n,initialized:!0,navigation:oe,revalidation:"idle",restoreScrollPosition:et(n,r.matches||D.matches),preventScrollReset:d,blockers:new Map(D.blockers)})),F||L===y.Pop||(L===y.Push?e.history.push(n,n.state):L===y.Replace&&e.history.replace(n,n.state)),L=y.Pop,M=!1,F=!1,U=!1,V=[],z=[]}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Object(a.a)(i.a.mark((function t(n,r){var a,o,u,c,l,f,h,d,p,v;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("number"!==typeof n){t.next=3;break}return e.history.go(n),t.abrupt("return");case 3:if(a=pe(n,s,r),o=a.path,u=a.submission,c=a.error,l=D.location,f=b({},f=S(D.location,o,r&&r.state),e.history.encodeLocation(f)),h=r&&null!=r.replace?r.replace:void 0,d=y.Push,!0===h?d=y.Replace:!1===h||null!=u&&Ve(u.formMethod)&&u.formAction===D.location.pathname+D.location.search&&(d=y.Replace),p=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,!(v=Xe({currentLocation:l,nextLocation:f,historyAction:d}))){t.next=15;break}return $e(v,{state:"blocked",location:f,proceed:function(){$e(v,{state:"proceeding",proceed:void 0,reset:void 0,location:f}),ee(n,r)},reset:function(){Ye(v),J({blockers:new Map(D.blockers)})}}),t.abrupt("return");case 15:return t.next=17,ne(d,f,{submission:u,pendingError:c,preventScrollReset:p,replace:r&&r.replace});case 17:return t.abrupt("return",t.sent);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ne(e,t,n){return re.apply(this,arguments)}function re(){return(re=Object(a.a)(i.a.mark((function n(r,a,s){var c,l,f,h,d,p,v,y,m,g,k,w,_,O,E,T;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(N&&N.abort(),N=null,L=r,F=!0===(s&&s.startUninterruptedRevalidation),Ze(D.location,D.matches),M=!0===(s&&s.preventScrollReset),c=t||u,l=s&&s.overrideNavigation,f=A(c,a,e.basename)){n.next=15;break}return h=Ie(404,{pathname:a.pathname}),d=je(c),p=d.matches,v=d.route,Je(),Z(a,{matches:p,loaderData:{},errors:Object(o.a)({},v.id,h)}),n.abrupt("return");case 15:if(!Re(D.location,a)||s&&s.submission&&Ve(s.submission.formMethod)){n.next=18;break}return Z(a,{matches:f}),n.abrupt("return");case 18:if(N=new AbortController,y=Oe(e.history,a,N.signal,s&&s.submission),!s||!s.pendingError){n.next=24;break}g=Object(o.a)({},Se(f).route.id,s.pendingError),n.next=35;break;case 24:if(!(s&&s.submission&&Ve(s.submission.formMethod))){n.next=35;break}return n.next=27,ie(y,a,s.submission,f,{replace:s.replace});case 27:if(!(k=n.sent).shortCircuited){n.next=30;break}return n.abrupt("return");case 30:m=k.pendingActionData,g=k.pendingActionError,w=b({state:"loading",location:a},s.submission),l=w,y=new Request(y.url,{signal:y.signal});case 35:return n.next=37,ve(y,a,f,l,s&&s.submission,s&&s.fetcherSubmission,s&&s.replace,m,g);case 37:if(_=n.sent,O=_.shortCircuited,E=_.loaderData,T=_.errors,!O){n.next=43;break}return n.abrupt("return");case 43:N=null,Z(a,b({matches:f},m?{actionData:m}:{},{loaderData:E,errors:T}));case 45:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function ie(e,t,n,r,i){return de.apply(this,arguments)}function de(){return(de=Object(a.a)(i.a.mark((function e(t,a,u,s,c){var l,f,h,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Me(),J({navigation:b({state:"submitting",location:a},u)}),(f=Ge(s,a)).route.action||f.route.lazy){e.next=8;break}l={type:k.error,error:Ie(405,{method:t.method,pathname:a.pathname,routeId:f.route.id})},e.next=13;break;case 8:return e.next=10,we("action",t,f,s,r,n,I.basename);case 10:if(l=e.sent,!t.signal.aborted){e.next=13;break}return e.abrupt("return",{shortCircuited:!0});case 13:if(!Le(l)){e.next=18;break}return h=c&&null!=c.replace?c.replace:l.location===D.location.pathname+D.location.search,e.next=17,_e(D,l,{submission:u,replace:h});case 17:return e.abrupt("return",{shortCircuited:!0});case 18:if(!De(l)){e.next=22;break}return d=Se(s,f.route.id),!0!==(c&&c.replace)&&(L=y.Push),e.abrupt("return",{pendingActionData:{},pendingActionError:Object(o.a)({},d.route.id,l.error)});case 22:if(!Ae(l)){e.next=24;break}throw Ie(400,{type:"defer-action"});case 24:return e.abrupt("return",{pendingActionData:Object(o.a)({},f.route.id,l.data)});case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e,t,n,r,i,a,o,u,s){return me.apply(this,arguments)}function me(){return(me=Object(a.a)(i.a.mark((function n(r,a,o,s,c,l,h,d,p){var v,y,m,g,k,w,_,O,E,T,x,C,S,j,I,P,R,A;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((v=s)||(y=b({state:"loading",location:a,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},c),v=y),m=c||l?c||l:v.formMethod&&v.formAction&&v.formData&&v.formEncType?{formMethod:v.formMethod,formAction:v.formAction,formData:v.formData,formEncType:v.formEncType}:void 0,g=t||u,k=ye(e.history,D,o,m,a,U,V,z,Q,g,e.basename,d,p),w=Object(f.a)(k,2),_=w[0],O=w[1],Je((function(e){return!(o&&o.some((function(t){return t.route.id===e})))||_&&_.some((function(t){return t.route.id===e}))})),0!==_.length||0!==O.length){n.next=9;break}return Z(a,b({matches:o,loaderData:{},errors:p||null},d?{actionData:d}:{})),n.abrupt("return",{shortCircuited:!0});case 9:return F||(O.forEach((function(e){var t=D.fetchers.get(e.key),n={state:"loading",data:t&&t.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};D.fetchers.set(e.key,n)})),E=d||D.actionData,J(b({navigation:v},E?0===Object.keys(E).length?{actionData:null}:{actionData:E}:{},O.length>0?{fetchers:new Map(D.fetchers)}:{}))),H=++W,O.forEach((function(e){return q.set(e.key,N)})),n.next=14,Te(D.matches,o,_,O,r);case 14:if(T=n.sent,x=T.results,C=T.loaderResults,S=T.fetcherResults,!r.signal.aborted){n.next=20;break}return n.abrupt("return",{shortCircuited:!0});case 20:if(O.forEach((function(e){return q.delete(e.key)})),!(j=Ne(x))){n.next=26;break}return n.next=25,_e(D,j,{replace:h});case 25:return n.abrupt("return",{shortCircuited:!0});case 26:return I=xe(D,o,_,C,p,O,S,Y),P=I.loaderData,R=I.errors,Y.forEach((function(e,t){e.subscribe((function(n){(n||e.done)&&Y.delete(t)}))})),He(),A=Qe(H),n.abrupt("return",b({loaderData:P,errors:R},A||O.length>0?{fetchers:new Map(D.fetchers)}:{}));case 31:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function ge(e){return D.fetchers.get(e)||ue}function be(){return(be=Object(a.a)(i.a.mark((function a(s,c,l,h,d,p){var v,y,m,g,k,w,_,O,E,x,C,S,j,P,R,M,F,B,$,X,ee,te,ne,re,ie,ae,oe;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(Me(),Q.delete(s),h.route.action||h.route.lazy){i.next=6;break}return v=Ie(405,{method:p.formMethod,pathname:l,routeId:c}),Fe(s,c,v),i.abrupt("return");case 6:return y=D.fetchers.get(s),m=b({state:"submitting"},p,{data:y&&y.data," _hasFetcherDoneAnything ":!0}),D.fetchers.set(s,m),J({fetchers:new Map(D.fetchers)}),g=new AbortController,k=Oe(e.history,l,g.signal,p),q.set(s,g),i.next=15,we("action",k,h,d,r,n,I.basename);case 15:if(w=i.sent,!k.signal.aborted){i.next=19;break}return q.get(s)===g&&q.delete(s),i.abrupt("return");case 19:if(!Le(w)){i.next=26;break}return q.delete(s),G.add(s),_=b({state:"loading"},p,{data:void 0," _hasFetcherDoneAnything ":!0}),D.fetchers.set(s,_),J({fetchers:new Map(D.fetchers)}),i.abrupt("return",_e(D,w,{submission:p,isFetchActionRedirect:!0}));case 26:if(!De(w)){i.next=29;break}return Fe(s,c,w.error),i.abrupt("return");case 29:if(!Ae(w)){i.next=31;break}throw Ie(400,{type:"defer-action"});case 31:return O=D.navigation.location||D.location,E=Oe(e.history,O,g.signal),x=t||u,T(C="idle"!==D.navigation.state?A(x,D.navigation.location,e.basename):D.matches,"Didn't find any matches after fetcher action"),S=++W,K.set(s,S),j=b({state:"loading",data:w.data},p,{" _hasFetcherDoneAnything ":!0}),D.fetchers.set(s,j),P=ye(e.history,D,C,p,O,U,V,z,Q,x,e.basename,Object(o.a)({},h.route.id,w.data),void 0),R=Object(f.a)(P,2),M=R[0],(F=R[1]).filter((function(e){return e.key!==s})).forEach((function(e){var t=e.key,n=D.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};D.fetchers.set(t,r),q.set(t,g)})),J({fetchers:new Map(D.fetchers)}),i.next=45,Te(D.matches,C,M,F,E);case 45:if(B=i.sent,$=B.results,X=B.loaderResults,ee=B.fetcherResults,!g.signal.aborted){i.next=51;break}return i.abrupt("return");case 51:if(K.delete(s),q.delete(s),F.forEach((function(e){return q.delete(e.key)})),!(te=Ne($))){i.next=57;break}return i.abrupt("return",_e(D,te));case 57:ne=xe(D,D.matches,M,X,void 0,F,ee,Y),re=ne.loaderData,ie=ne.errors,ae={state:"idle",data:w.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0},D.fetchers.set(s,ae),oe=Qe(S),"loading"===D.navigation.state&&S>H?(T(L,"Expected pending action"),N&&N.abort(),Z(D.navigation.location,{matches:C,loaderData:re,errors:ie,fetchers:new Map(D.fetchers)})):(J(b({errors:ie,loaderData:Ce(D.loaderData,re,C,ie)},oe?{fetchers:new Map(D.fetchers)}:{})),U=!1);case 62:case"end":return i.stop()}}),a)})))).apply(this,arguments)}function ke(){return(ke=Object(a.a)(i.a.mark((function t(a,u,s,c,l,f){var h,d,p,v,y,m,g;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h=D.fetchers.get(a),d=b({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},f,{data:h&&h.data," _hasFetcherDoneAnything ":!0}),D.fetchers.set(a,d),J({fetchers:new Map(D.fetchers)}),p=new AbortController,v=Oe(e.history,s,p.signal),q.set(a,p),t.next=9,we("loader",v,c,l,r,n,I.basename);case 9:if(!Ae(y=t.sent)){t.next=17;break}return t.next=13,Be(y,v.signal,!0);case 13:if(t.t0=t.sent,t.t0){t.next=16;break}t.t0=y;case 16:y=t.t0;case 17:if(q.get(a)===p&&q.delete(a),!v.signal.aborted){t.next=20;break}return t.abrupt("return");case 20:if(!Le(y)){t.next=24;break}return t.next=23,_e(D,y);case 23:return t.abrupt("return");case 24:if(!De(y)){t.next=29;break}return m=Se(D.matches,u),D.fetchers.delete(a),J({fetchers:new Map(D.fetchers),errors:Object(o.a)({},m.route.id,y.error)}),t.abrupt("return");case 29:T(!Ae(y),"Unhandled fetcher deferred data"),g={state:"idle",data:y.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0},D.fetchers.set(a,g),J({fetchers:new Map(D.fetchers)});case 33:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _e(e,t,n){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(a.a)(i.a.mark((function t(n,r,a){var o,u,s,c,l,f,h,d,p,v,m,g,k,w;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=(u=void 0===a?{}:a).submission,c=u.replace,l=u.isFetchActionRedirect,r.revalidate&&(U=!0),T(f=S(n.location,r.location,b({_isRedirect:!0},l?{_isFetchActionRedirect:!0}:{})),"Expected a location on the redirect navigation"),!ce.test(r.location)||!le||"undefined"===typeof(null==(o=window)?void 0:o.location)){t.next=10;break}if(h=e.history.createURL(r.location),d=null==B(h.pathname,e.basename||"/"),window.location.origin===h.origin&&!d){t.next=10;break}return c?window.location.replace(r.location):window.location.assign(r.location),t.abrupt("return");case 10:if(N=null,p=!0===c?y.Replace:y.Push,v=n.navigation,m=v.formMethod,g=v.formAction,k=v.formEncType,w=v.formData,!s&&m&&g&&w&&k&&(s={formMethod:m,formAction:g,formEncType:k,formData:w}),!(ae.has(r.status)&&s&&Ve(s.formMethod))){t.next=19;break}return t.next=17,ne(p,f,{submission:b({},s,{formAction:r.location}),preventScrollReset:M});case 17:t.next=26;break;case 19:if(!l){t.next=24;break}return t.next=22,ne(p,f,{overrideNavigation:{state:"loading",location:f,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:s,preventScrollReset:M});case 22:t.next=26;break;case 24:return t.next=26,ne(p,f,{overrideNavigation:{state:"loading",location:f,formMethod:s?s.formMethod:void 0,formAction:s?s.formAction:void 0,formEncType:s?s.formEncType:void 0,formData:s?s.formData:void 0},preventScrollReset:M});case 26:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Te(e,t,n,r,i){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(a.a)(i.a.mark((function t(a,o,u,s,c){var l,f,h;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([].concat(Object(g.a)(u.map((function(e){return we("loader",c,e,o,r,n,I.basename)}))),Object(g.a)(s.map((function(t){return t.matches&&t.match?we("loader",Oe(e.history,t.path,c.signal),t.match,t.matches,r,n,I.basename):{type:k.error,error:Ie(404,{pathname:t.path})}})))));case 2:return l=t.sent,f=l.slice(0,u.length),h=l.slice(u.length),t.next=7,Promise.all([ze(a,u,f,c.signal,!1,D.loaderData),ze(a,s.map((function(e){return e.match})),h,c.signal,!0)]);case 7:return t.abrupt("return",{results:l,loaderResults:f,fetcherResults:h});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Me(){var e;U=!0,(e=V).push.apply(e,Object(g.a)(Je())),Q.forEach((function(e,t){q.has(t)&&(z.push(t),qe(t))}))}function Fe(e,t,n){var r=Se(D.matches,t);Ue(e),J({errors:Object(o.a)({},r.route.id,n),fetchers:new Map(D.fetchers)})}function Ue(e){q.has(e)&&qe(e),Q.delete(e),K.delete(e),G.delete(e),D.fetchers.delete(e)}function qe(e){var t=q.get(e);T(t,"Expected fetch controller: "+e),t.abort(),q.delete(e)}function We(e){var t,n=Object(m.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i={state:"idle",data:ge(r).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};D.fetchers.set(r,i)}}catch(a){n.e(a)}finally{n.f()}}function He(){var e,t=[],n=Object(m.a)(G);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=D.fetchers.get(r);T(i,"Expected fetcher: "+r),"loading"===i.state&&(G.delete(r),t.push(r))}}catch(a){n.e(a)}finally{n.f()}We(t)}function Qe(e){var t,n=[],r=Object(m.a)(K);try{for(r.s();!(t=r.n()).done;){var i=Object(f.a)(t.value,2),a=i[0];if(i[1]<e){var o=D.fetchers.get(a);T(o,"Expected fetcher: "+a),"loading"===o.state&&(qe(a),K.delete(a),n.push(a))}}}catch(u){r.e(u)}finally{r.f()}return We(n),n.length>0}function Ye(e){D.blockers.delete(e),$.delete(e)}function $e(e,t){var n=D.blockers.get(e)||se;T("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state),D.blockers.set(e,t),J({blockers:new Map(D.blockers)})}function Xe(e){var t=e.currentLocation,n=e.nextLocation,r=e.historyAction;if(0!==$.size){$.size>1&&x(!1,"A router only supports one blocker at a time");var i=Array.from($.entries()),a=Object(f.a)(i[i.length-1],2),o=a[0],u=a[1],s=D.blockers.get(o);if(!s||"proceeding"!==s.state)return u({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}}function Je(e){var t=[];return Y.forEach((function(n,r){e&&!e(r)||(n.cancel(),t.push(r),Y.delete(r))})),t}function Ze(e,t){if(h&&d&&p){var n=t.map((function(e){return Ke(e,D.loaderData)})),r=d(e,n)||e.key;h[r]=p()}}function et(e,t){if(h&&d&&p){var n=t.map((function(e){return Ke(e,D.loaderData)})),r=d(e,n)||e.key,i=h[r];if("number"===typeof i)return i}return null}return I={get basename(){return e.basename},get state(){return D},get routes(){return u},initialize:function(){return c=e.history.listen((function(t){var n=t.action,r=t.location,i=t.delta;if(!X){x(0===$.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");var a=Xe({currentLocation:D.location,nextLocation:r,historyAction:n});return a&&null!=i?(X=!0,e.history.go(-1*i),void $e(a,{state:"blocked",location:r,proceed:function(){$e(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset:function(){Ye(a),J({blockers:new Map(I.state.blockers)})}})):ne(n,r)}X=!1})),D.initialized||ne(y.Pop,D.location),I},subscribe:function(e){return l.add(e),function(){return l.delete(e)}},enableScrollRestoration:function(e,t,n){if(h=e,p=t,d=n||function(e){return e.key},!v&&D.navigation===oe){v=!0;var r=et(D.location,D.matches);null!=r&&J({restoreScrollPosition:r})}return function(){h=null,p=null,d=null}},navigate:ee,fetch:function(n,r,i,a){if(fe)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");q.has(n)&&qe(n);var o=A(t||u,i,e.basename);if(o){var c=pe(i,s,a,!0),l=c.path,f=c.submission,h=Ge(o,l);M=!0===(a&&a.preventScrollReset),f&&Ve(f.formMethod)?function(e,t,n,r,i,a){be.apply(this,arguments)}(n,r,l,h,o,f):(Q.set(n,{routeId:r,path:l}),function(e,t,n,r,i,a){ke.apply(this,arguments)}(n,r,l,h,o,f))}else Fe(n,r,Ie(404,{pathname:i}))},revalidate:function(){Me(),J({revalidation:"loading"}),"submitting"!==D.navigation.state&&("idle"!==D.navigation.state?ne(L||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation}):ne(D.historyAction,D.location,{startUninterruptedRevalidation:!0}))},createHref:function(t){return e.history.createHref(t)},encodeLocation:function(t){return e.history.encodeLocation(t)},getFetcher:ge,deleteFetcher:Ue,dispose:function(){c&&c(),l.clear(),N&&N.abort(),D.fetchers.forEach((function(e,t){return Ue(t)})),D.blockers.forEach((function(e,t){return Ye(t)}))},getBlocker:function(e,t){var n=D.blockers.get(e)||se;return $.get(e)!==t&&$.set(e,t),n},deleteBlocker:Ye,_internalFetchControllers:q,_internalActiveDeferreds:Y,_internalSetRoutes:function(e){t=e}}}Symbol("deferred");function pe(e,t,n,r){void 0===r&&(r=!1);var i,a="string"===typeof e?e:j(e);if(!n||!function(e){return null!=e&&"formData"in e}(n))return{path:a};if(n.formMethod&&!Ue(n.formMethod))return{path:a,error:Ie(405,{method:n.formMethod})};if(n.formData){var o=n.formMethod||"get";if(Ve((i={formMethod:t.v7_normalizeFormMethod?o.toUpperCase():o.toLowerCase(),formAction:Pe(a),formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:n.formData}).formMethod))return{path:a,submission:i}}var u=I(a),s=Ee(n.formData);return r&&u.search&&He(u.search)&&s.append("index",""),u.search="?"+s,{path:j(u),submission:i}}function ve(e,t){var n=e;if(t){var r=e.findIndex((function(e){return e.route.id===t}));r>=0&&(n=e.slice(0,r))}return n}function ye(e,t,n,r,i,a,o,u,s,c,l,f,h){var d=h?Object.values(h)[0]:f?Object.values(f)[0]:void 0,p=e.createURL(t.location),v=e.createURL(i),y=a||p.toString()===v.toString()||p.search!==v.search,m=h?Object.keys(h)[0]:void 0,g=ve(n,m).filter((function(e,n){if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,n){var r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||o.some((function(t){return t===e.route.id})))return!0;var i=t.matches[n],a=e;return ge(e,b({currentUrl:p,currentParams:i.params,nextUrl:v,nextParams:a.params},r,{actionResult:d,defaultShouldRevalidate:y||me(i,a)}))})),k=[];return s.forEach((function(e,i){if(n.some((function(t){return t.route.id===e.routeId}))){var a=A(c,e.path,l);if(a){var o=Ge(a,e.path);if(u.includes(i))k.push(b({key:i,matches:a,match:o},e));else ge(o,b({currentUrl:p,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:d,defaultShouldRevalidate:y}))&&k.push(b({key:i,matches:a,match:o},e))}else k.push(b({key:i},e,{matches:null,match:null}))}})),[g,k]}function me(e,t){var n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ge(e,t){if(e.route.shouldRevalidate){var n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function be(e,t,n){return ke.apply(this,arguments)}function ke(){return(ke=Object(a.a)(i.a.mark((function e(t,n,r){var a,o,u,s,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.lazy){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.lazy();case 4:if(a=e.sent,t.lazy){e.next=7;break}return e.abrupt("return");case 7:for(s in T(o=r[t.id],"No route found in manifest"),u={},a)c=o[s],x(!(l=void 0!==c&&"hasErrorBoundary"!==s),'Route "'+o.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+s+'" will be ignored.'),l||P.has(s)||(u[s]=a[s]);Object.assign(o,u),Object.assign(o,{hasErrorBoundary:n(b({},o)),lazy:void 0});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e,t,n,r,i,a,o,u,s,c){return _e.apply(this,arguments)}function _e(){return(_e=Object(a.a)(i.a.mark((function e(t,n,r,a,o,u,s,c,l,f){var h,d,p,v,y,m,g,b,w,_,O,E,x,C,S,I,N,P,R;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===s&&(s="/"),void 0===c&&(c=!1),void 0===l&&(l=!1),v=function(e){var t,i=new Promise((function(e,n){return t=n}));return p=function(){return t()},n.signal.addEventListener("abort",p),Promise.race([e({request:n,params:r.params,context:f}),i])},e.prev=4,y=r.route[t],!r.route.lazy){e.next=30;break}if(!y){e.next=14;break}return e.next=10,Promise.all([v(y),be(r.route,u,o)]);case 10:m=e.sent,d=m[0],e.next=28;break;case 14:return e.next=16,be(r.route,u,o);case 16:if(!(y=r.route[t])){e.next=23;break}return e.next=20,v(y);case 20:d=e.sent,e.next=28;break;case 23:if("action"!==t){e.next=27;break}throw Ie(405,{method:n.method,pathname:new URL(n.url).pathname,routeId:r.route.id});case 27:return e.abrupt("return",{type:k.data,data:void 0});case 28:e.next=34;break;case 30:return T(y,"Could not find the "+t+' to run on the "'+r.route.id+'" route'),e.next=33,v(y);case 33:d=e.sent;case 34:T(void 0!==d,"You defined "+("action"===t?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+t+"` function. Please return a value or `null`."),e.next=41;break;case 37:e.prev=37,e.t0=e.catch(4),h=k.error,d=e.t0;case 41:return e.prev=41,p&&n.signal.removeEventListener("abort",p),e.finish(41);case 44:if(!Fe(d)){e.next=69;break}if(g=d.status,!ie.has(g)){e.next=54;break}if(T(b=d.headers.get("Location"),"Redirects returned/thrown from loaders/actions must have a Location header"),ce.test(b)?c||(x=new URL(n.url),C=b.startsWith("//")?new URL(x.protocol+b):new URL(b),S=null!=B(C.pathname,s),C.origin===x.origin&&S&&(b=C.pathname+C.search+C.hash)):(w=a.slice(0,a.indexOf(r)+1),_=H(w).map((function(e){return e.pathnameBase})),T(j(O=K(b,_,new URL(n.url).pathname)),"Unable to resolve redirect location: "+b),s&&(E=O.pathname,O.pathname="/"===E?s:G([s,E])),b=j(O)),!c){e.next=53;break}throw d.headers.set("Location",b),d;case 53:return e.abrupt("return",{type:k.redirect,status:g,location:b,revalidate:null!==d.headers.get("X-Remix-Revalidate")});case 54:if(!l){e.next=56;break}throw{type:h||k.data,response:d};case 56:if(!(N=d.headers.get("Content-Type"))||!/\bapplication\/json\b/.test(N)){e.next=63;break}return e.next=60,d.json();case 60:I=e.sent,e.next=66;break;case 63:return e.next=65,d.text();case 65:I=e.sent;case 66:if(h!==k.error){e.next=68;break}return e.abrupt("return",{type:h,error:new J(g,d.statusText,I),headers:d.headers});case 68:return e.abrupt("return",{type:k.data,data:I,statusCode:d.status,headers:d.headers});case 69:if(h!==k.error){e.next=71;break}return e.abrupt("return",{type:h,error:d});case 71:if(!Me(d)){e.next=73;break}return e.abrupt("return",{type:k.deferred,deferredData:d,statusCode:null==(P=d.init)?void 0:P.status,headers:(null==(R=d.init)?void 0:R.headers)&&new Headers(d.init.headers)});case 73:return e.abrupt("return",{type:k.data,data:d});case 74:case"end":return e.stop()}}),e,null,[[4,37,41,44]])})))).apply(this,arguments)}function Oe(e,t,n,r){var i=e.createURL(Pe(t)).toString(),a={signal:n};if(r&&Ve(r.formMethod)){var o=r.formMethod,u=r.formEncType,s=r.formData;a.method=o.toUpperCase(),a.body="application/x-www-form-urlencoded"===u?Ee(s):s}return new Request(i,a)}function Ee(e){var t,n=new URLSearchParams,r=Object(m.a)(e.entries());try{for(r.s();!(t=r.n()).done;){var i=Object(f.a)(t.value,2),a=i[0],o=i[1];n.append(a,o instanceof File?o.name:o)}}catch(u){r.e(u)}finally{r.f()}return n}function Te(e,t,n,r,i){var a,o={},u=null,s=!1,c={};return n.forEach((function(n,l){var f=t[l].route.id;if(T(!Le(n),"Cannot handle redirect results in processLoaderData"),De(n)){var h=Se(e,f),d=n.error;r&&(d=Object.values(r)[0],r=void 0),null==(u=u||{})[h.route.id]&&(u[h.route.id]=d),o[f]=void 0,s||(s=!0,a=Z(n.error)?n.error.status:500),n.headers&&(c[f]=n.headers)}else Ae(n)?(i.set(f,n.deferredData),o[f]=n.deferredData.data):o[f]=n.data,null==n.statusCode||200===n.statusCode||s||(a=n.statusCode),n.headers&&(c[f]=n.headers)})),r&&(u=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:u,statusCode:a||200,loaderHeaders:c}}function xe(e,t,n,r,i,a,u,s){for(var c=Te(t,n,r,i,s),l=c.loaderData,f=c.errors,h=0;h<a.length;h++){var d=a[h],p=d.key,v=d.match;T(void 0!==u&&void 0!==u[h],"Did not find corresponding fetcher result");var y=u[h];if(De(y)){var m=Se(e.matches,null==v?void 0:v.route.id);f&&f[m.route.id]||(f=b({},f,Object(o.a)({},m.route.id,y.error))),e.fetchers.delete(p)}else if(Le(y))T(!1,"Unhandled fetcher revalidation redirect");else if(Ae(y))T(!1,"Unhandled fetcher deferred data");else{var g={state:"idle",data:y.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(p,g)}}return{loaderData:l,errors:f}}function Ce(e,t,n,r){var i,a=b({},t),o=Object(m.a)(n);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.route.id;if(t.hasOwnProperty(s)?void 0!==t[s]&&(a[s]=t[s]):void 0!==e[s]&&u.route.loader&&(a[s]=e[s]),r&&r.hasOwnProperty(s))break}}catch(c){o.e(c)}finally{o.f()}return a}function Se(e,t){return(t?e.slice(0,e.findIndex((function(e){return e.route.id===t}))+1):Object(g.a)(e)).reverse().find((function(e){return!0===e.route.hasErrorBoundary}))||e[0]}function je(e){var t=e.find((function(e){return e.index||!e.path||"/"===e.path}))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ie(e,t){var n=void 0===t?{}:t,r=n.pathname,i=n.routeId,a=n.method,o=n.type,u="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(u="Bad Request",a&&r&&i?s="You made a "+a+' request to "'+r+'" but did not provide a `loader` for route "'+i+'", so there is no way to handle the request.':"defer-action"===o&&(s="defer() is not supported in actions")):403===e?(u="Forbidden",s='Route "'+i+'" does not match URL "'+r+'"'):404===e?(u="Not Found",s='No route matches URL "'+r+'"'):405===e&&(u="Method Not Allowed",a&&r&&i?s="You made a "+a.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+i+'", so there is no way to handle the request.':a&&(s='Invalid request method "'+a.toUpperCase()+'"')),new J(e||500,u,new Error(s),!0)}function Ne(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if(Le(n))return n}}function Pe(e){return j(b({},"string"===typeof e?I(e):e,{hash:""}))}function Re(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function Ae(e){return e.type===k.deferred}function De(e){return e.type===k.error}function Le(e){return(e&&e.type)===k.redirect}function Me(e){var t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}function Fe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Ue(e){return re.has(e.toLowerCase())}function Ve(e){return te.has(e.toLowerCase())}function ze(e,t,n,r,i,a){return qe.apply(this,arguments)}function qe(){return(qe=Object(a.a)(i.a.mark((function e(t,n,r,a,o,u){var s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=i.a.mark((function e(s){var c,l,f,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r[s],l=n[s]){e.next=4;break}return e.abrupt("return","continue");case 4:if(f=t.find((function(e){return e.route.id===l.route.id})),h=null!=f&&!me(f,l)&&void 0!==(u&&u[l.route.id]),!Ae(c)||!o&&!h){e.next=9;break}return e.next=9,Be(c,a,o).then((function(e){e&&(r[s]=e||r[s])}));case 9:case"end":return e.stop()}}),e)})),c=0;case 2:if(!(c<r.length)){e.next=10;break}return e.delegateYield(s(c),"t0",4);case 4:if("continue"!==e.t0){e.next=7;break}return e.abrupt("continue",7);case 7:c++,e.next=2;break;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e,t,n){return We.apply(this,arguments)}function We(){return(We=Object(a.a)(i.a.mark((function e(t,n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,t.deferredData.resolveData(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=14;break}return e.prev=7,e.abrupt("return",{type:k.data,data:t.deferredData.unwrappedData});case 11:return e.prev=11,e.t0=e.catch(7),e.abrupt("return",{type:k.error,error:e.t0});case 14:return e.abrupt("return",{type:k.data,data:t.deferredData.data});case 15:case"end":return e.stop()}}),e,null,[[7,11]])})))).apply(this,arguments)}function He(e){return new URLSearchParams(e).getAll("index").some((function(e){return""===e}))}function Ke(e,t){var n=e.route,r=e.pathname,i=e.params;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function Ge(e,t){var n="string"===typeof t?I(t).search:t.search;if(e[e.length-1].route.index&&He(n||""))return e[e.length-1];var r=H(e);return r[r.length-1]}},function(e,t,n){"use strict";e.exports=n(60)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(39);var i=n(28),a=n(40);function o(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return H})),n.d(t,"b",(function(){return K})),n.d(t,"c",(function(){return G})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return $})),n.d(t,"i",(function(){return B})),n.d(t,"j",(function(){return x})),n.d(t,"k",(function(){return S})),n.d(t,"l",(function(){return z})),n.d(t,"m",(function(){return j})),n.d(t,"n",(function(){return V})),n.d(t,"o",(function(){return I}));var r=n(15),i=n(1),a=n(2),o=n(8),u=n(9),s=n(12),c=n(10),l=n(5);var f="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},h=l.useState,d=l.useEffect,p=l.useLayoutEffect,v=l.useDebugValue;function y(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!f(n,r)}catch(i){return!0}}var m=!!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?function(e,t,n){return t()}:function(e,t,n){var r=t(),i=h({inst:{value:r,getSnapshot:t}}),a=Object(s.a)(i,2),o=a[0].inst,u=a[1];return p((function(){o.value=r,o.getSnapshot=t,y(o)&&u({inst:o})}),[e,r,t]),d((function(){y(o)&&u({inst:o});return e((function(){y(o)&&u({inst:o})}))}),[e]),v(r),r},g=("useSyncExternalStore"in l&&function(e){e.useSyncExternalStore}(l),l.createContext(null));var b=l.createContext(null);var k=l.createContext(null);var w=l.createContext(null);var _=l.createContext(null);var O=l.createContext({outlet:null,matches:[]});var E=l.createContext(null);function T(){return(T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t){var n=(void 0===t?{}:t).relative;C()||Object(c.e)(!1);var r=l.useContext(w),i=r.basename,a=r.navigator,o=I(e,{relative:n}),u=o.hash,s=o.pathname,f=o.search,h=s;return"/"!==i&&(h="/"===s?i:Object(c.l)([i,s])),a.createHref({pathname:h,search:f,hash:u})}function C(){return null!=l.useContext(_)}function S(){return C()||Object(c.e)(!1),l.useContext(_).location}function j(){C()||Object(c.e)(!1);var e=l.useContext(w),t=e.basename,n=e.navigator,r=l.useContext(O).matches,i=S().pathname,a=JSON.stringify(Object(c.d)(r).map((function(e){return e.pathnameBase}))),o=l.useRef(!1);return l.useEffect((function(){o.current=!0})),l.useCallback((function(e,r){if(void 0===r&&(r={}),o.current)if("number"!==typeof e){var u=Object(c.p)(e,JSON.parse(a),i,"path"===r.relative);"/"!==t&&(u.pathname="/"===u.pathname?t:Object(c.l)([t,u.pathname])),(r.replace?n.replace:n.push)(u,r.state,r)}else n.go(e)}),[t,n,a,i])}function I(e,t){var n=(void 0===t?{}:t).relative,r=l.useContext(O).matches,i=S().pathname,a=JSON.stringify(Object(c.d)(r).map((function(e){return e.pathnameBase})));return l.useMemo((function(){return Object(c.p)(e,JSON.parse(a),i,"path"===n)}),[e,a,i,n])}function N(){var e=function(){var e,t=l.useContext(E),n=F(R.UseRouteError),r=U(R.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=Object(c.k)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},t),n?l.createElement("pre",{style:i},n):null,null)}var P,R,A=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return Object(a.a)(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?l.createElement(O.Provider,{value:this.props.routeContext},l.createElement(E.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(l.Component);function D(e){var t=e.routeContext,n=e.match,r=e.children,i=l.useContext(g);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),l.createElement(O.Provider,{value:t},r)}function L(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var r=e,i=null==n?void 0:n.errors;if(null!=i){var a=r.findIndex((function(e){return e.route.id&&(null==i?void 0:i[e.route.id])}));a>=0||Object(c.e)(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((function(e,a,o){var u=a.route.id?null==i?void 0:i[a.route.id]:null,s=null;n&&(s=a.route.ErrorBoundary?l.createElement(a.route.ErrorBoundary,null):a.route.errorElement?a.route.errorElement:l.createElement(N,null));var c=t.concat(r.slice(0,o+1)),f=function(){var t=e;return u?t=s:a.route.Component?t=l.createElement(a.route.Component,null):a.route.element&&(t=a.route.element),l.createElement(D,{match:a,routeContext:{outlet:e,matches:c},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===o)?l.createElement(A,{location:n.location,component:s,error:u,children:f(),routeContext:{outlet:null,matches:c}}):f()}),null)}function M(e){var t=l.useContext(g);return t||Object(c.e)(!1),t}function F(e){var t=l.useContext(b);return t||Object(c.e)(!1),t}function U(e){var t=function(e){var t=l.useContext(O);return t||Object(c.e)(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||Object(c.e)(!1),n.route.id}function V(){return F(R.UseNavigation).navigation}function z(){var e=F(R.UseMatches),t=e.matches,n=e.loaderData;return l.useMemo((function(){return t.map((function(e){var t=e.pathname,r=e.params;return{id:e.route.id,pathname:t,params:r,data:n[e.route.id],handle:e.route.handle}}))}),[t,n])}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(P||(P={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(R||(R={}));var q=0;function B(e){var t=M(P.UseBlocker).router,n=F(R.UseBlocker),r=l.useState((function(){return String(++q)})),i=Object(s.a)(r,1)[0],a=l.useCallback((function(t){return"function"===typeof e?!!e(t):!!e}),[e]),o=t.getBlocker(i,a);return l.useEffect((function(){return function(){return t.deleteBlocker(i)}}),[t,i]),n.blockers.get(i)||o}var W;function H(e){Object(c.e)(!1)}function K(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,a=e.location,o=e.navigationType,u=void 0===o?c.b.Pop:o,s=e.navigator,f=e.static,h=void 0!==f&&f;C()&&Object(c.e)(!1);var d=n.replace(/^\/*/,"/"),p=l.useMemo((function(){return{basename:d,navigator:s,static:h}}),[d,s,h]);"string"===typeof a&&(a=Object(c.o)(a));var v=a,y=v.pathname,m=void 0===y?"/":y,g=v.search,b=void 0===g?"":g,k=v.hash,O=void 0===k?"":k,E=v.state,T=void 0===E?null:E,x=v.key,S=void 0===x?"default":x,j=l.useMemo((function(){var e=Object(c.q)(m,d);return null==e?null:{location:{pathname:e,search:b,hash:O,state:T,key:S},navigationType:u}}),[d,m,b,O,T,S,u]);return null==j?null:l.createElement(w.Provider,{value:p},l.createElement(_.Provider,{children:i,value:j}))}function G(e){var t=e.children,n=e.location,r=l.useContext(g);return function(e,t){C()||Object(c.e)(!1);var n,r=l.useContext(w).navigator,i=l.useContext(b),a=l.useContext(O).matches,o=a[a.length-1],u=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),f=(o&&o.route,S());if(t){var h,d="string"===typeof t?Object(c.o)(t):t;"/"===s||(null==(h=d.pathname)?void 0:h.startsWith(s))||Object(c.e)(!1),n=d}else n=f;var p=n.pathname||"/",v="/"===s?p:p.slice(s.length)||"/",y=Object(c.n)(e,{pathname:v}),m=L(y&&y.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Object(c.l)([s,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?s:Object(c.l)([s,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),a,i||void 0);return t&&m?l.createElement(_.Provider,{value:{location:T({pathname:"/",search:"",hash:"",state:null,key:"default"},n),navigationType:c.b.Pop}},m):m}(r&&!t?r.router.routes:Y(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(W||(W={}));var Q=new Promise((function(){}));l.Component;function Y(e,t){void 0===t&&(t=[]);var n=[];return l.Children.forEach(e,(function(e,i){if(l.isValidElement(e)){var a=[].concat(Object(r.a)(t),[i]);if(e.type!==l.Fragment){e.type!==H&&Object(c.e)(!1),e.props.index&&e.props.children&&Object(c.e)(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Y(e.props.children,a)),n.push(o)}else n.push.apply(n,Y(e.props.children,a))}})),n}function $(e){return Boolean(e.ErrorBoundary)||Boolean(e.errorElement)}},function(e,t,n){e.exports=n(63)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(34);var i=n(41),a=n(28);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(6);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";var r=n(48);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"d",(function(){return r.d})),n.d(t,"e",(function(){return r.e})),n.d(t,"f",(function(){return r.f})),n.d(t,"g",(function(){return r.g})),n.d(t,"h",(function(){return r.h})),n.d(t,"i",(function(){return r.i})),n.d(t,"j",(function(){return r.j})),n.d(t,"k",(function(){return r.k}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return Q})),n.d(t,"b",(function(){return B})),n.d(t,"c",(function(){return q})),n.d(t,"d",(function(){return W})),n.d(t,"e",(function(){return $})),n.d(t,"f",(function(){return Y})),n.d(t,"g",(function(){return X}));var r,i,a=n(15),o=n(0),u=n.n(o),s=n(3),c=n(7),l=n(6),f=n(1),h=n(2),d=n(24),p=n(21),v=n(4),y=n(16);var m=new WeakMap,g=new WeakMap,b=new WeakMap,k=new WeakMap,w=new WeakMap;var _={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return g.get(e);if("objectStoreNames"===t)return e.objectStoreNames||b.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return T(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function O(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(x(this),n),T(m.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return T(e.apply(x(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[x(this),t].concat(r));return b.set(a,t.sort?t.sort():[t]),T(a)}}function E(e){return"function"===typeof e?O(e):(e instanceof IDBTransaction&&function(e){if(!g.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));g.set(e,t)}}(e),t=e,(r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,_):e);var t}function T(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(T(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&m.set(t,e)})).catch((function(){})),w.set(t,e),t}(e);if(k.has(e))return k.get(e);var t=E(e);return t!==e&&(k.set(e,t),w.set(t,e)),t}var x=function(e){return w.get(e)};var C,S,j=["get","getKey","getAll","getAllKeys","count"],I=["put","add","delete","clear"],N=new Map;function P(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(N.get(t))return N.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=I.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||j.includes(n))){var a=function(){var e=Object(s.a)(u.a.mark((function e(t){var a,o,s,c,l,f,h=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,c=h.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=h[f];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return N.set(t,a),a}}}_=function(e){return Object(y.a)(Object(y.a)({},e),{},{get:function(t,n,r){return P(t,n)||e.get(t,n,r)},has:function(t,n){return!!P(t,n)||e.has(t,n)}})}(_);var R=function(){function e(t){Object(f.a)(this,e),this.container=t}return Object(h.a)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var A="@firebase/app",D="0.9.7",L=new p.b("@firebase/app"),M="[DEFAULT]",F=(C={},Object(l.a)(C,A,"fire-core"),Object(l.a)(C,"@firebase/app-compat","fire-core-compat"),Object(l.a)(C,"@firebase/analytics","fire-analytics"),Object(l.a)(C,"@firebase/analytics-compat","fire-analytics-compat"),Object(l.a)(C,"@firebase/app-check","fire-app-check"),Object(l.a)(C,"@firebase/app-check-compat","fire-app-check-compat"),Object(l.a)(C,"@firebase/auth","fire-auth"),Object(l.a)(C,"@firebase/auth-compat","fire-auth-compat"),Object(l.a)(C,"@firebase/database","fire-rtdb"),Object(l.a)(C,"@firebase/database-compat","fire-rtdb-compat"),Object(l.a)(C,"@firebase/functions","fire-fn"),Object(l.a)(C,"@firebase/functions-compat","fire-fn-compat"),Object(l.a)(C,"@firebase/installations","fire-iid"),Object(l.a)(C,"@firebase/installations-compat","fire-iid-compat"),Object(l.a)(C,"@firebase/messaging","fire-fcm"),Object(l.a)(C,"@firebase/messaging-compat","fire-fcm-compat"),Object(l.a)(C,"@firebase/performance","fire-perf"),Object(l.a)(C,"@firebase/performance-compat","fire-perf-compat"),Object(l.a)(C,"@firebase/remote-config","fire-rc"),Object(l.a)(C,"@firebase/remote-config-compat","fire-rc-compat"),Object(l.a)(C,"@firebase/storage","fire-gcs"),Object(l.a)(C,"@firebase/storage-compat","fire-gcs-compat"),Object(l.a)(C,"@firebase/firestore","fire-fst"),Object(l.a)(C,"@firebase/firestore-compat","fire-fst-compat"),Object(l.a)(C,"fire-js","fire-js"),Object(l.a)(C,"firebase","fire-js-all"),C),U=new Map,V=new Map;function z(e,t){try{e.container.addComponent(t)}catch(n){L.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function q(e){var t=e.name;if(V.has(t))return L.debug("There were multiple attempts to register component ".concat(t,".")),!1;V.set(t,e);var n,r=Object(c.a)(U.values());try{for(r.s();!(n=r.n()).done;){z(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function B(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M;B(e,t).clearInstance(n)}var H=(S={},Object(l.a)(S,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(l.a)(S,"bad-app-name","Illegal App name: '{$appName}"),Object(l.a)(S,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Object(l.a)(S,"app-deleted","Firebase App named '{$appName}' already deleted"),Object(l.a)(S,"no-options","Need to provide options, when not being deployed to hosting via source."),Object(l.a)(S,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Object(l.a)(S,"invalid-log-argument","First argument to `onLog` must be null or a function."),Object(l.a)(S,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Object(l.a)(S,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Object(l.a)(S,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Object(l.a)(S,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),S),K=new v.b("app","Firebase",H),G=function(){function e(t,n,r){var i=this;Object(f.a)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new d.a("app",(function(){return i}),"PUBLIC"))}return Object(h.a)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw K.create("app-deleted",{appName:this._name})}}]),e}(),Q="9.19.1";function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:M,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw K.create("bad-app-name",{appName:String(a)});if(n||(n=Object(v.r)()),!n)throw K.create("no-options");var o=U.get(a);if(o){if(Object(v.o)(n,o.options)&&Object(v.o)(i,o.config))return o;throw K.create("duplicate-app",{appName:a})}var u,s=new d.b(a),l=Object(c.a)(V.values());try{for(l.s();!(u=l.n()).done;){var f=u.value;s.addComponent(f)}}catch(p){l.e(p)}finally{l.f()}var h=new G(n,i,s);return U.set(a,h),h}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=U.get(e);if(!t&&e===M)return Y();if(!t)throw K.create("no-app",{appName:e});return t}function X(e,t,n){var r,i=null!==(r=F[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void L.warn(u.join(" "))}q(new d.a("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var J="firebase-heartbeat-store",Z=null;function ee(){return Z||(Z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=T(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(T(u.result),e.oldVersion,e.newVersion,T(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){switch(t){case 0:e.createObjectStore(J)}}}).catch((function(e){throw K.create("idb-open",{originalErrorMessage:e.message})}))),Z}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(s.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee();case 3:return n=e.sent,e.abrupt("return",n.transaction(J).objectStore(J).get(ae(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof v.c?L.warn(e.t0.message):(r=K.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),L.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function re(e,t){return ie.apply(this,arguments)}function ie(){return(ie=Object(s.a)(u.a.mark((function e(t,n){var r,i,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee();case 3:return r=e.sent,i=r.transaction(J,"readwrite"),a=i.objectStore(J),e.next=8,a.put(n,ae(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof v.c?L.warn(e.t0.message):(o=K.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),L.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function ae(e){return"".concat(e.name,"!").concat(e.options.appId)}var oe=function(){function e(t){var n=this;Object(f.a)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new le(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Object(h.a)(e,[{key:"triggerHeartbeat",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=ue(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t,n,r,i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=ue(),n=se(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Object(v.j)(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ue(){return(new Date).toISOString().substring(0,10)}function se(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Object(c.a)(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),fe(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),fe(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ce,le=function(){function e(t){Object(f.a)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Object(h.a)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(v.B)()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Object(v.P)().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,te(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Object(s.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",re(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(s.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",re(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Object(a.a)(r.heartbeats),Object(a.a)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function fe(e){return Object(v.j)(JSON.stringify({version:2,heartbeats:e})).length}ce="",q(new d.a("platform-logger",(function(e){return new R(e)}),"PRIVATE")),q(new d.a("heartbeat",(function(e){return new oe(e)}),"PRIVATE")),X(A,D,ce),X(A,D,"esm2017"),X("fire-js","")},function(e,t,n){"use strict";n.d(t,"a",(function(){return Nt})),n.d(t,"b",(function(){return Rt})),n.d(t,"c",(function(){return Pt})),n.d(t,"d",(function(){return It})),n.d(t,"e",(function(){return At})),n.d(t,"f",(function(){return Jt})),n.d(t,"g",(function(){return vi})),n.d(t,"h",(function(){return kn})),n.d(t,"i",(function(){return gn})),n.d(t,"j",(function(){return on})),n.d(t,"k",(function(){return $t})),n.d(t,"l",(function(){return tn})),n.d(t,"m",(function(){return en})),n.d(t,"n",(function(){return rn})),n.d(t,"o",(function(){return vr})),n.d(t,"p",(function(){return wn})),n.d(t,"q",(function(){return pn})),n.d(t,"r",(function(){return vn})),n.d(t,"s",(function(){return hn})),n.d(t,"t",(function(){return sn}));var r=n(22),i=n(20),a=n(25),o=n(8),u=n(9),s=n(7),c=n(0),l=n.n(c),f=n(12),h=n(3),d=n(1),p=n(2),v=n(15),y=n(6),m=n(4),g=n(18),b=n(21);function k(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var w,_=n(24);function O(){return Object(y.a)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var E=O,T=new m.b("auth","Firebase",O()),x=new b.b("@firebase/auth");function C(e){if(x.logLevel<=b.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];x.error.apply(x,["Auth (".concat(g.a,"): ").concat(e)].concat(n))}}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw P.apply(void 0,[e].concat(n))}function j(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return P.apply(void 0,[e].concat(n))}function I(e,t,n){var r=Object.assign(Object.assign({},E()),Object(y.a)({},t,n));return new m.b("auth","Firebase",r).create(t,{appName:e.name})}function N(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&S(e,"argument-error"),I(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function P(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Object(v.a)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Object(v.a)(o)))}return T.create.apply(T,[e].concat(n))}function R(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw P.apply(void 0,[t].concat(r))}}function A(e){var t="INTERNAL ASSERTION FAILED: "+e;throw C(t),new Error(t)}function D(e,t){e||A(t)}var L=new Map;function M(e){D(e instanceof Function,"Expected a class definition");var t=L.get(e);return t?(D(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,L.set(e,t),t)}function F(e,t){var n=Object(g.b)(e,"auth");if(n.isInitialized()){var r=n.getImmediate(),i=n.getOptions();if(Object(m.o)(i,null!==t&&void 0!==t?t:{}))return r;S(r,"already-initialized")}return n.initialize({options:t})}function U(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function V(){return"http:"===z()||"https:"===z()}function z(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var q=function(){function e(t,n){Object(d.a)(this,e),this.shortDelay=t,this.longDelay=n,D(n>t,"Short delay should be less than long delay!"),this.isMobile=Object(m.C)()||Object(m.E)()}return Object(p.a)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(V()||Object(m.y)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function B(e,t){D(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var W=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void A("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void A("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void A("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),H=(w={},Object(y.a)(w,"CREDENTIAL_MISMATCH","custom-token-mismatch"),Object(y.a)(w,"MISSING_CUSTOM_TOKEN","internal-error"),Object(y.a)(w,"INVALID_IDENTIFIER","invalid-email"),Object(y.a)(w,"MISSING_CONTINUE_URI","internal-error"),Object(y.a)(w,"INVALID_PASSWORD","wrong-password"),Object(y.a)(w,"MISSING_PASSWORD","missing-password"),Object(y.a)(w,"EMAIL_EXISTS","email-already-in-use"),Object(y.a)(w,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Object(y.a)(w,"INVALID_IDP_RESPONSE","invalid-credential"),Object(y.a)(w,"INVALID_PENDING_TOKEN","invalid-credential"),Object(y.a)(w,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Object(y.a)(w,"MISSING_REQ_TYPE","internal-error"),Object(y.a)(w,"EMAIL_NOT_FOUND","user-not-found"),Object(y.a)(w,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Object(y.a)(w,"EXPIRED_OOB_CODE","expired-action-code"),Object(y.a)(w,"INVALID_OOB_CODE","invalid-action-code"),Object(y.a)(w,"MISSING_OOB_CODE","internal-error"),Object(y.a)(w,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Object(y.a)(w,"INVALID_ID_TOKEN","invalid-user-token"),Object(y.a)(w,"TOKEN_EXPIRED","user-token-expired"),Object(y.a)(w,"USER_NOT_FOUND","user-token-expired"),Object(y.a)(w,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Object(y.a)(w,"INVALID_CODE","invalid-verification-code"),Object(y.a)(w,"INVALID_SESSION_INFO","invalid-verification-id"),Object(y.a)(w,"INVALID_TEMPORARY_PROOF","invalid-credential"),Object(y.a)(w,"MISSING_SESSION_INFO","missing-verification-id"),Object(y.a)(w,"SESSION_EXPIRED","code-expired"),Object(y.a)(w,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Object(y.a)(w,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Object(y.a)(w,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Object(y.a)(w,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Object(y.a)(w,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Object(y.a)(w,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Object(y.a)(w,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Object(y.a)(w,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Object(y.a)(w,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Object(y.a)(w,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Object(y.a)(w,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),w),K=new q(3e4,6e4);function G(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Q(e,t,n,r){return Y.apply(this,arguments)}function Y(){return(Y=Object(h.a)(l.a.mark((function e(t,n,r,i){var a,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",$(t,a,Object(h.a)(l.a.mark((function e(){var a,o,u,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Object(m.J)(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",W.fetch()(ee(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t,n){return X.apply(this,arguments)}function X(){return(X=Object(h.a)(l.a.mark((function e(t,n,r){var i,a,o,u,s,c,h,d,p,v;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},H),n),e.prev=2,a=new te(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw ne(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),h=Object(f.a)(c,2),d=h[0],p=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw ne(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw ne(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw ne(t,"user-disabled",u);case 29:if(v=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=34;break}throw I(t,v,p);case 34:S(t,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof m.c)){e.next=41;break}throw e.t0;case 41:S(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function J(e,t,n,r){return Z.apply(this,arguments)}function Z(){return(Z=Object(h.a)(l.a.mark((function e(t,n,r,i){var a,o,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Q(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&S(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?B(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var te=function(){function e(t){var n=this;Object(d.a)(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(j(n.auth,"network-request-failed"))}),K.get())}))}return Object(p.a)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ne(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=j(e,t,r);return i.customData._tokenResponse=n,i}function re(e,t){return ie.apply(this,arguments)}function ie(){return(ie=Object(h.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t){return oe.apply(this,arguments)}function oe(){return(oe=Object(h.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function se(){return(se=Object(h.a)(l.a.mark((function e(t){var n,r,i,a,o,u,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Object(m.v)(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,R((a=le(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ue(ce(a.auth_time)),issuedAtTime:ue(ce(a.iat)),expirationTime:ue(ce(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){return 1e3*Number(e)}function le(e){var t=e.split("."),n=Object(f.a)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return C("JWT malformed, contained fewer than 3 sections"),null;try{var o=Object(m.h)(i);return o?JSON.parse(o):(C("Failed to decode base64 JWT payload"),null)}catch(u){return C("Caught error parsing JWT payload as JSON",null===u||void 0===u?void 0:u.toString()),null}}function fe(e,t){return he.apply(this,arguments)}function he(){return(he=Object(h.a)(l.a.mark((function e(t,n){var r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof m.c&&de(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function de(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var pe=function(){function e(t){Object(d.a)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Object(p.a)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Object(h.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ve=function(){function e(t,n){Object(d.a)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Object(p.a)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ue(this.lastLoginAt),this.creationTime=ue(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ye(e){return me.apply(this,arguments)}function me(){return(me=Object(h.a)(l.a.mark((function e(t){var n,r,i,a,o,u,s,c,f,h,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,fe(t,ae(r,{idToken:i}));case 6:R(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?ke(o.providerUserInfo):[],s=be(t.providerData,u),c=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!c&&f,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new ve(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(){return(ge=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(m.v)(t),e.next=3,ye(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Object(v.a)(n),Object(v.a)(t))}function ke(e){return e.map((function(e){var t=e.providerId,n=k(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function we(e,t){return _e.apply(this,arguments)}function _e(){return(_e=Object(h.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t,{},Object(h.a)(l.a.mark((function e(){var r,i,a,o,u,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(m.J)({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=ee(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",W.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oe=function(){function e(){Object(d.a)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object(p.a)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){R(e.idToken,"internal-error"),R("undefined"!==typeof e.idToken,"internal-error"),R("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=le(e);return R(t,"internal-error"),R("undefined"!==typeof t.exp,"internal-error"),R("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],R(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Object(h.a)(l.a.mark((function e(t,n){var r,i,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return A("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(R("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(R("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(R("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Ee(e,t){R("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Te=function(){function e(t){Object(d.a)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=k(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Object(v.a)(a.providerData):[],this.metadata=new ve(a.createdAt||void 0,a.lastLoginAt||void 0)}return Object(p.a)(e,[{key:"getIdToken",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(R(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return se.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ge.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ye(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,fe(this,re(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,_=n.providerData,O=n.stsTokenManager;R(b&&O,t,"internal-error");var E=Oe.fromJSON(this.name,O);R("string"===typeof b,t,"internal-error"),Ee(f,t.name),Ee(h,t.name),R("boolean"===typeof k,t,"internal-error"),R("boolean"===typeof w,t,"internal-error"),Ee(d,t.name),Ee(p,t.name),Ee(v,t.name),Ee(y,t.name),Ee(m,t.name),Ee(g,t.name);var T=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:m,lastLoginAt:g});return _&&Array.isArray(_)&&(T.providerData=_.map((function(e){return Object.assign({},e)}))),y&&(T._redirectEventId=y),T}},{key:"_fromIdTokenResponse",value:function(){var t=Object(h.a)(l.a.mark((function t(n,r){var i,a,o,u=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Oe).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ye(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),xe=function(){function e(){Object(d.a)(this,e),this.type="NONE",this.storage={}}return Object(p.a)(e,[{key:"_isAvailable",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(h.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();xe.type="NONE";var Ce=xe;function Se(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var je=function(){function e(t,n,r){Object(d.a)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Se(this.userKey,a.apiKey,o),this.fullPersistenceKey=Se("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Object(p.a)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Te._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Object(h.a)(l.a.mark((function t(n,r){var i,a,o,u,c,f,d,p,v,y,m,g=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=g.length>2&&void 0!==g[2]?g[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(M(Ce),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||M(Ce),u=Se(i,n.config.apiKey,n.name),c=null,f=Object(s.a)(r),t.prev=10,f.s();case 12:if((d=f.n()).done){t.next=29;break}return p=d.value,t.prev=14,t.next=17,p._get(u);case 17:if(!(v=t.sent)){t.next=23;break}return y=Te._fromJSON(n,v),p!==o&&(c=y),o=p,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),f.e(t.t1);case 34:return t.prev=34,f.f(),t.finish(34);case 37:if(m=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&m.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=m[0],!c){t.next=44;break}return t.next=44,o._set(u,c.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ie(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ae(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ne(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Le(t))return"Blackberry";if(Me(t))return"Webos";if(Pe(t))return"Safari";if((t.includes("chrome/")||Re(t))&&!t.includes("edge/"))return"Chrome";if(De(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)();return/firefox\//i.test(e)}function Pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)();return/crios\//i.test(e)}function Ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)();return/iemobile/i.test(e)}function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)();return/android/i.test(e)}function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)();return/blackberry/i.test(e)}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)();return/webos/i.test(e)}function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ue(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)();return Fe(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ve(){return Object(m.A)()&&10===document.documentMode}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)();return Fe(e)||De(e)||Me(e)||Le(e)||/windows phone/i.test(e)||Ae(e)}function qe(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ie(Object(m.w)());break;case"Worker":t="".concat(Ie(Object(m.w)()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(g.a,"/").concat(r)}var Be=function(){function e(t){Object(d.a)(this,e),this.auth=t,this.queue=[]}return Object(p.a)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r,i,a,o,u,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Object(s.a)(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Object(s.a)(n);try{for(o.s();!(u=o.n()).done;){c=u.value;try{c()}catch(l){}}}catch(f){o.e(f)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),We=function(){function e(t,n,r){Object(d.a)(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ke(this),this.idTokenSubscription=new Ke(this),this.beforeStateQueue=new Be(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Object(p.a)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=M(t)),this._initializationPromise=this.queue(Object(h.a)(l.a.mark((function r(){var i,a;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,je.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r,i,a,o,u,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return R(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ye(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Object(m.v)(t):null)&&R(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r=this,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&R(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Object(h.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(M(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new m.b("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Object(h.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return R(n=t&&M(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,je.create(this,[M(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return R(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qe(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(y.a)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function He(e){return Object(m.v)(e)}var Ke=function(){function e(t){var n=this;Object(d.a)(this,e),this.auth=t,this.observer=null,this.addObserver=Object(m.m)((function(e){return n.observer=e}))}return Object(p.a)(e,[{key:"next",get:function(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Ge(e,t,n){var r=He(e);R(r._canInitEmulator,r,"emulator-config-failed"),R(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Qe(t),o=function(e){var t=Qe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ye(r.substr(a.length+1))}}var o=r.split(":"),u=Object(f.a)(o,2);return{host:u[0],port:Ye(u[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Qe(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ye(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var $e=function(){function e(t,n){Object(d.a)(this,e),this.providerId=t,this.signInMethod=n}return Object(p.a)(e,[{key:"toJSON",value:function(){return A("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return A("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return A("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return A("not implemented")}}]),e}();function Xe(e,t){return Je.apply(this,arguments)}function Je(){return(Je=Object(h.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e,t){return et.apply(this,arguments)}function et(){return(et=Object(h.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:signInWithPassword",G(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=Object(h.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(t,"POST","/v1/accounts:sendOobCode",G(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e,t){return it.apply(this,arguments)}function it(){return(it=Object(h.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tt(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(e,t){return ot.apply(this,arguments)}function ot(){return(ot=Object(h.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tt(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e,t){return st.apply(this,arguments)}function st(){return(st=Object(h.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tt(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e,t){return lt.apply(this,arguments)}function lt(){return(lt=Object(h.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tt(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(e,t){return ht.apply(this,arguments)}function ht(){return(ht=Object(h.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:signInWithEmailLink",G(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(e,t){return pt.apply(this,arguments)}function pt(){return(pt=Object(h.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:signInWithEmailLink",G(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vt=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(d.a)(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Object(p.a)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ze(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ft(t,{email:this._email,oobCode:this._password}));case 5:S(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Object(h.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Xe(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",dt(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:S(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}($e);function yt(e,t){return mt.apply(this,arguments)}function mt(){return(mt=Object(h.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:signInWithIdp",G(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gt=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Object(p.a)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return yt(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,yt(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,yt(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(m.J)(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):S("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=k(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}($e);function bt(e,t){return kt.apply(this,arguments)}function kt(){return(kt=Object(h.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(t,"POST","/v1/accounts:sendVerificationCode",G(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(){return(wt=Object(h.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:signInWithPhoneNumber",G(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(){return(_t=Object(h.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t,"POST","/v1/accounts:signInWithPhoneNumber",G(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ne(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ot=Object(y.a)({},"USER_NOT_FOUND","user-not-found");function Et(){return(Et=Object(h.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",J(t,"POST","/v1/accounts:signInWithPhoneNumber",G(t,r),Ot));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tt=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Object(p.a)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return wt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return _t.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Et.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}($e);var xt=function(){function e(t){var n,r,i,a,o,u;Object(d.a)(this,e);var s=Object(m.K)(Object(m.q)(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);R(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Object(p.a)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Object(m.K)(Object(m.q)(e)).link,n=t?Object(m.K)(Object(m.q)(t)).deep_link_id:null,r=Object(m.K)(Object(m.q)(e)).deep_link_id;return(r?Object(m.K)(Object(m.q)(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Ct=function(){function e(){Object(d.a)(this,e),this.providerId=e.PROVIDER_ID}return Object(p.a)(e,null,[{key:"credential",value:function(e,t){return vt._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=xt.parseLink(t);return R(n,"argument-error"),vt._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ct.PROVIDER_ID="password",Ct.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ct.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var St=function(){function e(t){Object(d.a)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Object(p.a)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),jt=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Object(p.a)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Object(v.a)(this.scopes)}}]),n}(St),It=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return R(e.idToken||e.accessToken,"argument-error"),gt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return R("providerId"in t&&"signInMethod"in t,"argument-error"),gt._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(jt),Nt=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(d.a)(this,n),t.call(this,"facebook.com")}return Object(p.a)(n,null,[{key:"credential",value:function(e){return gt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(jt);Nt.FACEBOOK_SIGN_IN_METHOD="facebook.com",Nt.PROVIDER_ID="facebook.com";var Pt=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Object(p.a)(n,null,[{key:"credential",value:function(e,t){return gt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(jt);Pt.GOOGLE_SIGN_IN_METHOD="google.com",Pt.PROVIDER_ID="google.com";var Rt=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(d.a)(this,n),t.call(this,"github.com")}return Object(p.a)(n,null,[{key:"credential",value:function(e){return gt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(jt);Rt.GITHUB_SIGN_IN_METHOD="github.com",Rt.PROVIDER_ID="github.com";var At=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(d.a)(this,n),t.call(this,"twitter.com")}return Object(p.a)(n,null,[{key:"credential",value:function(e,t){return gt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(jt);function Dt(e,t){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object(h.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:signUp",G(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}At.TWITTER_SIGN_IN_METHOD="twitter.com",At.PROVIDER_ID="twitter.com";var Mt=function(){function e(t){Object(d.a)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Object(p.a)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Object(h.a)(l.a.mark((function t(n,r,i){var a,o,u,s,c=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Te._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Ft(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Object(h.a)(l.a.mark((function t(n,r,i){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ft(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ft(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Ut=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r,i,o){var u,s;return Object(d.a)(this,n),(u=t.call(this,r.code,r.message)).operationType=i,u.user=o,Object.setPrototypeOf(Object(a.a)(u),n.prototype),u.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},u}return Object(p.a)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(m.c);function Vt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ut._fromErrorAndOperation(e,n,t,r);throw n}))}function zt(e,t){return qt.apply(this,arguments)}function qt(){return(qt=Object(h.a)(l.a.mark((function e(t,n){var r,i,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=fe,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Mt._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bt(e,t){return Wt.apply(this,arguments)}function Wt(){return(Wt=Object(h.a)(l.a.mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,fe(t,Vt(i,a,n,t),r);case 6:return R((o=e.sent).idToken,i,"internal-error"),R(u=le(o.idToken),i,"internal-error"),s=u.sub,R(t.uid===s,i,"user-mismatch"),e.abrupt("return",Mt._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&S(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}function Ht(e,t){return Kt.apply(this,arguments)}function Kt(){return(Kt=Object(h.a)(l.a.mark((function e(t,n){var r,i,a,o,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Vt(t,i,n);case 4:return a=e.sent,e.next=7,Mt._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gt(e,t){return Qt.apply(this,arguments)}function Qt(){return(Qt=Object(h.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ht(He(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yt(e,t,n){var r;R((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),R("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(R(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(R(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function $t(e,t,n){return Xt.apply(this,arguments)}function Xt(){return(Xt=Object(h.a)(l.a.mark((function e(t,n,r){var i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(m.v)(t),a={requestType:"PASSWORD_RESET",email:n},r&&Yt(i,a,r),e.next=5,at(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jt(e,t,n){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(h.a)(l.a.mark((function e(t,n,r){var i,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=He(t),e.next=3,Dt(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Mt._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function en(e,t,n){return Gt(Object(m.v)(e),Ct.credential(t,n))}function tn(e,t,n){return nn.apply(this,arguments)}function nn(){return(nn=Object(h.a)(l.a.mark((function e(t,n,r){var i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(m.v)(t),a={requestType:"EMAIL_SIGNIN",email:n},R(r.handleCodeInApp,i,"argument-error"),r&&Yt(i,a,r),e.next=6,ut(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rn(e,t,n){return an.apply(this,arguments)}function an(){return(an=Object(h.a)(l.a.mark((function e(t,n,r){var i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(m.v)(t),R((a=Ct.credentialWithLink(n,r||U()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Gt(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function on(e,t){return un.apply(this,arguments)}function un(){return(un=Object(h.a)(l.a.mark((function e(t,n){var r,i,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(m.v)(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Yt(r.auth,a,n),e.next=8,rt(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sn(e,t,n){return cn.apply(this,arguments)}function cn(){return(cn=Object(h.a)(l.a.mark((function e(t,n,r){var i,a,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(m.v)(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Yt(i.auth,o,r),e.next=8,ct(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ln(e,t){return fn.apply(this,arguments)}function fn(){return(fn=Object(h.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hn(e,t){return dn.apply(this,arguments)}function dn(){return(dn=Object(h.a)(l.a.mark((function e(t,n){var r,i,a,o,u,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Object(m.v)(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,fe(a,ln(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pn(e,t){return yn(Object(m.v)(e),t,null)}function vn(e,t){return yn(Object(m.v)(e),null,t)}function yn(e,t,n){return mn.apply(this,arguments)}function mn(){return(mn=Object(h.a)(l.a.mark((function e(t,n,r){var i,a,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,fe(t,Xe(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gn(e,t,n,r){return Object(m.v)(e).onIdTokenChanged(t,n,r)}function bn(e,t,n){return Object(m.v)(e).beforeAuthStateChanged(t,n)}function kn(e,t,n,r){return Object(m.v)(e).onAuthStateChanged(t,n,r)}function wn(e){return Object(m.v)(e).signOut()}function _n(e,t){return Q(e,"POST","/v2/accounts/mfaEnrollment:start",G(e,t))}function On(e,t){return Q(e,"POST","/v2/accounts/mfaEnrollment:finalize",G(e,t))}new WeakMap;var En="__sak",Tn=function(){function e(t,n){Object(d.a)(this,e),this.storageRetriever=t,this.type=n}return Object(p.a)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(En,"1"),this.storage.removeItem(En),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var xn=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Object(m.w)();return Pe(e)||Fe(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ze(),e._shouldAllowMigration=!0,e}return Object(p.a)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ve()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Object(h.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.a)(Object(i.a)(n.prototype),"_set",this).call(this,t,a);case 2:this.localCache[t]=JSON.stringify(a);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.a)(Object(i.a)(n.prototype),"_get",this).call(this,t);case 2:return a=e.sent,this.localCache[t]=JSON.stringify(a),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.a)(Object(i.a)(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Tn);xn.type="LOCAL";var Cn=xn,Sn=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(d.a)(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Object(p.a)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Tn);Sn.type="SESSION";var jn=Sn;function In(e){return Promise.all(e.map(function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Nn=function(){function e(t){Object(d.a)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Object(p.a)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r,i,a,o,u,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,In(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Pn(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Nn.receivers=[];var Rn=function(){function e(t){Object(d.a)(this,e),this.target=t,this.handlers=new Set}return Object(p.a)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Object(h.a)(l.a.mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Pn("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function An(){return window}function Dn(){return"undefined"!==typeof An().WorkerGlobalScope&&"function"===typeof An().importScripts}function Ln(){return Mn.apply(this,arguments)}function Mn(){return(Mn=Object(h.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Fn(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Un="firebaseLocalStorageDb",Vn="firebaseLocalStorage",zn="fbase_key",qn=function(){function e(t){Object(d.a)(this,e),this.request=t}return Object(p.a)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Bn(e,t){return e.transaction([Vn],t?"readwrite":"readonly").objectStore(Vn)}function Wn(){var e=indexedDB.deleteDatabase(Un);return new qn(e).toPromise()}function Hn(){var e=indexedDB.open(Un,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Vn,{keyPath:zn})}catch(r){n(r)}})),e.addEventListener("success",Object(h.a)(l.a.mark((function n(){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Vn)){n.next=12;break}return r.close(),n.next=5,Wn();case 5:return n.t0=t,n.next=8,Hn();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Kn(e,t,n){return Gn.apply(this,arguments)}function Gn(){return(Gn=Object(h.a)(l.a.mark((function e(t,n,r){var i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Bn(t,!0).put((i={},Object(y.a)(i,zn,n),Object(y.a)(i,"value",r),i)),e.abrupt("return",new qn(a).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qn(e,t){return Yn.apply(this,arguments)}function Yn(){return(Yn=Object(h.a)(l.a.mark((function e(t,n){var r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bn(t,!1).get(n),e.next=3,new qn(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $n(e,t){var n=Bn(e,!0).delete(t);return new qn(n).toPromise()}var Xn=function(){function e(){Object(d.a)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Object(p.a)(e,[{key:"_openDb",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Hn();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dn()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Nn._getInstance(Dn()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Object(h.a)(l.a.mark((function e(n,r){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Object(h.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ln();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Rn(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Fn()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Hn();case 5:return t=e.sent,e.next=8,Kn(t,En,"1");case 8:return e.next=10,$n(t,En);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(h.a)(l.a.mark((function e(t,n){var r=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Kn(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Qn(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return $n(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t,n,r,i,a,o,u,c,f,h,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Bn(e,!1).getAll();return new qn(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Object(s.a)(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,c=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(c)&&(this.notifyListeners(u,c),n.push(u))}catch(l){i.e(l)}finally{i.f()}for(f=0,h=Object.keys(this.localCache);f<h.length;f++)d=h[f],this.localCache[d]&&!r.has(d)&&(this.notifyListeners(d,null),n.push(d));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Object(h.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Xn.type="LOCAL";var Jn=Xn;function Zn(e,t){return Q(e,"POST","/v2/accounts/mfaSignIn:start",G(e,t))}function er(e,t){return Q(e,"POST","/v2/accounts/mfaSignIn:finalize",G(e,t))}function tr(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=j("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function nr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}nr("rcb"),new q(3e4,6e4);var rr="recaptcha";function ir(e,t,n){return ar.apply(this,arguments)}function ar(){return(ar=Object(h.a)(l.a.mark((function e(t,n,r){var i,a,o,u,s,c,f,h,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,R("string"===typeof a,t,"argument-error"),R(r.type===rr,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return R("enroll"===u.type,t,"internal-error"),e.next=13,_n(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return R("signin"===u.type,t,"internal-error"),R(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Zn(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,bt(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])})))).apply(this,arguments)}var or=function(){function e(t){Object(d.a)(this,e),this.providerId=e.PROVIDER_ID,this.auth=He(t)}return Object(p.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return ir(this.auth,e,Object(m.v)(t))}}],[{key:"credential",value:function(e,t){return Tt._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Tt._fromTokenResponse(n,r):null}}]),e}();function ur(e,t){return t?M(t):(R(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}or.PROVIDER_ID="phone",or.PHONE_SIGN_IN_METHOD="phone";var sr=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Object(p.a)(n,[{key:"_getIdTokenResponse",value:function(e){return yt(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return yt(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return yt(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}($e);function cr(e){return Ht(e.auth,new sr(e),e.bypassAuthState)}function lr(e){var t=e.auth,n=e.user;return R(n,t,"internal-error"),Bt(n,new sr(e),e.bypassAuthState)}function fr(e){return hr.apply(this,arguments)}function hr(){return(hr=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,R(r=t.user,n,"internal-error"),e.abrupt("return",zt(r,new sr(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dr=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(d.a)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Object(p.a)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Object(h.a)(l.a.mark((function t(n,r){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r,i,a,o,u,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cr;case"linkViaPopup":case"linkViaRedirect":return fr;case"reauthViaPopup":case"reauthViaRedirect":return lr;default:S(this.auth,"internal-error")}}},{key:"resolve",value:function(e){D(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){D(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),pr=new q(2e3,1e4);function vr(e,t,n){return yr.apply(this,arguments)}function yr(){return(yr=Object(h.a)(l.a.mark((function e(t,n,r){var i,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=He(t),N(t,n,St),a=ur(i,r),o=new mr(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mr=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r,i,o,u){var s;return Object(d.a)(this,n),(s=t.call(this,e,r,o,u)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Object(a.a)(s),s}return Object(p.a)(n,[{key:"executeNotNull",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return R(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(1===this.filter.length,"Popup operations only handle one event"),t=Pn(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(j(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(j(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(j(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,pr.get())}()}}]),n}(dr);mr.currentPopupAction=null;var gr=new Map,br=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(d.a)(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Object(p.a)(n,[{key:"execute",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=gr.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,kr(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Object(r.a)(Object(i.a)(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:a=e.t0,t=function(){return Promise.resolve(a)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:gr.set(this.auth._key(),t);case 21:return this.bypassAuthState||gr.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Object(r.a)(Object(i.a)(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(a=e.sent)){e.next=16;break}return this.user=a,e.abrupt("return",Object(r.a)(Object(i.a)(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(dr);function kr(e,t){return wr.apply(this,arguments)}function wr(){return(wr=Object(h.a)(l.a.mark((function e(t,n){var r,i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Er(n),i=Or(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _r(e,t){gr.set(e._key(),t)}function Or(e){return M(e._redirectPersistence)}function Er(e){return Se("pendingRedirect",e.config.apiKey,e.name)}function Tr(e,t){return xr.apply(this,arguments)}function xr(){return(xr=Object(h.a)(l.a.mark((function e(t,n){var r,i,a,o,u,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=He(t),a=ur(i,n),o=new br(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Cr=function(){function e(t){Object(d.a)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Object(p.a)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!jr(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(j(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sr(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Sr(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Sr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function jr(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Ir(e){return Nr.apply(this,arguments)}function Nr(){return(Nr=Object(h.a)(l.a.mark((function e(t){var n,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Q(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rr=/^https?/;function Ar(){return(Ar=Object(h.a)(l.a.mark((function e(t){var n,r,i,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ir(t);case 4:n=e.sent,r=n.authorizedDomains,i=Object(s.a)(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Dr(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:S(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Dr(e){var t=U(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Rr.test(r))return!1;if(Pr.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Lr=new q(3e4,6e4);function Mr(){var e=An().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Object(v.a)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Fr=null;function Ur(e){return Fr=Fr||function(e){return new Promise((function(t,n){var r,i,a;function o(){Mr(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Mr(),n(j(e,"network-request-failed"))},timeout:Lr.get()})}if(null===(i=null===(r=An().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=An().gapi)||void 0===a?void 0:a.load)){var u=nr("iframefcb");return An()[u]=function(){gapi.load?o():n(j(e,"network-request-failed"))},tr("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Fr=null,e}))}(e)}var Vr=new q(5e3,15e3),zr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Br(e){var t=e.config;R(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?B(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:g.a},i=qr.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Object(m.J)(r).slice(1))}function Wr(e){return Hr.apply(this,arguments)}function Hr(){return(Hr=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur(t);case 2:return n=e.sent,R(r=An().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Br(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zr,dontclear:!0},(function(e){return new Promise(function(){var n=Object(h.a)(l.a.mark((function n(r,i){var a,o,u;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){An().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=j(t,"network-request-failed"),o=An().setTimeout((function(){i(a)}),Vr.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Kr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gr="_blank",Qr="http://localhost",Yr=function(){function e(t){Object(d.a)(this,e),this.window=t,this.associatedEvent=null}return Object(p.a)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function $r(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Kr),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Object(m.w)().toLowerCase();n&&(u=Re(c)?Gr:n),Ne(c)&&(t=t||Qr,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Object(f.a)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ue(c)&&"_self"!==u)return Xr(t||"",u),new Yr(null);var h=window.open(t||"",u,l);R(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Yr(h)}function Xr(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Jr="__/auth/handler",Zr="emulator/auth/handler";function ei(e,t,n,r,i,a){R(e.config.authDomain,e,"auth-domain-config-required"),R(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:g.a,eventId:i};if(t instanceof St){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Object(m.z)(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Object(f.a)(s[u],2),l=c[0],h=c[1];o[l]=h}}if(t instanceof jt){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,y=Object.keys(p);v<y.length;v++){var b=y[v];void 0===p[b]&&delete p[b]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Jr);return B(t,Zr)}(e),"?").concat(Object(m.J)(p).slice(1))}var ti="webStorageSupport",ni=function(){function e(){Object(d.a)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jn,this._completeRedirectFn=Tr,this._overrideRedirectResult=_r}return Object(p.a)(e,[{key:"_openPopup",value:function(){var e=Object(h.a)(l.a.mark((function e(t,n,r,i){var a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=ei(t,n,r,U(),i),e.abrupt("return",$r(t,o,Pn()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(h.a)(l.a.mark((function e(t,n,r,i){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=ei(t,n,r,U(),i),An().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(D(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wr(t);case 2:return n=e.sent,r=new Cr(t),n.register("authEvent",(function(e){return R(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(ti,{type:ti},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),S(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ar.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ze()||Pe()||Fe()}}]),e}(),ri=function(){function e(t){Object(d.a)(this,e),this.factorId=t}return Object(p.a)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return A("unexpected MultiFactorSessionType")}}}]),e}(),ii=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,"phone")).credential=e,r}return Object(p.a)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Q(e,"POST","/v2/accounts/mfaEnrollment:finalize",G(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Q(e,"POST","/v2/accounts/mfaSignIn:finalize",G(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(ri);(function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"assertion",value:function(e){return ii._fromCredential(e)}}]),e}()).FACTOR_ID="phone",(function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"assertionForEnrollment",value:function(e,t){return ai._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return ai._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,i=n.auth,a={idToken:n.credential,totpEnrollmentInfo:{}},Q(i,"POST","/v2/accounts/mfaEnrollment:start",G(i,a));case 4:return r=e.sent,e.abrupt("return",oi._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}var i,a}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()).FACTOR_ID="totp";var ai=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r,i){var a;return Object(d.a)(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return Object(p.a)(n,[{key:"_finalizeEnroll",value:function(){var e=Object(h.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",On(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Object(h.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",er(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(ri),oi=function(){function e(t,n,r,i,a,o,u){Object(d.a)(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return Object(p.a)(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(ui(e)||ui(t))&&(r=!0),r&&(ui(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),ui(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function ui(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var si="@firebase/auth",ci="0.22.0",li=function(){function e(t){Object(d.a)(this,e),this.auth=t,this.internalListeners=new Map}return Object(p.a)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var fi,hi=Object(m.u)("authIdTokenMaxAge")||300,di=null,pi=function(e){return function(){var t=Object(h.a)(l.a.mark((function t(n){var r,i,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>hi)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,di!==a){t.next=12;break}return t.abrupt("return");case 12:return di=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function vi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(g.e)(),t=Object(g.b)(e,"auth");if(t.isInitialized())return t.getImmediate();var n=F(e,{popupRedirectResolver:ni,persistence:[Jn,Cn,jn]}),r=Object(m.u)("authTokenSyncURL");if(r){var i=pi(r);bn(n,i,(function(){return i(n.currentUser)})),gn(n,(function(e){return i(e)}))}var a=Object(m.s)("auth");return a&&Ge(n,"http://".concat(a)),n}fi="Browser",Object(g.c)(new _.a("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){R(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),R(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:fi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qe(fi)},i=new We(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(M);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Object(g.c)(new _.a("auth-internal",(function(e){return function(e){return new li(e)}(He(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Object(g.g)(si,ci,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(fi)),Object(g.g)(si,ci,"esm2017")},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return y}));var r,i,a=n(7),o=n(1),u=n(2),s=n(6),c=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var l={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},f=i.INFO,h=(r={},Object(s.a)(r,i.DEBUG,"log"),Object(s.a)(r,i.VERBOSE,"log"),Object(s.a)(r,i.INFO,"info"),Object(s.a)(r,i.WARN,"warn"),Object(s.a)(r,i.ERROR,"error"),r),d=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=h[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},p=function(){function e(t){Object(o.a)(this,e),this.name=t,this._logLevel=f,this._logHandler=d,this._userLogHandler=null,c.push(this)}return Object(u.a)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?l[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.DEBUG].concat(t)),this._logHandler.apply(this,[this,i.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.VERBOSE].concat(t)),this._logHandler.apply(this,[this,i.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.INFO].concat(t)),this._logHandler.apply(this,[this,i.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.WARN].concat(t)),this._logHandler.apply(this,[this,i.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.ERROR].concat(t)),this._logHandler.apply(this,[this,i.ERROR].concat(t))}}]),e}();function v(e){c.forEach((function(t){t.setLogLevel(e)}))}function y(e,t){var n,r=Object(a.a)(c);try{var o=function(){var r=n.value,a=null;t&&t.level&&(a=l[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];var s=o.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==a&&void 0!==a?a:t.logLevel)&&e({level:i[n].toLowerCase(),message:s,args:o,type:t.name})}};for(r.s();!(n=r.n()).done;)o()}catch(u){r.e(u)}finally{r.f()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20);function i(e,t,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return cr})),n.d(t,"b",(function(){return fr})),n.d(t,"c",(function(){return lr})),n.d(t,"d",(function(){return dr})),n.d(t,"e",(function(){return hr})),n.d(t,"f",(function(){return pr})),n.d(t,"g",(function(){return vr})),n.d(t,"h",(function(){return ur})),n.d(t,"i",(function(){return sr}));var r,i=n(12),a=n(7),o=n(22),u=n(20),s=n(8),c=n(9),l=n(1),f=n(2),h="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},d={},p=p||{},v=h||self;function y(){}function m(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var b="closure_uid_"+(1e9*Math.random()>>>0),k=0;function w(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function O(e,t,n){return(O=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function E(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function T(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function x(){this.s=this.s,this.o=this.o}x.prototype.s=!1,x.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,b)&&e[b]||(e[b]=++k))},x.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var C=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function S(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function j(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(m(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function I(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{v.addEventListener("test",y,t),v.removeEventListener("test",y,t)}catch(n){}return e}();function P(e){return/^[\s\xa0]*$/.test(e)}var R=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function A(e,t){return e<t?-1:e>t?1:0}function D(){var e=v.navigator;return e&&(e=e.userAgent)?e:""}function L(e){return-1!=D().indexOf(e)}function M(e){return M[" "](e),e}M[" "]=y;var F,U=L("Opera"),V=L("Trident")||L("MSIE"),z=L("Edge"),q=z||V,B=L("Gecko")&&!(-1!=D().toLowerCase().indexOf("webkit")&&!L("Edge"))&&!(L("Trident")||L("MSIE"))&&!L("Edge"),W=-1!=D().toLowerCase().indexOf("webkit")&&!L("Edge");function H(){var e=v.document;return e?e.documentMode:void 0}e:{var K="",G=function(){var e=D();return B?/rv:([^\);]+)(\)|;)/.exec(e):z?/Edge\/([\d\.]+)/.exec(e):V?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):W?/WebKit\/(\S+)/.exec(e):U?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(G&&(K=G?G[1]:""),V){var Q=H();if(null!=Q&&Q>parseFloat(K)){F=String(Q);break e}}F=K}var Y,$={};function X(){return function(e){var t=$;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=R(String(F)).split("."),n=R("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=A(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||A(0==a[2].length,0==o[2].length)||A(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(v.document&&V){var J=H();Y=J||(parseInt(F,10)||void 0)}else Y=void 0;var Z=Y;function ee(e,t){if(I.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(B){e:{try{M(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:te[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ee.X.h.call(this)}}T(ee,I);var te={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),re=0;function ie(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++re,this.ba=this.ea=!1}function ae(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function oe(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ue(e){var t={};for(var n in e)t[n]=e[n];return t}var se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<se.length;a++)n=se[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function le(e){this.src=e,this.g={},this.h=0}function fe(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=C(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ae(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function he(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}le.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=he(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new ie(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var de="closure_lm_"+(1e6*Math.random()|0),pe={};function ve(e,t,n,r,i){if(r&&r.once)return me(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ve(e,t[a],n,r,i);return null}return n=Ee(n),e&&e[ne]?e.N(t,n,g(r)?!!r.capture:!!r,i):ye(e,t,n,!1,r,i)}function ye(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=g(i)?!!i.capture:!!i,u=_e(e);if(u||(e[de]=u=new le(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=we;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)N||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ke(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function me(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)me(e,t[a],n,r,i);return null}return n=Ee(n),e&&e[ne]?e.O(t,n,g(r)?!!r.capture:!!r,i):ye(e,t,n,!0,r,i)}function ge(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ge(e,t[a],n,r,i);else r=g(r)?!!r.capture:!!r,n=Ee(n),e&&e[ne]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=he(a=e.g[t],n,r,i))&&(ae(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=_e(e))&&(t=e.g[t.toString()],e=-1,t&&(e=he(t,n,r,i)),(n=-1<e?t[e]:null)&&be(n))}function be(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[ne])fe(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ke(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_e(t))?(fe(n,e),0==n.h&&(n.src=null,t[de]=null)):ae(e)}}}function ke(e){return e in pe?pe[e]:pe[e]="on"+e}function we(e,t){if(e.ba)e=!0;else{t=new ee(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&be(e),e=n.call(r,t)}return e}function _e(e){return(e=e[de])instanceof le?e:null}var Oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ee(e){return"function"===typeof e?e:(e[Oe]||(e[Oe]=function(t){return e.handleEvent(t)}),e[Oe])}function Te(){x.call(this),this.i=new le(this),this.P=this,this.I=null}function xe(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new I(t,e);else if(t instanceof I)t.target=t.target||e;else{var i=t;ce(t=new I(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ce(o,r,!0,t)&&i}if(i=Ce(o=t.g=e,r,!0,t)&&i,i=Ce(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ce(o=t.g=n[a],r,!1,t)&&i}function Ce(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&fe(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}T(Te,x),Te.prototype[ne]=!0,Te.prototype.removeEventListener=function(e,t,n,r){ge(this,e,t,n,r)},Te.prototype.M=function(){if(Te.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ae(n[r]);delete t.g[e],t.h--}}this.I=null},Te.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Te.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Se=v.JSON.stringify;function je(){var e=Me,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ie,Ne=function(){function e(){Object(l.a)(this,e),this.h=this.g=null}return Object(f.a)(e,[{key:"add",value:function(e,t){var n=Pe.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Pe=new(function(){function e(t,n){Object(l.a)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Object(f.a)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Re}),(function(e){return e.reset()})),Re=function(){function e(){Object(l.a)(this,e),this.next=this.g=this.h=null}return Object(f.a)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ae(e){v.setTimeout((function(){throw e}),0)}function De(e,t){Ie||function(){var e=v.Promise.resolve(void 0);Ie=function(){e.then(Fe)}}(),Le||(Ie(),Le=!0),Me.add(e,t)}var Le=!1,Me=new Ne;function Fe(){for(var e;e=je();){try{e.h.call(e.g)}catch(n){Ae(n)}var t=Pe;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Le=!1}function Ue(e,t){Te.call(this),this.h=e||1,this.g=t||v,this.j=O(this.lb,this),this.l=Date.now()}function Ve(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function ze(e,t,n){if("function"===typeof e)n&&(e=O(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=O(e.handleEvent,e)}return 2147483647<Number(t)?-1:v.setTimeout(e,t||0)}function qe(e){e.g=ze((function(){e.g=null,e.i&&(e.i=!1,qe(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}T(Ue,Te),(r=Ue.prototype).ca=!1,r.R=null,r.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),xe(this,"tick"),this.ca&&(Ve(this),this.start()))}},r.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Ue.X.M.call(this),Ve(this),delete this.g};var Be=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(l.a)(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Object(f.a)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:qe(this)}},{key:"M",value:function(){Object(o.a)(Object(u.a)(n.prototype),"M",this).call(this),this.g&&(v.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(x);function We(e){x.call(this),this.h=e,this.g={}}T(We,x);var He=[];function Ke(e,t,n,r){Array.isArray(n)||(n&&(He[0]=n.toString()),n=He);for(var i=0;i<n.length;i++){var a=ve(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ge(e){oe(e.g,(function(e,t){this.g.hasOwnProperty(t)&&be(e)}),e),e.g={}}function Qe(){this.g=!0}function Ye(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Se(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}We.prototype.M=function(){We.X.M.call(this),Ge(this)},We.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qe.prototype.Aa=function(){this.g=!1},Qe.prototype.info=function(){};var $e={},Xe=null;function Je(){return Xe=Xe||new Te}function Ze(e){I.call(this,$e.Pa,e)}function et(e){var t=Je();xe(t,new Ze(t))}function tt(e,t){I.call(this,$e.STAT_EVENT,e),this.stat=t}function nt(e){var t=Je();xe(t,new tt(t,e))}function rt(e,t){I.call(this,$e.Qa,e),this.size=t}function it(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return v.setTimeout((function(){e()}),t)}$e.Pa="serverreachability",T(Ze,I),$e.STAT_EVENT="statevent",T(tt,I),$e.Qa="timingevent",T(rt,I);var at={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ot={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ut(){}function st(e){return e.h||(e.h=e.i())}function ct(){}ut.prototype.h=null;var lt,ft={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ht(){I.call(this,"d")}function dt(){I.call(this,"c")}function pt(){}function vt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new We(this),this.O=mt,e=q?125:void 0,this.T=new Ue(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new yt}function yt(){this.i=null,this.g="",this.h=!1}T(ht,I),T(dt,I),T(pt,ut),pt.prototype.g=function(){return new XMLHttpRequest},pt.prototype.i=function(){return{}},lt=new pt;var mt=45e3,gt={},bt={};function kt(e,t,n){e.K=1,e.v=Ut(At(t)),e.s=n,e.P=!0,wt(e,null)}function wt(e,t){e.F=Date.now(),Tt(e),e.A=At(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Jt(n.i,"t",r),e.C=0,n=e.l.H,e.h=new yt,e.g=er(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Be(O(e.La,e,e.g),e.N)),Ke(e.S,e.g,"readystatechange",e.ib),t=e.H?ue(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),et(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function _t(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Ot(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Et(e,n))==bt){4==t&&(e.o=4,nt(14),i=!1),Ye(e.j,e.m,null,"[Incomplete Response]");break}if(r==gt){e.o=4,nt(15),Ye(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ye(e.j,e.m,r,null),It(e,r)}_t(e)&&r!=bt&&r!=gt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,nt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kn(t),t.K=!0,nt(11))):(Ye(e.j,e.m,n,"[Invalid Chunked Response]"),jt(e),St(e))}function Et(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?bt:(n=Number(t.substring(n,r)),isNaN(n)?gt:(r+=1)+n>t.length?bt:(t=t.substr(r,n),e.C=r+n,t))}function Tt(e){e.V=Date.now()+e.O,xt(e,e.O)}function xt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=it(O(e.gb,e),t)}function Ct(e){e.B&&(v.clearTimeout(e.B),e.B=null)}function St(e){0==e.l.G||e.I||Yn(e.l,e)}function jt(e){Ct(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ve(e.T),Ge(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function It(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||un(n.h,e)))if(!e.J&&un(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Qn(n),Fn(n)}Hn(n),nt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=it(O(n.cb,n),6e3));if(1>=on(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Xn(n,11)}else if((e.J||n.g==e)&&Qn(n),!P(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(sn(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Ft(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Zn(r,r.H?r.ka:null,r.V),d.J){cn(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Ct(p),Tt(p)),r.g=d}else Wn(r);0<n.i.length&&Vn(n)}else"stop"!=a[0]&&"close"!=a[0]||Xn(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Xn(n,7):Mn(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}et()}catch(a){}}function Nt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(m(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(m(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(m(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(r=vt.prototype).setTimeout=function(e){this.O=e},r.ib=function(e){e=e.target;var t=this.L;t&&3==Nn(e)?t.l():this.La(e)},r.La=function(e){try{if(e==this.g)e:{var t=Nn(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||q||this.g&&(this.h.h||this.g.fa()||Pn(this.g)))){this.I||4!=t||7==n||et(),Ct(this);var r=this.g.aa();this.Y=r;t:if(_t(this)){var i=Pn(this.g);e="";var a=i.length,o=4==Nn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){jt(this),St(this);var u="";break t}this.h.i=new v.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,nt(12),jt(this),St(this);break e}Ye(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,It(this,r)}this.P?(Ot(this,t,u),q&&this.i&&3==t&&(Ke(this.S,this.T,"tick",this.hb),this.T.start())):(Ye(this.j,this.m,u,null),It(this,u)),4==t&&jt(this),this.i&&!this.I&&(4==t?Yn(this.l,this):(this.i=!1,Tt(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,nt(12)):(this.o=0,nt(13)),jt(this),St(this)}}}catch(t){}},r.hb=function(){if(this.g){var e=Nn(this.g),t=this.g.fa();this.C<t.length&&(Ct(this),Ot(this,e,t),this.i&&4!=e&&Tt(this))}},r.cancel=function(){this.I=!0,jt(this)},r.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(et(),nt(17)),jt(this),this.o=2,St(this)):xt(this,this.V-e)};var Pt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rt(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Rt){this.h=void 0!==t?t:e.h,Dt(this,e.j),this.s=e.s,this.g=e.g,Lt(this,e.m),this.l=e.l,t=e.i;var n=new Qt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Mt(this,n),this.o=e.o}else e&&(n=String(e).match(Pt))?(this.h=!!t,Dt(this,n[1]||"",!0),this.s=Vt(n[2]||""),this.g=Vt(n[3]||"",!0),Lt(this,n[4]),this.l=Vt(n[5]||"",!0),Mt(this,n[6]||"",!0),this.o=Vt(n[7]||"")):(this.h=!!t,this.i=new Qt(null,this.h))}function At(e){return new Rt(e)}function Dt(e,t,n){e.j=n?Vt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Mt(e,t,n){t instanceof Qt?(e.i=t,function(e,t){t&&!e.j&&(Yt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&($t(this,t),Jt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=zt(t,Kt)),e.i=new Qt(t,e.h))}function Ft(e,t,n){e.i.set(t,n)}function Ut(e){return Ft(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Vt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,qt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Rt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(zt(t,Bt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(zt(t,Bt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(zt(n,"/"==n.charAt(0)?Ht:Wt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",zt(n,Gt)),e.join("")};var Bt=/[#\/\?@]/g,Wt=/[#\?:]/g,Ht=/[#\?]/g,Kt=/[#\?@]/g,Gt=/#/g;function Qt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Yt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function $t(e,t){Yt(e),t=Zt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Xt(e,t){return Yt(e),t=Zt(e,t),e.g.has(t)}function Jt(e,t,n){$t(e,t),0<n.length&&(e.i=null,e.g.set(Zt(e,t),S(n)),e.h+=n.length)}function Zt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(r=Qt.prototype).add=function(e,t){Yt(this),this.i=null,e=Zt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){Yt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},r.oa=function(){Yt(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},r.W=function(e){Yt(this);var t=[];if("string"===typeof e)Xt(this,e)&&(t=t.concat(this.g.get(Zt(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},r.set=function(e,t){return Yt(this),this.i=null,Xt(this,e=Zt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var en=function e(t,n){Object(l.a)(this,e),this.h=t,this.g=n};function tn(e){this.l=e||rn,v.PerformanceNavigationTiming?e=0<(e=v.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(v.g&&v.g.Ga&&v.g.Ga()&&v.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var nn,rn=10;function an(e){return!!e.h||!!e.g&&e.g.size>=e.j}function on(e){return e.h?1:e.g?e.g.size:0}function un(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function sn(e,t){e.g?e.g.add(t):e.h=t}function cn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ln(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Object(a.a)(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(o){r.e(o)}finally{r.f()}return n}return S(e.i)}function fn(){}function hn(){this.g=new fn}function dn(e,t,n){var r=n||"";try{Nt(e,(function(e,n){var i=e;g(e)&&(i=Se(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function pn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function vn(e){this.l=e.ac||null,this.j=e.jb||!1}function yn(e,t){Te.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=mn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tn.prototype.cancel=function(){if(this.i=ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Object(a.a)(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},fn.prototype.stringify=function(e){return v.JSON.stringify(e,void 0)},fn.prototype.parse=function(e){return v.JSON.parse(e,void 0)},T(vn,ut),vn.prototype.g=function(){return new yn(this.l,this.j)},vn.prototype.i=(nn={},function(){return nn}),T(yn,Te);var mn=0;function gn(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function bn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,kn(e)}function kn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=yn.prototype).open=function(e,t){if(this.readyState!=mn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,kn(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||v).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bn(this)),this.readyState=mn},r.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof v.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gn(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},r.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?bn(this):kn(this),3==this.readyState&&gn(this)}},r.Va=function(e){this.g&&(this.response=this.responseText=e,bn(this))},r.Ua=function(e){this.g&&(this.response=e,bn(this))},r.ga=function(){this.g&&bn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var wn=v.JSON.parse;function _n(e){Te.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=On,this.K=this.L=!1}T(_n,Te);var On="",En=/^https?$/i,Tn=["POST","PUT"];function xn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Cn(e),jn(e)}function Cn(e){e.D||(e.D=!0,xe(e,"complete"),xe(e,"error"))}function Sn(e){if(e.h&&"undefined"!=typeof p&&(!e.C[1]||4!=Nn(e)||2!=e.aa()))if(e.v&&4==Nn(e))ze(e.Ha,0,e);else if(xe(e,"readystatechange"),4==Nn(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Pt)[1]||null;if(!a&&v.self&&v.self.location){var o=v.self.location.protocol;a=o.substr(0,o.length-1)}i=!En.test(a?a.toLowerCase():"")}t=i}if(t)xe(e,"complete"),xe(e,"success");else{e.m=6;try{var u=2<Nn(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",Cn(e)}}finally{jn(e)}}}function jn(e,t){if(e.g){In(e);var n=e.g,r=e.C[0]?y:null;e.g=null,e.C=null,t||xe(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function In(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(v.clearTimeout(e.A),e.A=null)}function Nn(e){return e.g?e.g.readyState:0}function Pn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case On:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Rn(e){var t="";return oe(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function An(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rn(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ft(e,t,n))}function Dn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ln(e){this.Ca=0,this.i=[],this.j=new Qe,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Dn("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Dn("baseRetryDelayMs",5e3,e),this.bb=Dn("retryDelaySeedMs",1e4,e),this.$a=Dn("forwardChannelMaxRetries",2,e),this.ta=Dn("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new tn(e&&e.concurrentRequestLimit),this.Fa=new hn,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Mn(e){if(Un(e),3==e.G){var t=e.U++,n=At(e.F);Ft(n,"SID",e.I),Ft(n,"RID",t),Ft(n,"TYPE","terminate"),qn(e,n),(t=new vt(e,e.j,t,void 0)).K=2,t.v=Ut(At(n)),n=!1,v.navigator&&v.navigator.sendBeacon&&(n=v.navigator.sendBeacon(t.v.toString(),"")),!n&&v.Image&&((new Image).src=t.v,n=!0),n||(t.g=er(t.l,null),t.g.da(t.v)),t.F=Date.now(),Tt(t)}Jn(e)}function Fn(e){e.g&&(Kn(e),e.g.cancel(),e.g=null)}function Un(e){Fn(e),e.u&&(v.clearTimeout(e.u),e.u=null),Qn(e),e.h.cancel(),e.m&&("number"===typeof e.m&&v.clearTimeout(e.m),e.m=null)}function Vn(e){an(e.h)||e.m||(e.m=!0,De(e.Ja,e),e.C=0)}function zn(e,t){var n;n=t?t.m:e.U++;var r=At(e.F);Ft(r,"SID",e.I),Ft(r,"RID",n),Ft(r,"AID",e.T),qn(e,r),e.o&&e.s&&An(r,e.o,e.s),n=new vt(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Bn(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),sn(e.h,n),kt(n,r,t)}function qn(e,t){e.ia&&oe(e.ia,(function(e,n){Ft(t,n,e)})),e.l&&Nt({},(function(e,n){Ft(t,n,e)}))}function Bn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?O(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{dn(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Wn(e){e.g||e.u||(e.Z=1,De(e.Ia,e),e.A=0)}function Hn(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=it(O(e.Ia,e),$n(e,e.A)),e.A++,!0)}function Kn(e){null!=e.B&&(v.clearTimeout(e.B),e.B=null)}function Gn(e){e.g=new vt(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=At(e.sa);Ft(t,"RID","rpc"),Ft(t,"SID",e.I),Ft(t,"CI",e.L?"0":"1"),Ft(t,"AID",e.T),Ft(t,"TYPE","xmlhttp"),qn(e,t),e.o&&e.s&&An(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Ut(At(t)),n.s=null,n.P=!0,wt(n,e)}function Qn(e){null!=e.v&&(v.clearTimeout(e.v),e.v=null)}function Yn(e,t){var n=null;if(e.g==t){Qn(e),Kn(e),e.g=null;var r=2}else{if(!un(e.h,t))return;n=t.D,cn(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;xe(r=Je(),new rt(r,n)),Vn(e)}else Wn(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(on(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=it(O(e.Ja,e,t),$n(e,e.C)),e.C++,!0))}(e,t)||2==r&&Hn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Xn(e,5);break;case 4:Xn(e,10);break;case 3:Xn(e,6);break;default:Xn(e,2)}}function $n(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Xn(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=O(e.kb,e);n||(n=new Rt("//www.google.com/images/cleardot.gif"),v.location&&"http"==v.location.protocol||Dt(n,"https"),Ut(n)),function(e,t){var n=new Qe;if(v.Image){var r=new Image;r.onload=E(pn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=E(pn,n,r,"TestLoadImage: error",!1,t),r.onabort=E(pn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=E(pn,n,r,"TestLoadImage: timeout",!1,t),v.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else nt(2);e.G=0,e.l&&e.l.va(t),Jn(e),Un(e)}function Jn(e){if(e.G=0,e.la=[],e.l){var t=ln(e.h);0==t.length&&0==e.i.length||(j(e.la,t),j(e.la,e.i),e.h.i.length=0,S(e.i),e.i.length=0),e.l.ua()}}function Zn(e,t,n){var r=n instanceof Rt?At(n):new Rt(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Lt(r,r.m);else{var i=v.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Rt(null,void 0);r&&Dt(a,r),t&&(a.g=t),i&&Lt(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Ft(r,n,t),Ft(r,"VER",e.ma),qn(e,r),r}function er(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new _n(new vn({jb:!0})):new _n(e.ra)).Ka(e.H),t}function tr(){}function nr(){if(V&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function rr(e,t){Te.call(this),this.g=new Ln(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!P(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!P(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new or(this)}function ir(e){ht.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ar(){dt.call(this),this.status=1}function or(e){this.g=e}(r=_n.prototype).Ka=function(e){this.L=e},r.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lt.g(),this.C=this.u?st(this.u):st(lt),this.g.onreadystatechange=O(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(c){return void xn(this,c)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var u,s=Object(a.a)(r.keys());try{for(s.s();!(u=s.n()).done;){var c=u.value;n.set(c,r.get(c))}}catch(y){s.e(y)}finally{s.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),o=v.FormData&&e instanceof v.FormData,!(0<=C(Tn,t))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var l,f=Object(a.a)(n);try{for(f.s();!(l=f.n()).done;){var h=Object(i.a)(l.value,2),d=h[0],p=h[1];this.g.setRequestHeader(d,p)}}catch(y){f.e(y)}finally{f.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{In(this),0<this.B&&((this.K=function(e){return V&&X()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=O(this.qa,this)):this.A=ze(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(c){xn(this,c)}},r.qa=function(){"undefined"!=typeof p&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xe(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,xe(this,"complete"),xe(this,"abort"),jn(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jn(this,!0)),_n.X.M.call(this)},r.Ha=function(){this.s||(this.F||this.v||this.l?Sn(this):this.fb())},r.fb=function(){Sn(this)},r.aa=function(){try{return 2<Nn(this)?this.g.status:-1}catch(nn){return-1}},r.fa=function(){try{return this.g?this.g.responseText:""}catch(nn){return""}},r.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),wn(t)}},r.Ea=function(){return this.m},r.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(r=Ln.prototype).ma=8,r.G=1,r.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new vt(this,this.j,e,void 0),n=this.s;if(this.S&&(n?ce(n=ue(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Bn(this,t,r),Ft(i=At(this.F),"RID",e),Ft(i,"CVER",22),this.D&&Ft(i,"X-HTTP-Session-Id",this.D),qn(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Rn(n)))+"&"+r:this.o&&An(i,this.o,n)),sn(this.h,t),this.Ya&&Ft(i,"TYPE","init"),this.O?(Ft(i,"$req",r),Ft(i,"SID","null"),t.Z=!0,kt(t,i,null)):kt(t,i,r),this.G=2}}else 3==this.G&&(e?zn(this,e):0==this.i.length||an(this.h)||zn(this))},r.Ia=function(){if(this.u=null,Gn(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=it(O(this.eb,this),e)}},r.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,nt(10),Fn(this),Gn(this))},r.cb=function(){null!=this.v&&(this.v=null,Fn(this),Hn(this),nt(19))},r.kb=function(e){e?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))},(r=tr.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Ra=function(){},nr.prototype.g=function(e,t){return new rr(e,t)},T(rr,Te),rr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;nt(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Zn(e,null,e.V),Vn(e)},rr.prototype.close=function(){Mn(this.g)},rr.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Se(e),e=n);t.i.push(new en(t.ab++,e)),3==t.G&&Vn(t)},rr.prototype.M=function(){this.g.l=null,delete this.j,Mn(this.g),delete this.g,rr.X.M.call(this)},T(ir,ht),T(ar,dt),T(or,tr),or.prototype.xa=function(){xe(this.g,"a")},or.prototype.wa=function(e){xe(this.g,new ir(e))},or.prototype.va=function(e){xe(this.g,new ar)},or.prototype.ua=function(){xe(this.g,"b")},nr.prototype.createWebChannel=nr.prototype.g,rr.prototype.send=rr.prototype.u,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,at.NO_ERROR=0,at.TIMEOUT=8,at.HTTP_ERROR=6,ot.COMPLETE="complete",ct.EventType=ft,ft.OPEN="a",ft.CLOSE="b",ft.ERROR="c",ft.MESSAGE="d",Te.prototype.listen=Te.prototype.N,_n.prototype.listenOnce=_n.prototype.O,_n.prototype.getLastError=_n.prototype.Oa,_n.prototype.getLastErrorCode=_n.prototype.Ea,_n.prototype.getStatus=_n.prototype.aa,_n.prototype.getResponseJson=_n.prototype.Sa,_n.prototype.getResponseText=_n.prototype.fa,_n.prototype.send=_n.prototype.da,_n.prototype.setWithCredentials=_n.prototype.Ka;var ur=d.createWebChannelTransport=function(){return new nr},sr=d.getStatEventTarget=function(){return Je()},cr=d.ErrorCode=at,lr=d.EventType=ot,fr=d.Event=$e,hr=d.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},dr=d.FetchXmlHttpFactory=vn,pr=d.WebChannel=ct,vr=d.XhrIo=_n}).call(this,n(32))},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v}));var r=n(0),i=n.n(r),a=n(15),o=n(3),u=n(12),s=n(7),c=n(1),l=n(2),f=n(4),h=function(){function e(t,n,r){Object(c.a)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Object(l.a)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),d="[DEFAULT]",p=function(){function e(t,n){Object(c.a)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Object(l.a)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new f.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:d})}catch(l){}var t,n=Object(s.a)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Object(u.a)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch(l){}}}catch(f){n.e(f)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Object(a.a)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Object(a.a)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Object(s.a)(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var c=Object(u.a)(i.value,2),l=c[0],f=c[1],h=this.normalizeInstanceIdentifier(l);r===h&&f.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===d?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.component?this.component.multipleInstances?e:d:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var v=function(){function e(t){Object(c.a)(this,e),this.name=t,this.providers=new Map}return Object(l.a)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new p(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}()},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(47);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"d",(function(){return r.d})),n.d(t,"e",(function(){return r.e})),n.d(t,"f",(function(){return r.f}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return s}));var r={prefix:"fas",iconName:"desktop",icon:[576,512,[],"f108","M528 0H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h192l-16 48h-72c-13.3 0-24 10.7-24 24s10.7 24 24 24h272c13.3 0 24-10.7 24-24s-10.7-24-24-24h-72l-16-48h192c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-16 352H64V64h448v288z"]},i={prefix:"fas",iconName:"microphone",icon:[352,512,[],"f130","M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"]},a={prefix:"fas",iconName:"microphone-slash",icon:[640,512,[],"f131","M633.82 458.1l-157.8-121.96C488.61 312.13 496 285.01 496 256v-48c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v48c0 17.92-3.96 34.8-10.72 50.2l-26.55-20.52c3.1-9.4 5.28-19.22 5.28-29.67V96c0-53.02-42.98-96-96-96s-96 42.98-96 96v45.36L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.36 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.41-6.97 4.16-17.02-2.82-22.45zM400 464h-56v-33.77c11.66-1.6 22.85-4.54 33.67-8.31l-50.11-38.73c-6.71.4-13.41.87-20.35.2-55.85-5.45-98.74-48.63-111.18-101.85L144 241.31v6.85c0 89.64 63.97 169.55 152 181.69V464h-56c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16z"]},o={prefix:"fas",iconName:"sign-out-alt",icon:[512,512,[],"f2f5","M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"]},u={prefix:"fas",iconName:"video",icon:[576,512,[],"f03d","M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"]},s={prefix:"fas",iconName:"video-slash",icon:[640,512,[],"f4e2","M633.8 458.1l-55-42.5c15.4-1.4 29.2-13.7 29.2-31.1v-257c0-25.5-29.1-40.4-50.4-25.8L448 177.3v137.2l-32-24.7v-178c0-26.4-21.4-47.8-47.8-47.8H123.9L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4L42.7 82 416 370.6l178.5 138c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.5-6.9 4.2-17-2.8-22.4zM32 400.2c0 26.4 21.4 47.8 47.8 47.8h288.4c11.2 0 21.4-4 29.6-10.5L32 154.7v245.5z"]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(34);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return W}));var r=n(5),i=n.n(r),a=(n(14),i.a.createContext(null));var o=function(e){e()};function u(){var e=o,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var s={notify:function(){},get:function(){return[]}};function c(e,t){var n,r=s;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=u())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=s)},getListeners:function(){return r}};return o}var l="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;var f=function(e){var t=e.store,n=e.context,o=e.children,u=Object(r.useMemo)((function(){var e=c(t);return{store:t,subscription:e}}),[t]),s=Object(r.useMemo)((function(){return t.getState()}),[t]);l((function(){var e=u.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[u,s]);var f=n||a;return i.a.createElement(f.Provider,{value:u},o)};function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var p=n(46),v=n.n(p),y=n(51),m=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],g=["reactReduxForwardedRef"],b=[],k=[null,null];function w(e,t){var n=e[1];return[t.payload,n+1]}function _(e,t,n){l((function(){return e.apply(void 0,t)}),n)}function O(e,t,n,r,i,a,o){e.current=r,t.current=i,n.current=!1,a.current&&(a.current=null,o())}function E(e,t,n,r,i,a,o,u,s,c){if(e){var l=!1,f=null,h=function(){if(!l){var e,n,h=t.getState();try{e=r(h,i.current)}catch(d){n=d,f=d}n||(f=null),e===a.current?o.current||s():(a.current=e,u.current=e,o.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var T=function(){return[null,0]};function x(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,u=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,s=n.methodName,l=void 0===s?"connectAdvanced":s,f=n.renderCountProp,p=void 0===f?void 0:f,x=n.shouldHandleStateChanges,C=void 0===x||x,S=n.storeKey,j=void 0===S?"store":S,I=(n.withRef,n.forwardRef),N=void 0!==I&&I,P=n.context,R=void 0===P?a:P,A=d(n,m),D=R;return function(t){var n=t.displayName||t.name||"Component",a=u(n),o=h({},A,{getDisplayName:u,methodName:l,renderCountProp:p,shouldHandleStateChanges:C,storeKey:j,displayName:a,wrappedComponentName:n,WrappedComponent:t}),s=A.pure;var f=s?r.useMemo:function(e){return e()};function m(n){var a=Object(r.useMemo)((function(){var e=n.reactReduxForwardedRef,t=d(n,g);return[n.context,e,t]}),[n]),u=a[0],s=a[1],l=a[2],p=Object(r.useMemo)((function(){return u&&u.Consumer&&Object(y.isContextConsumer)(i.a.createElement(u.Consumer,null))?u:D}),[u,D]),v=Object(r.useContext)(p),m=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(v)&&Boolean(v.store);var x=m?n.store:v.store,S=Object(r.useMemo)((function(){return function(t){return e(t.dispatch,o)}(x)}),[x]),j=Object(r.useMemo)((function(){if(!C)return k;var e=c(x,m?null:v.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[x,m,v]),I=j[0],N=j[1],P=Object(r.useMemo)((function(){return m?v:h({},v,{subscription:I})}),[m,v,I]),R=Object(r.useReducer)(w,b,T),A=R[0][0],L=R[1];if(A&&A.error)throw A.error;var M=Object(r.useRef)(),F=Object(r.useRef)(l),U=Object(r.useRef)(),V=Object(r.useRef)(!1),z=f((function(){return U.current&&l===F.current?U.current:S(x.getState(),l)}),[x,A,l]);_(O,[F,M,V,l,z,U,N]),_(E,[C,x,I,S,F,M,V,U,N,L],[x,I,S]);var q=Object(r.useMemo)((function(){return i.a.createElement(t,h({},z,{ref:s}))}),[s,t,z]);return Object(r.useMemo)((function(){return C?i.a.createElement(p.Provider,{value:P},q):q}),[p,q,P])}var x=s?i.a.memo(m):m;if(x.WrappedComponent=t,x.displayName=m.displayName=a,N){var S=i.a.forwardRef((function(e,t){return i.a.createElement(x,h({},e,{reactReduxForwardedRef:t}))}));return S.displayName=a,S.WrappedComponent=t,v()(S,t)}return v()(x,t)}}function C(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function S(e,t){if(C(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!C(e[n[i]],t[n[i]]))return!1;return!0}function j(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function I(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function N(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=I(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=I(i),i=r(t,n)),i},r}}var P=[function(e){return"function"===typeof e?N(e):void 0},function(e){return e?void 0:j((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?j((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];var R=[function(e){return"function"===typeof e?N(e):void 0},function(e){return e?void 0:j((function(){return{}}))}];function A(e,t,n){return h({},n,e,t)}var D=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,u){var s=e(t,n,u);return o?i&&a(s,r)||(r=s):(o=!0,r=s),r}}}(e):void 0},function(e){return e?void 0:function(){return A}}];var L=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function M(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function F(e,t,n,r,i){var a,o,u,s,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p=!f(d,o),v=!l(i,a,d,o);return a=i,o=d,p&&v?(u=e(a,o),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):p?(e.dependsOnOwnProps&&(u=e(a,o)),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):v?function(){var t=e(a,o),r=!h(t,u);return u=t,r&&(c=n(u,s,o)),c}():c}return function(i,l){return d?p(i,l):(u=e(a=i,o=l),s=t(r,o),c=n(u,s,o),d=!0,c)}}function U(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=d(t,L),o=n(e,a),u=r(e,a),s=i(e,a);return(a.pure?F:M)(o,u,s,e,a)}var V=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function z(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function q(e,t){return e===t}function B(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?x:n,i=t.mapStateToPropsFactories,a=void 0===i?R:i,o=t.mapDispatchToPropsFactories,u=void 0===o?P:o,s=t.mergePropsFactories,c=void 0===s?D:s,l=t.selectorFactory,f=void 0===l?U:l;return function(e,t,n,i){void 0===i&&(i={});var o=i,s=o.pure,l=void 0===s||s,p=o.areStatesEqual,v=void 0===p?q:p,y=o.areOwnPropsEqual,m=void 0===y?S:y,g=o.areStatePropsEqual,b=void 0===g?S:g,k=o.areMergedPropsEqual,w=void 0===k?S:k,_=d(o,V),O=z(e,a,"mapStateToProps"),E=z(t,u,"mapDispatchToProps"),T=z(n,c,"mergeProps");return r(f,h({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:O,initMapDispatchToProps:E,initMergeProps:T,pure:l,areStatesEqual:v,areOwnPropsEqual:m,areStatePropsEqual:b,areMergedPropsEqual:w},_))}}var W=B();var H,K=n(37);H=K.unstable_batchedUpdates,o=H},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(20),i=n(33);var a=n(43);function o(e){var t="function"===typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return Object(a.a)(e,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(o,e)})(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(35),i=n(14),a=n.n(i),o=n(5),u=n.n(o);function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}function v(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=p(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var y=!1;try{y=!0}catch(w){}function m(e){return r.b.icon?r.b.icon(e):null===e?null:"object"===s(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function g(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?c({},e,t):{}}function b(e){var t=e.forwardedRef,n=h(e,["forwardedRef"]),i=n.icon,a=n.mask,o=n.symbol,u=n.className,s=n.title,l=n.titleId,p=m(i),v=g("classes",[].concat(d(function(e){var t,n=e.spin,r=e.pulse,i=e.fixedWidth,a=e.inverse,o=e.border,u=e.listItem,s=e.flip,l=e.size,f=e.rotation,h=e.pull,d=(c(t={"fa-spin":n,"fa-pulse":r,"fa-fw":i,"fa-inverse":a,"fa-border":o,"fa-li":u,"fa-flip-horizontal":"horizontal"===s||"both"===s,"fa-flip-vertical":"vertical"===s||"both"===s},"fa-".concat(l),"undefined"!==typeof l&&null!==l),c(t,"fa-rotate-".concat(f),"undefined"!==typeof f&&null!==f&&0!==f),c(t,"fa-pull-".concat(h),"undefined"!==typeof h&&null!==h),c(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(d).map((function(e){return d[e]?e:null})).filter((function(e){return e}))}(n)),d(u.split(" ")))),w=g("transform","string"===typeof n.transform?r.b.transform(n.transform):n.transform),_=g("mask",m(a)),O=Object(r.a)(p,f({},v,{},w,{},_,{symbol:o,title:s,titleId:l}));if(!O)return function(){var e;!y&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",p),null;var E=O.abstract,T={ref:t};return Object.keys(n).forEach((function(e){b.defaultProps.hasOwnProperty(e)||(T[e]=n[e])})),k(E[0],T)}b.displayName="FontAwesomeIcon",b.propTypes={border:a.a.bool,className:a.a.string,mask:a.a.oneOfType([a.a.object,a.a.array,a.a.string]),fixedWidth:a.a.bool,inverse:a.a.bool,flip:a.a.oneOf(["horizontal","vertical","both"]),icon:a.a.oneOfType([a.a.object,a.a.array,a.a.string]),listItem:a.a.bool,pull:a.a.oneOf(["right","left"]),pulse:a.a.bool,rotation:a.a.oneOf([0,90,180,270]),size:a.a.oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:a.a.bool,symbol:a.a.oneOfType([a.a.bool,a.a.string]),title:a.a.string,transform:a.a.oneOfType([a.a.string,a.a.object]),swapOpacity:a.a.bool},b.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var k=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=v(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[p(t)]=r}return e}),{attrs:{}}),o=r.style,u=void 0===o?{}:o,s=h(r,["style"]);return a.attrs.style=f({},a.attrs.style,{},u),t.apply(void 0,[n.tag,f({},a.attrs,{},s)].concat(d(i)))}.bind(null,u.a.createElement)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e,r){function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",(function(){return Ie})),n.d(t,"b",(function(){return je}));var c=function(){},l={},f={},h={mark:c,measure:c};try{"undefined"!==typeof window&&(l=window),"undefined"!==typeof document&&(f=document),"undefined"!==typeof MutationObserver&&MutationObserver,"undefined"!==typeof performance&&(h=performance)}catch(Ne){}var d=(l.navigator||{}).userAgent,p=void 0===d?"":d,v=l,y=f,m=h,g=(v.document,!!y.documentElement&&!!y.head&&"function"===typeof y.addEventListener&&"function"===typeof y.createElement),b=(~p.indexOf("MSIE")||p.indexOf("Trident/"),"svg-inline--fa"),k="data-fa-i2svg",w=(function(){try{}catch(Ne){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),_=w.concat([11,12,13,14,15,16,17,18,19,20]),O={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},E=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",O.GROUP,O.SWAP_OPACITY,O.PRIMARY,O.SECONDARY].concat(w.map((function(e){return"".concat(e,"x")}))).concat(_.map((function(e){return"w-".concat(e)}))),v.FontAwesomeConfig||{});if(y&&"function"===typeof y.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=s(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=y.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(E[r]=i)}))}var T=u({},{familyPrefix:"fa",replacementClass:b,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},E);T.autoReplaceSvg||(T.observeMutations=!1);var x=u({},T);v.FontAwesomeConfig=x;var C=v||{};C.___FONT_AWESOME___||(C.___FONT_AWESOME___={}),C.___FONT_AWESOME___.styles||(C.___FONT_AWESOME___.styles={}),C.___FONT_AWESOME___.hooks||(C.___FONT_AWESOME___.hooks={}),C.___FONT_AWESOME___.shims||(C.___FONT_AWESOME___.shims=[]);var S=C.___FONT_AWESOME___,j=[];g&&((y.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(y.readyState)||y.addEventListener("DOMContentLoaded",(function e(){y.removeEventListener("DOMContentLoaded",e),1,j.map((function(e){return e()}))})));var I,N="pending",P="settled",R="fulfilled",A="rejected",D=function(){},L="undefined"!==typeof e&&"undefined"!==typeof e.process&&"function"===typeof e.process.emit,M="undefined"===typeof r?setTimeout:r,F=[];function U(){for(var e=0;e<F.length;e++)F[e][0](F[e][1]);F=[],I=!1}function V(e,t){F.push([e,t]),I||(I=!0,M(U,0))}function z(e){var t=e.owner,n=t._state,r=t._data,i=e[n],a=e.then;if("function"===typeof i){n=R;try{r=i(r)}catch(Ne){H(a,Ne)}}q(a,r)||(n===R&&B(a,r),n===A&&H(a,r))}function q(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"===typeof t||"object"===i(t))){var r=t.then;if("function"===typeof r)return r.call(t,(function(r){n||(n=!0,t===r?W(e,r):B(e,r))}),(function(t){n||(n=!0,H(e,t))})),!0}}catch(Ne){return n||H(e,Ne),!0}return!1}function B(e,t){e!==t&&q(e,t)||W(e,t)}function W(e,t){e._state===N&&(e._state=P,e._data=t,V(G,e))}function H(e,t){e._state===N&&(e._state=P,e._data=t,V(Q,e))}function K(e){e._then=e._then.forEach(z)}function G(e){e._state=R,K(e)}function Q(t){t._state=A,K(t),!t._handled&&L&&e.process.emit("unhandledRejection",t._data,t)}function Y(t){e.process.emit("rejectionHandled",t)}function $(e){if("function"!==typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof $===!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){H(t,e)}try{e((function(e){B(t,e)}),n)}catch(Ne){n(Ne)}}(e,this)}$.prototype={constructor:$,_state:N,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(D),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===A&&L&&V(Y,this)),this._state===R||this._state===A?V(z,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},$.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new $((function(t,n){var r=[],i=0;function a(e){return i++,function(n){r[e]=n,--i||t(r)}}for(var o,u=0;u<e.length;u++)(o=e[u])&&"function"===typeof o.then?o.then(a(u),n):r[u]=o;i||t(r)}))},$.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new $((function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"===typeof r.then?r.then(t,n):t(r)}))},$.resolve=function(e){return e&&"object"===i(e)&&e.constructor===$?e:new $((function(t){t(e)}))},$.reject=function(e){return new $((function(t,n){n(e)}))};var X={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function J(e){if(e&&g){var t=y.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=y.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}return y.head.insertBefore(t,r),e}}function Z(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function ee(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function te(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n],";")}),"")}function ne(e){return e.size!==X.size||e.x!==X.x||e.y!==X.y||e.rotate!==X.rotate||e.flipX||e.flipY}function re(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),u="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(u)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var ie={x:0,y:0,width:"100%",height:"100%"};function ae(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function oe(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,s=e.symbol,c=e.title,l=e.maskId,f=e.titleId,h=e.extra,d=e.watchable,p=void 0!==d&&d,v=r.found?r:n,y=v.width,m=v.height,g="fak"===i,b=g?"":"fa-w-".concat(Math.ceil(y/m*16)),w=[x.replacementClass,a?"".concat(x.familyPrefix,"-").concat(a):"",b].filter((function(e){return-1===h.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(h.classes).join(" "),_={children:[],attributes:u({},h.attributes,{"data-prefix":i,"data-icon":a,class:w,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(y," ").concat(m)})},O=g&&!~h.classes.indexOf("fa-fw")?{width:"".concat(y/m*16*.0625,"em")}:{};p&&(_.attributes[k]=""),c&&_.children.push({tag:"title",attributes:{id:_.attributes["aria-labelledby"]||"title-".concat(f||Z())},children:[c]});var E=u({},_,{prefix:i,iconName:a,main:n,mask:r,maskId:l,transform:o,symbol:s,styles:u({},O,h.styles)}),T=r.found&&n.found?function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,s=e.transform,c=i.width,l=i.icon,f=a.width,h=a.icon,d=re({transform:s,containerWidth:f,iconWidth:c}),p={tag:"rect",attributes:u({},ie,{fill:"white"})},v=l.children?{children:l.children.map(ae)}:{},y={tag:"g",attributes:u({},d.inner),children:[ae(u({tag:l.tag,attributes:u({},l.attributes,d.path)},v))]},m={tag:"g",attributes:u({},d.outer),children:[y]},g="mask-".concat(o||Z()),b="clip-".concat(o||Z()),k={tag:"mask",attributes:u({},ie,{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,m]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:(t=h,"g"===t.tag?t.children:[t])},k]};return n.push(w,{tag:"rect",attributes:u({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(g,")")},ie)}),{children:n,attributes:r}}(E):function(e){var t=e.children,n=e.attributes,r=e.main,i=e.transform,a=te(e.styles);if(a.length>0&&(n.style=a),ne(i)){var o=re({transform:i,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:u({},o.outer),children:[{tag:"g",attributes:u({},o.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:u({},r.icon.attributes,o.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}}(E),C=T.children,S=T.attributes;return E.children=C,E.attributes=S,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:u({},i,{id:!0===a?"".concat(t,"-").concat(x.familyPrefix,"-").concat(n):a}),children:r}]}]}(E):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(ne(o)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=te(u({},a,{"transform-origin":"".concat(s.x+o.x/16,"em ").concat(s.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(E)}var ue=function(){},se=(x.measurePerformance&&m&&m.mark&&m.measure,function(e,t,n,r){var i,a,o,u=Object.keys(e),s=u.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[u[0]]):(i=0,o=n);i<s;i++)o=c(o,e[a=u[i]],a,e);return o});function ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=Object.keys(t).reduce((function(e,n){var r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e}),{});"function"!==typeof S.hooks.addPack||i?S.styles[e]=u({},S.styles[e]||{},a):S.hooks.addPack(e,a),"fas"===e&&ce("fa",t)}var le=S.styles,fe=S.shims,he=function(){var e=function(e){return se(le,(function(t,n,r){return t[r]=se(n,e,{}),t}),{})};e((function(e,t,n){return t[3]&&(e[t[3]]=n),e})),e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in le;se(fe,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),e[r]={prefix:i,iconName:a},e}),{})};he();S.styles;function de(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function pe(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?ee(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(ee(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(pe).join(""),"</").concat(t,">")}var ve=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),t):t};function ye(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}ye.prototype=Object.create(Error.prototype),ye.prototype.constructor=ye;var me={fill:"currentColor"},ge={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},be={tag:"path",attributes:u({},me,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},ke=u({},ge,{attributeName:"opacity"});u({},me,{cx:"256",cy:"364",r:"28"}),u({},ge,{attributeName:"r",values:"28;14;28;28;14;28;"}),u({},ke,{values:"1;0;1;1;0;1;"}),u({},me,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),u({},ke,{values:"1;0;0;0;0;1;"}),u({},me,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),u({},ke,{values:"0;0;1;1;0;0;"}),S.styles;function we(e){var t=e[0],n=e[1],r=s(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(x.familyPrefix,"-").concat(O.GROUP)},children:[{tag:"path",attributes:{class:"".concat(x.familyPrefix,"-").concat(O.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(x.familyPrefix,"-").concat(O.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}S.styles;function _e(){var e="fa",t=b,n=x.familyPrefix,r=x.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),u=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(u,".".concat(r))}return i}function Oe(){x.autoAddCss&&!Se&&(J(_e()),Se=!0)}function Ee(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return pe(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(g){var t=y.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function Te(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return de(Ce.definitions,n,r)||de(S.styles,n,r)}var xe,Ce=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,(n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=u({},e.definitions[t]||{},i[t]),ce(t,i[t]),he()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon;e[i]||(e[i]={}),e[i][a]=o})),e}}])&&a(t.prototype,n),r&&a(t,r),e}()),Se=!1,je={transform:function(e){return ve(e)}},Ie=(xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?X:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,s=void 0===o?null:o,c=t.maskId,l=void 0===c?null:c,f=t.title,h=void 0===f?null:f,d=t.titleId,p=void 0===d?null:d,v=t.classes,y=void 0===v?[]:v,m=t.attributes,g=void 0===m?{}:m,b=t.styles,k=void 0===b?{}:b;if(e){var w=e.prefix,_=e.iconName,O=e.icon;return Ee(u({type:"icon"},e),(function(){return Oe(),x.autoA11y&&(h?g["aria-labelledby"]="".concat(x.replacementClass,"-title-").concat(p||Z()):(g["aria-hidden"]="true",g.focusable="false")),oe({icons:{main:we(O),mask:s?we(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:_,transform:u({},X,r),symbol:a,title:h,maskId:l,titleId:p,extra:{attributes:g,styles:k,classes:y}})}))}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:Te(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:Te(r||{})),xe(n,u({},t,{mask:r}))})}).call(this,n(32),n(61).setImmediate)},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=u(h);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(54)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(15);var r=n(12),i=(n(7),n(5)),a=n(13),o=n(10);function u(e){var t=e.basename,n=e.children,u=e.window,s=i.useRef();null==s.current&&(s.current=Object(o.f)({window:u,v5Compat:!0}));var c=s.current,l=i.useState({action:c.action,location:c.location}),f=Object(r.a)(l,2),h=f[0],d=f[1];return i.useLayoutEffect((function(){return c.listen(d)}),[c]),i.createElement(a.b,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var s,c;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(s||(s={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(c||(c={}))},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(33),i=n(42);function a(e,t,n){return(a=Object(i.a)()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&Object(r.a)(a,n.prototype),a}).apply(null,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(19),i=n(5);function a(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=function(e){return{loading:void 0===e||null===e,value:e}},c=function(e){var t=e?e():void 0,n=Object(i.useReducer)((function(e,t){switch(t.type){case"error":return u(u({},e),{error:t.error,loading:!1,value:void 0});case"reset":return s(t.defaultValue);case"value":return u(u({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),s(t)),r=n[0],a=n[1],o=Object(i.useCallback)((function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})}),[e]),c=Object(i.useCallback)((function(e){a({type:"error",error:e})}),[]),l=Object(i.useCallback)((function(e){a({type:"value",value:e})}),[]);return Object(i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:c,setValue:l,value:r.value}}),[r.error,r.loading,o,c,l,r.value])},l=function(e,t){var n=c((function(){return e.currentUser})),u=n.error,s=n.loading,l=n.setError,f=n.setValue,h=n.value;return Object(i.useEffect)((function(){var n=Object(r.h)(e,(function(e){return a(void 0,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),l(n),[3,4];case 4:return f(e),[2]}}))}))}),l);return function(){n()}}),[e]),[h,s,u]}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,u,s=o(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(s[l]=n[l]);if(r){u=r(n);for(var f=0;f<u.length;f++)a.call(n,u[f])&&(s[u[f]]=n[u[f]])}}return s}},function(e,t,n){"use strict";var r=n(67),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(b){}}}}return t}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Xu})),n.d(t,"b",(function(){return tu})),n.d(t,"c",(function(){return $u})),n.d(t,"d",(function(){return iu})),n.d(t,"e",(function(){return Au})),n.d(t,"f",(function(){return Lu}));var r=n(43),i=n(22),a=n(20),o=n(12),u=n(30),s=n(7),c=n(0),l=n.n(c),f=n(3),h=n(8),d=n(9),p=n(15),v=n(1),y=n(2),m=n(18),g=n(24),b=n(21),k=n(4),w=n(23),_="@firebase/firestore",O=function(){function e(t){Object(v.a)(this,e),this.uid=t}return Object(y.a)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();O.UNAUTHENTICATED=new O(null),O.GOOGLE_CREDENTIALS=new O("google-credentials-uid"),O.FIRST_PARTY=new O("first-party-uid"),O.MOCK_USER=new O("mock-user");var E="9.19.0",T=new b.b("@firebase/firestore");function x(){return T.logLevel}function C(e){if(T.logLevel<=b.a.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(I);T.debug.apply(T,["Firestore (".concat(E,"): ").concat(e)].concat(Object(p.a)(i)))}}function S(e){if(T.logLevel<=b.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(I);T.error.apply(T,["Firestore (".concat(E,"): ").concat(e)].concat(Object(p.a)(i)))}}function j(e){if(T.logLevel<=b.a.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(I);T.warn.apply(T,["Firestore (".concat(E,"): ").concat(e)].concat(Object(p.a)(i)))}}function I(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(E,") INTERNAL ASSERTION FAILED: ")+e;throw S(t),new Error(t)}function P(e,t){e||N()}function R(e,t){return e}var A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},D=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return n}(k.c),L=function e(){var t=this;Object(v.a)(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},M=function e(t,n){Object(v.a)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))},F=function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(O.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),U=function(){function e(t){Object(v.a)(this,e),this.token=t,this.changeListener=null}return Object(y.a)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),V=function(){function e(t){Object(v.a)(this,e),this.t=t,this.currentUser=O.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Object(y.a)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new L;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new L,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){C("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new L)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(P("string"==typeof n.accessToken),new M(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return P(null===e||"string"==typeof e),new O(e)}}]),e}(),z=function(){function e(t,n,r){Object(v.a)(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=O.FIRST_PARTY,this.g=new Map}return Object(y.a)(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),q=function(){function e(t,n,r){Object(v.a)(this,e),this.h=t,this.l=n,this.m=r}return Object(y.a)(e,[{key:"getToken",value:function(){return Promise.resolve(new z(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(O.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),B=function e(t){Object(v.a)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)},W=function(){function e(t){Object(v.a)(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return Object(y.a)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&C("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,C("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){C("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(P("string"==typeof t.token),e.T=t.token,new B(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function H(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var K=function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=H(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function G(e,t){return e<t?-1:e>t?1:0}function Q(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Y=function(){function e(t,n){if(Object(v.a)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new D(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new D(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new D(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Object(y.a)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?G(this.nanoseconds,e.nanoseconds):G(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),$=function(){function e(t){Object(v.a)(this,e),this.timestamp=t}return Object(y.a)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Y(0,0))}},{key:"max",value:function(){return new e(new Y(253402300799,999999999))}}]),e}(),X=function(){function e(t,n,r){Object(v.a)(this,e),void 0===n?n=0:n>t.length&&N(),void 0===r?r=t.length-n:r>t.length-n&&N(),this.segments=t,this.offset=n,this.len=r}return Object(y.a)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),J=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new D(A.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Object(p.a)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(X),Z=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ee=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Z.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new D(A.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new D(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new D(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new D(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(X),te=function(){function e(t){Object(v.a)(this,e),this.path=t}return Object(y.a)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===J.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(J.fromString(t))}},{key:"fromName",value:function(t){return new e(J.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(J.emptyPath())}},{key:"comparator",value:function(e,t){return J.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new J(t.slice()))}}]),e}(),ne=function e(t,n,r,i){Object(v.a)(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i};ne.UNKNOWN_ID=-1;function re(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=$.fromTimestamp(1e9===r?new Y(n+1,0):new Y(n,r));return new ae(i,te.empty(),t)}function ie(e){return new ae(e.readTime,e.key,-1)}var ae=function(){function e(t,n,r){Object(v.a)(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Object(y.a)(e,null,[{key:"min",value:function(){return new e($.min(),te.empty(),-1)}},{key:"max",value:function(){return new e($.max(),te.empty(),-1)}}]),e}();function oe(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=te.comparator(e.documentKey,t.documentKey))?n:G(e.largestBatchId,t.largestBatchId)}var ue="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",se=function(){function e(){Object(v.a)(this,e),this.onCommittedListeners=[]}return Object(y.a)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function ce(e){return le.apply(this,arguments)}function le(){return(le=Object(f.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===A.FAILED_PRECONDITION&&t.message===ue){e.next=2;break}throw t;case 2:C("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fe=function(){function e(t){var n=this;Object(v.a)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Object(y.a)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&N(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Object(s.a)(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function he(e){return"IndexedDbTransactionError"===e.name}var de=function(){function e(t,n){var r=this;Object(v.a)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return Object(y.a)(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function pe(e){return null==e}function ve(e){return 0===e&&1/e==-1/0}function ye(e){return"number"==typeof e&&Number.isInteger(e)&&!ve(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}de.ct=-1;var me=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ge=([].concat(Object(p.a)(me),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),be=ge;[].concat(be,["indexConfiguration","indexState","indexEntries"]);function ke(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function we(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function _e(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Oe=function(){function e(t,n){Object(v.a)(this,e),this.comparator=t,this.root=n||Te.EMPTY}return Object(y.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Te.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Te.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ee(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ee(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ee(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ee(this.root,e,this.comparator,!0)}}]),e}(),Ee=function(){function e(t,n,r,i){Object(v.a)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Object(y.a)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Te=function(){function e(t,n,r,i,a){Object(v.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Object(y.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw N();if(this.right.isRed())throw N();var e=this.left.check();if(e!==this.right.check())throw N();return e+(this.isRed()?0:1)}}]),e}();Te.EMPTY=null,Te.RED=!0,Te.BLACK=!1,Te.EMPTY=new(function(){function e(){Object(v.a)(this,e),this.size=0}return Object(y.a)(e,[{key:"key",get:function(){throw N()}},{key:"value",get:function(){throw N()}},{key:"color",get:function(){throw N()}},{key:"left",get:function(){throw N()}},{key:"right",get:function(){throw N()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Te(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var xe=function(){function e(t){Object(v.a)(this,e),this.comparator=t,this.data=new Oe(this.comparator)}return Object(y.a)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ce(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ce(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ce=function(){function e(t){Object(v.a)(this,e),this.iter=t}return Object(y.a)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Se=function(){function e(t){Object(v.a)(this,e),this.fields=t,t.sort(ee.comparator)}return Object(y.a)(e,[{key:"unionWith",value:function(t){var n,r=new xe(ee.comparator),i=Object(s.a)(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,u=Object(s.a)(t);try{for(u.s();!(o=u.n()).done;){var c=o.value;r=r.add(c)}}catch(l){u.e(l)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Object(s.a)(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Q(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),je=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(v.a)(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return n}(Object(u.a)(Error));var Ie=function(){function e(t){Object(v.a)(this,e),this.binaryString=t}return Object(y.a)(e,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return G(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new je("Invalid base64 string: "+e):e}}(t))}},{key:"fromUint8Array",value:function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}}]),e}();Ie.EMPTY_BYTE_STRING=new Ie("");var Ne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pe(e){if(P(!!e),"string"==typeof e){var t=0,n=Ne.exec(e);if(P(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Re(e.seconds),nanos:Re(e.nanos)}}function Re(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ae(e){return"string"==typeof e?Ie.fromBase64String(e):Ie.fromUint8Array(e)}function De(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Le(e){var t=e.mapValue.fields.__previous_value__;return De(t)?Le(t):t}function Me(e){var t=Pe(e.mapValue.fields.__local_write_time__.timestampValue);return new Y(t.seconds,t.nanos)}var Fe=function e(t,n,r,i,a,o,u,s){Object(v.a)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s},Ue=function(){function e(t,n){Object(v.a)(this,e),this.projectId=t,this.database=n||"(default)"}return Object(y.a)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Ve={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ze(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?De(e)?4:tt(e)?9007199254740991:10:N()}function qe(e,t){if(e===t)return!0;var n=ze(e);if(n!==ze(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Me(e).isEqual(Me(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Pe(e.timestampValue),r=Pe(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ae(e.bytesValue).isEqual(Ae(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Re(e.geoPointValue.latitude)===Re(t.geoPointValue.latitude)&&Re(e.geoPointValue.longitude)===Re(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Re(e.integerValue)===Re(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Re(e.doubleValue),r=Re(t.doubleValue);return n===r?ve(n)===ve(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Q(e.arrayValue.values||[],t.arrayValue.values||[],qe);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ke(n)!==ke(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!qe(n[i],r[i])))return!1;return!0}(e,t);default:return N()}}function Be(e,t){return void 0!==(e.values||[]).find((function(e){return qe(e,t)}))}function We(e,t){if(e===t)return 0;var n=ze(e),r=ze(t);if(n!==r)return G(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return G(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Re(e.integerValue||e.doubleValue),r=Re(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return He(e.timestampValue,t.timestampValue);case 4:return He(Me(e),Me(t));case 5:return G(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ae(e),r=Ae(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=G(n[i],r[i]);if(0!==a)return a}return G(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=G(Re(e.latitude),Re(t.latitude));return 0!==n?n:G(Re(e.longitude),Re(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=We(n[i],r[i]);if(a)return a}return G(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ve.mapValue&&t===Ve.mapValue)return 0;if(e===Ve.mapValue)return 1;if(t===Ve.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=G(r[o],a[o]);if(0!==u)return u;var s=We(n[r[o]],i[a[o]]);if(0!==s)return s}return G(r.length,a.length)}(e.mapValue,t.mapValue);default:throw N()}}function He(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return G(e,t);var n=Pe(e),r=Pe(t),i=G(n.seconds,r.seconds);return 0!==i?i:G(n.nanos,r.nanos)}function Ke(e){return Ge(e)}function Ge(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Pe(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ae(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,te.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Object(s.a)(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ge(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n=Object.keys(e.fields||{}).sort(),r="{",i=!0,a=Object(s.a)(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;i?i=!1:r+=",",r+="".concat(o,":").concat(Ge(e.fields[o]))}}catch(u){a.e(u)}finally{a.f()}return r+"}"}(e.mapValue):N();var t,n}function Qe(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ye(e){return!!e&&"integerValue"in e}function $e(e){return!!e&&"arrayValue"in e}function Xe(e){return!!e&&"nullValue"in e}function Je(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ze(e){return!!e&&"mapValue"in e}function et(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return we(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=et(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=et(e.arrayValue.values[r]);return n}return Object.assign({},e)}function tt(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var nt=function(){function e(t){Object(v.a)(this,e),this.value=t}return Object(y.a)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ze(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=et(t)}},{key:"setAll",value:function(e){var t=this,n=ee.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=et(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ze(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return qe(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ze(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){we(t,(function(t,n){return e[t]=n}));var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(et(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function rt(e){var t=[];return we(e.fields,(function(e,n){var r=new ee([e]);if(Ze(n)){var i=rt(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Object(s.a)(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(c){o.e(c)}finally{o.f()}}}else t.push(r)})),new Se(t)}var it=function(){function e(t,n,r,i,a,o,u){Object(v.a)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return Object(y.a)(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual($.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=nt.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=nt.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=$.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,$.min(),$.min(),$.min(),nt.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,$.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,$.min(),$.min(),nt.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,$.min(),$.min(),nt.empty(),2)}}]),e}(),at=function e(t,n){Object(v.a)(this,e),this.position=t,this.inclusive=n};function ot(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?te.comparator(te.fromName(o.referenceValue),n.key):We(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ut(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!qe(e.position[n],t.position[n]))return!1;return!0}var st=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Object(v.a)(this,e),this.field=t,this.dir=n};function ct(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var lt=function e(){Object(v.a)(this,e)},ft=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Object(y.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(We(t,this.value)):null!==t&&ze(this.value)===ze(t)&&this.matchesComparison(We(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return N()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new bt(e,t,r):"array-contains"===t?new Ot(e,r):"in"===t?new Et(e,r):"not-in"===t?new Tt(e,r):"array-contains-any"===t?new xt(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new kt(e,n):new wt(e,n)}}]),n}(lt),ht=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return Object(y.a)(n,[{key:"matches",value:function(e){return dt(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=Object(s.a)(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(lt);function dt(e){return"and"===e.op}function pt(e){return vt(e)&&dt(e)}function vt(e){var t,n=Object(s.a)(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof ht)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function yt(e){if(e instanceof ft)return e.field.canonicalString()+e.op.toString()+Ke(e.value);if(pt(e))return e.filters.map((function(e){return yt(e)})).join(",");var t=e.filters.map((function(e){return yt(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function mt(e,t){return e instanceof ft?function(e,t){return t instanceof ft&&e.op===t.op&&e.field.isEqual(t.field)&&qe(e.value,t.value)}(e,t):e instanceof ht?function(e,t){return t instanceof ht&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&mt(n,t.filters[r])}),!0)}(e,t):void N()}function gt(e){return e instanceof ft?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ke(e.value))}(e):e instanceof ht?function(e){return e.op.toString()+" {"+e.getFilters().map(gt).join(" ,")+"}"}(e):"Filter"}var bt=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this,e,r,i)).key=te.fromName(i.referenceValue),a}return Object(y.a)(n,[{key:"matches",value:function(e){var t=te.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(ft),kt=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,e,"in",r)).keys=_t("in",r),i}return Object(y.a)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ft),wt=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,e,"not-in",r)).keys=_t("not-in",r),i}return Object(y.a)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ft);function _t(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return te.fromName(e.referenceValue)}))}var Ot=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r){return Object(v.a)(this,n),t.call(this,e,"array-contains",r)}return Object(y.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return $e(t)&&Be(t.arrayValue,this.value)}}]),n}(ft),Et=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r){return Object(v.a)(this,n),t.call(this,e,"in",r)}return Object(y.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Be(this.value.arrayValue,t)}}]),n}(ft),Tt=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r){return Object(v.a)(this,n),t.call(this,e,"not-in",r)}return Object(y.a)(n,[{key:"matches",value:function(e){if(Be(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Be(this.value.arrayValue,t)}}]),n}(ft),xt=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r){return Object(v.a)(this,n),t.call(this,e,"array-contains-any",r)}return Object(y.a)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!$e(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Be(t.value.arrayValue,e)}))}}]),n}(ft),Ct=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Object(v.a)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null};function St(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Ct(e,t,n,r,i,a,o)}function jt(e){var t=R(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return yt(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),pe(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ke(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ke(e)})).join(",")),t.ft=n}return t.ft}function It(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ct(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!mt(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ut(e.startAt,t.startAt)&&ut(e.endAt,t.endAt)}function Nt(e){return te.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Pt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Object(v.a)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this.wt=null,this.startAt,this.endAt};function Rt(e,t,n,r,i,a,o,u){return new Pt(e,t,n,r,i,a,o,u)}function At(e){return new Pt(e)}function Dt(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Lt(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Mt(e){var t,n=Object(s.a)(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Ft(e){return null!==e.collectionGroup}function Ut(e){var t=R(e);if(null===t.dt){t.dt=[];var n=Mt(t),r=Lt(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new st(n)),t.dt.push(new st(ee.keyField(),"asc"));else{var i,a=!1,o=Object(s.a)(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new st(ee.keyField(),c))}}}return t.dt}function Vt(e){var t=R(e);if(!t.wt)if("F"===t.limitType)t.wt=St(t.path,t.collectionGroup,Ut(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Object(s.a)(Ut(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new st(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var u=t.endAt?new at(t.endAt.position,t.endAt.inclusive):null,c=t.startAt?new at(t.startAt.position,t.startAt.inclusive):null;t.wt=St(t.path,t.collectionGroup,r,t.filters,t.limit,u,c)}return t.wt}function zt(e,t){t.getFirstInequalityField(),Mt(e);var n=e.filters.concat([t]);return new Pt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function qt(e,t,n){return new Pt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bt(e,t){return It(Vt(e),Vt(t))&&e.limitType===t.limitType}function Wt(e){return"".concat(jt(Vt(e)),"|lt:").concat(e.limitType)}function Ht(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return gt(e)})).join(", "),"]")),pe(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ke(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ke(e)})).join(",")),"Target(".concat(t,")")}(Vt(e)),"; limitType=").concat(e.limitType,")")}function Kt(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):te.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Object(s.a)(Ut(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Object(s.a)(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=ot(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ut(e),t))&&!(e.endAt&&!function(e,t,n){var r=ot(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ut(e),t))}(e,t)}function Gt(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Qt(e){return function(t,n){var r,i=!1,a=Object(s.a)(Ut(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Yt(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(c){a.e(c)}finally{a.f()}return 0}}function Yt(e,t,n){var r=e.field.isKeyField()?te.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?We(r,i):N()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return N()}}var $t=function(){function e(t,n){Object(v.a)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Object(y.a)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var a=Object(o.a)(r.value,2),u=a[0],c=a[1];if(this.equalsFn(u,e))return c}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){we(this.inner,(function(t,n){var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var a=Object(o.a)(r.value,2),u=a[0],c=a[1];e(u,c)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return _e(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Xt=new Oe(te.comparator);function Jt(){return Xt}var Zt=new Oe(te.comparator);function en(){for(var e=Zt,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function tn(e){var t=Zt;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function nn(){return an()}function rn(){return an()}function an(){return new $t((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var on=new Oe(te.comparator),un=new xe(te.comparator);function sn(){for(var e=un,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var cn=new xe(G);function ln(){return cn}function fn(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ve(t)?"-0":t}}function hn(e){return{integerValue:""+e}}function dn(e,t){return ye(t)?hn(t):fn(e,t)}var pn=function e(){Object(v.a)(this,e),this._=void 0};function vn(e,t,n){return e instanceof gn?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof bn?kn(e,t):e instanceof wn?_n(e,t):function(e,t){var n=mn(e,t),r=En(n)+En(e._t);return Ye(n)&&Ye(e._t)?hn(r):fn(e.serializer,r)}(e,t)}function yn(e,t,n){return e instanceof bn?kn(e,t):e instanceof wn?_n(e,t):n}function mn(e,t){return e instanceof On?Ye(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var gn=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return n}(pn),bn=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).elements=e,r}return n}(pn);function kn(e,t){var n,r=Tn(t),i=Object(s.a)(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return qe(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var wn=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).elements=e,r}return n}(pn);function _n(e,t){var n,r=Tn(t),i=Object(s.a)(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!qe(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var On=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this)).serializer=e,i._t=r,i}return n}(pn);function En(e){return Re(e.integerValue||e.doubleValue)}function Tn(e){return $e(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var xn=function e(t,n){Object(v.a)(this,e),this.version=t,this.transformResults=n},Cn=function(){function e(t,n){Object(v.a)(this,e),this.updateTime=t,this.exists=n}return Object(y.a)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Sn(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var jn=function e(){Object(v.a)(this,e)};function In(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new qn(e.key,Cn.none()):new Dn(e.key,e.data,Cn.none());var n,r=e.data,i=nt.empty(),a=new xe(ee.comparator),o=Object(s.a)(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var c=r.field(u);null===c&&u.length>1&&(u=u.popLast(),c=r.field(u)),null===c?i.delete(u):i.set(u,c),a=a.add(u)}}}catch(l){o.e(l)}finally{o.f()}return new Ln(e.key,i,new Se(a.toArray()),Cn.none())}function Nn(e,t,n){e instanceof Dn?function(e,t,n){var r=e.value.clone(),i=Fn(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ln?function(e,t,n){if(Sn(e.precondition,t)){var r=Fn(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Mn(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Pn(e,t,n,r){return e instanceof Dn?function(e,t,n,r){if(!Sn(e.precondition,t))return n;var i=e.value.clone(),a=Un(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ln?function(e,t,n,r){if(!Sn(e.precondition,t))return n;var i=Un(e.fieldTransforms,r,t),a=t.data;return a.setAll(Mn(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Sn(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Rn(e,t){var n,r=null,i=Object(s.a)(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=mn(a.transform,o||null);null!=u&&(null===r&&(r=nt.empty()),r.set(a.field,u))}}catch(c){i.e(c)}finally{i.f()}return r||null}function An(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Q(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof bn&&t instanceof bn||e instanceof wn&&t instanceof wn?Q(e.elements,t.elements,qe):e instanceof On&&t instanceof On?qe(e._t,t._t):e instanceof gn&&t instanceof gn}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Dn=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Object(v.a)(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Object(y.a)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(jn),Ln=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Object(v.a)(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Object(y.a)(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(jn);function Mn(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Fn(e,t,n){var r=new Map;P(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,yn(o,u,n[i]))}return r}function Un(e,t,n){var r,i=new Map,a=Object(s.a)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,c=n.data.field(o.field);i.set(o.field,vn(u,c,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Vn,zn,qn=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Object(y.a)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(jn),Bn=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Object(y.a)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(jn),Wn=function(){function e(t,n,r,i){Object(v.a)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Object(y.a)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Nn(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Object(s.a)(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Pn(i,e,t,this.localWriteTime))}}catch(c){r.e(c)}finally{r.f()}var a,o=Object(s.a)(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Pn(u,e,t,this.localWriteTime))}}catch(c){o.e(c)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=rn();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=In(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument($.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),sn())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Q(this.mutations,e.mutations,(function(e,t){return An(e,t)}))&&Q(this.baseMutations,e.baseMutations,(function(e,t){return An(e,t)}))}}]),e}(),Hn=function(){function e(t,n,r,i){Object(v.a)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Object(y.a)(e,null,[{key:"from",value:function(t,n,r){P(t.mutations.length===r.length);for(var i=on,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Kn=function(){function e(t,n){Object(v.a)(this,e),this.largestBatchId=t,this.mutation=n}return Object(y.a)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Gn=function e(t){Object(v.a)(this,e),this.count=t};function Qn(e){switch(e){default:return N();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function Yn(e){if(void 0===e)return S("GRPC error has no .code"),A.UNKNOWN;switch(e){case Vn.OK:return A.OK;case Vn.CANCELLED:return A.CANCELLED;case Vn.UNKNOWN:return A.UNKNOWN;case Vn.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case Vn.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case Vn.INTERNAL:return A.INTERNAL;case Vn.UNAVAILABLE:return A.UNAVAILABLE;case Vn.UNAUTHENTICATED:return A.UNAUTHENTICATED;case Vn.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case Vn.NOT_FOUND:return A.NOT_FOUND;case Vn.ALREADY_EXISTS:return A.ALREADY_EXISTS;case Vn.PERMISSION_DENIED:return A.PERMISSION_DENIED;case Vn.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case Vn.ABORTED:return A.ABORTED;case Vn.OUT_OF_RANGE:return A.OUT_OF_RANGE;case Vn.UNIMPLEMENTED:return A.UNIMPLEMENTED;case Vn.DATA_LOSS:return A.DATA_LOSS;default:return N()}}(zn=Vn||(Vn={}))[zn.OK=0]="OK",zn[zn.CANCELLED=1]="CANCELLED",zn[zn.UNKNOWN=2]="UNKNOWN",zn[zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zn[zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zn[zn.NOT_FOUND=5]="NOT_FOUND",zn[zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",zn[zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",zn[zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",zn[zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zn[zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zn[zn.ABORTED=10]="ABORTED",zn[zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",zn[zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",zn[zn.INTERNAL=13]="INTERNAL",zn[zn.UNAVAILABLE=14]="UNAVAILABLE",zn[zn.DATA_LOSS=15]="DATA_LOSS";var $n=function(){function e(){Object(v.a)(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return Object(y.a)(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Xn}},{key:"getOrCreateInstance",value:function(){return null===Xn&&(Xn=new e),Xn}}]),e}(),Xn=null,Jn=function(){function e(t,n,r,i,a){Object(v.a)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Object(y.a)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Zn.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e($.min(),i,ln(),Jt(),sn())}}]),e}(),Zn=function(){function e(t,n,r,i,a){Object(v.a)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Object(y.a)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,sn(),sn(),sn())}}]),e}(),er=function e(t,n,r,i){Object(v.a)(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i},tr=function e(t,n){Object(v.a)(this,e),this.targetId=t,this.Et=n},nr=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ie.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(v.a)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i},rr=function(){function e(){Object(v.a)(this,e),this.At=0,this.Rt=or(),this.vt=Ie.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}return Object(y.a)(e,[{key:"current",get:function(){return this.bt}},{key:"resumeToken",get:function(){return this.vt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.Pt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}},{key:"Ct",value:function(){var e=sn(),t=sn(),n=sn();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:N()}})),new Zn(this.vt,this.bt,e,t,n)}},{key:"xt",value:function(){this.Pt=!1,this.Rt=or()}},{key:"Nt",value:function(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"$t",value:function(){this.At-=1}},{key:"Mt",value:function(){this.Pt=!0,this.bt=!0}}]),e}(),ir=function(){function e(t){Object(v.a)(this,e),this.Ft=t,this.Bt=new Map,this.Lt=Jt(),this.qt=ar(),this.Ut=new xe(G)}return Object(y.a)(e,[{key:"Kt",value:function(e){var t,n=Object(s.a)(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=Object(s.a)(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"zt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.jt(n);switch(e.state){case 0:t.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||t.removeTarget(n);break;case 3:t.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:t.Wt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:N()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.Wt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t,n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){var a=i.target;if(Nt(a))if(0===r){var o=new te(a.path);this.Qt(n,o,it.newNoDocument(o,$.min()))}else P(1===r);else{var u=this.Zt(n);u!==r&&(this.Ht(n),this.Ut=this.Ut.add(n),null===(t=$n.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:u,existenceFilterCount:e.Et.count}))}}}},{key:"Xt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&Nt(a.target)){var o=new te(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,it.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=sn();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Jn(e,n,this.Ut,this.Lt,r);return this.Lt=Jt(),this.qt=ar(),this.Ut=new xe(G),i}},{key:"Gt",value:function(e,t){if(this.Wt(e)){var n=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.Wt(e)){var r=this.jt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Zt",value:function(e){var t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.jt(e).Ot()}},{key:"jt",value:function(e){var t=this.Bt.get(e);return t||(t=new rr,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new xe(G),this.qt=this.qt.insert(e,t)),t}},{key:"Wt",value:function(e){var t=null!==this.Yt(e);return t||C("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new rr),this.Ft.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}]),e}();function ar(){return new Oe(te.comparator)}function or(){return new Oe(te.comparator)}var ur={asc:"ASCENDING",desc:"DESCENDING"},sr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cr={and:"AND",or:"OR"},lr=function e(t,n){Object(v.a)(this,e),this.databaseId=t,this.useProto3Json=n};function fr(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function hr(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function dr(e,t){return fr(e,t.toTimestamp())}function pr(e){return P(!!e),$.fromTimestamp(function(e){var t=Pe(e);return new Y(t.seconds,t.nanos)}(e))}function vr(e,t){return function(e){return new J(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function yr(e){var t=J.fromString(e);return P(Lr(t)),t}function mr(e,t){return vr(e.databaseId,t.path)}function gr(e,t){var n=yr(t);if(n.get(1)!==e.databaseId.projectId)throw new D(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new D(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new te(_r(n))}function br(e,t){return vr(e.databaseId,t)}function kr(e){var t=yr(e);return 4===t.length?J.emptyPath():_r(t)}function wr(e){return new J(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _r(e){return P(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Or(e,t,n){return{name:mr(e,t),fields:n.value.mapValue.fields}}function Er(e,t){var n;if(t instanceof Dn)n={update:Or(e,t.key,t.value)};else if(t instanceof qn)n={delete:mr(e,t.key)};else if(t instanceof Ln)n={update:Or(e,t.key,t.data),updateMask:Dr(t.fieldMask)};else{if(!(t instanceof Bn))return N();n={verify:mr(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof gn)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof bn)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wn)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof On)return{fieldPath:t.field.canonicalString(),increment:n._t};throw N()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:dr(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:N()}(e,t.precondition)),n}function Tr(e,t){return{documents:[br(e,t.path)]}}function xr(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=br(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=br(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Ar(ht.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Pr(e.field),direction:jr(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.useProto3Json||pe(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Cr(e){var t=kr(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){P(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Sr(e);return t instanceof ht&&pt(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new st(Rr(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return pe(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new at(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new at(n,t)}(n.endAt)),Rt(t,i,u,o,s,"F",c,l)}function Sr(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Rr(e.unaryFilter.field);return ft.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Rr(e.unaryFilter.field);return ft.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Rr(e.unaryFilter.field);return ft.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Rr(e.unaryFilter.field);return ft.create(i,"!=",{nullValue:"NULL_VALUE"});default:return N()}}(e):void 0!==e.fieldFilter?function(e){return ft.create(Rr(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return N()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ht.create(e.compositeFilter.filters.map((function(e){return Sr(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return N()}}(e.compositeFilter.op))}(e):N()}function jr(e){return ur[e]}function Ir(e){return sr[e]}function Nr(e){return cr[e]}function Pr(e){return{fieldPath:e.canonicalString()}}function Rr(e){return ee.fromServerFormat(e.fieldPath)}function Ar(e){return e instanceof ft?function(e){if("=="===e.op){if(Je(e.value))return{unaryFilter:{field:Pr(e.field),op:"IS_NAN"}};if(Xe(e.value))return{unaryFilter:{field:Pr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Je(e.value))return{unaryFilter:{field:Pr(e.field),op:"IS_NOT_NAN"}};if(Xe(e.value))return{unaryFilter:{field:Pr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pr(e.field),op:Ir(e.op),value:e.value}}}(e):e instanceof ht?function(e){var t=e.getFilters().map((function(e){return Ar(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Nr(e.op),filters:t}}}(e):N()}function Dr(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Lr(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Mr=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:$.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ie.EMPTY_BYTE_STRING;Object(v.a)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Object(y.a)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Fr=function e(t){Object(v.a)(this,e),this.se=t};function Ur(e){var t=Cr({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?qt(t,t.limit,"L"):t}var Vr=function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,[{key:"oe",value:function(e,t){this.ue(e,t),t.ce()}},{key:"ue",value:function(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(Re(e.integerValue));else if("doubleValue"in e){var n=Re(e.doubleValue);isNaN(n)?this.ae(t,13):(this.ae(t,15),ve(n)?t.he(0):t.he(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le("".concat(r.seconds||"")),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(Ae(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ae(t,45),t.he(i.latitude||0),t.he(i.longitude||0)}else"mapValue"in e?tt(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):N()}},{key:"fe",value:function(e,t){this.ae(t,25),this.ye(e,t)}},{key:"ye",value:function(e,t){t.le(e)}},{key:"me",value:function(e,t){var n=e.fields||{};this.ae(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.fe(a,t),this.ue(n[a],t)}}},{key:"ge",value:function(e,t){var n=e.values||[];this.ae(t,50);var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ue(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ae(t,37),te.fromName(e).path.forEach((function(e){n.ae(t,60),n.ye(e,t)}))}},{key:"ae",value:function(e,t){e.he(t)}},{key:"de",value:function(e){e.he(2)}}]),e}();Vr.pe=new Vr;var zr=function(){function e(){Object(v.a)(this,e),this.He=new qr}return Object(y.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.He.add(t),fe.resolve()}},{key:"getCollectionParents",value:function(e,t){return fe.resolve(this.He.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return fe.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return fe.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return fe.resolve(null)}},{key:"getIndexType",value:function(e,t){return fe.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return fe.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return fe.resolve(null)}},{key:"getMinOffset",value:function(e,t){return fe.resolve(ae.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return fe.resolve(ae.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return fe.resolve()}},{key:"updateIndexEntries",value:function(e,t){return fe.resolve()}}]),e}(),qr=function(){function e(){Object(v.a)(this,e),this.index={}}return Object(y.a)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new xe(J.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new xe(J.comparator)).toArray()}}]),e}();new Uint8Array(0);var Br=function(){function e(t,n,r){Object(v.a)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Object(y.a)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Br.DEFAULT_COLLECTION_PERCENTILE=10,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Br.DEFAULT=new Br(41943040,Br.DEFAULT_COLLECTION_PERCENTILE,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Br.DISABLED=new Br(-1,0,0);var Wr=function(){function e(t){Object(v.a)(this,e),this.Rn=t}return Object(y.a)(e,[{key:"next",value:function(){return this.Rn+=2,this.Rn}}],[{key:"vn",value:function(){return new e(0)}},{key:"bn",value:function(){return new e(-1)}}]),e}();var Hr=function(){function e(){Object(v.a)(this,e),this.changes=new $t((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Object(y.a)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,it.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?fe.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Kr=function e(t,n){Object(v.a)(this,e),this.overlayedDocument=t,this.mutatedFields=n},Gr=function(){function e(t,n,r,i){Object(v.a)(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Object(y.a)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Pn(r.mutation,e,Se.empty(),Y.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,sn()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sn(),i=nn();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=en();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=nn();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,sn())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Jt(),a=an(),o=an();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Ln)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Pn(o.mutation,t,o.mutation.getFieldMask(),Y.now())):a.set(t.key,Se.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Kr(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=an(),i=new Oe((function(e,t){return e-t})),a=sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Object(s.a)(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Se.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||sn()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=rn();c.forEach((function(e){if(!a.has(e)){var n=In(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return fe.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return te.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ft(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):fe.resolve(nn()),u=-1,s=a;return o.next((function(t){return fe.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?fe.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,sn())})).next((function(e){return{batchId:u,changes:tn(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new te(t)).next((function(e){var t=en();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=en();return this.indexManager.getCollectionParents(e,i).next((function(o){return fe.forEach(o,(function(o){var u=function(e,t){return new Pt(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,it.newInvalidDocument(r)))}));var n=en();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Pn(a.mutation,i,Se.empty(),Y.now()),Kt(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Qr=function(){function e(t){Object(v.a)(this,e),this.serializer=t,this.Zn=new Map,this.Xn=new Map}return Object(y.a)(e,[{key:"getBundleMetadata",value:function(e,t){return fe.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:pr(n.createTime)}),fe.resolve()}},{key:"getNamedQuery",value:function(e,t){return fe.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:Ur(e.bundledQuery),readTime:pr(e.readTime)}}(t)),fe.resolve()}}]),e}(),Yr=function(){function e(){Object(v.a)(this,e),this.overlays=new Oe(te.comparator),this.ts=new Map}return Object(y.a)(e,[{key:"getOverlay",value:function(e,t){return fe.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=nn();return fe.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.re(e,t,i)})),fe.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ts.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ts.delete(n)),fe.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=nn(),i=t.length+1,a=new te(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return fe.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Oe((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=nn(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=nn(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return fe.resolve(s)}},{key:"re",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ts.get(r.largestBatchId).delete(n.key);this.ts.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Kn(t,n));var a=this.ts.get(t);void 0===a&&(a=sn(),this.ts.set(t,a)),this.ts.set(t,a.add(n.key))}}]),e}(),$r=function(){function e(){Object(v.a)(this,e),this.es=new xe(Xr.ns),this.ss=new xe(Xr.rs)}return Object(y.a)(e,[{key:"isEmpty",value:function(){return this.es.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Xr(e,t);this.es=this.es.add(n),this.ss=this.ss.add(n)}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.us(new Xr(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"hs",value:function(e){var t=this,n=new te(new J([])),r=new Xr(n,e),i=new Xr(n,e+1),a=[];return this.ss.forEachInRange([r,i],(function(e){t.us(e),a.push(e.key)})),a}},{key:"ls",value:function(){var e=this;this.es.forEach((function(t){return e.us(t)}))}},{key:"us",value:function(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}},{key:"fs",value:function(e){var t=new te(new J([])),n=new Xr(t,e),r=new Xr(t,e+1),i=sn();return this.ss.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Xr(e,0),n=this.es.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Xr=function(){function e(t,n){Object(v.a)(this,e),this.key=t,this.ds=n}return Object(y.a)(e,null,[{key:"ns",value:function(e,t){return te.comparator(e.key,t.key)||G(e.ds,t.ds)}},{key:"rs",value:function(e,t){return G(e.ds,t.ds)||te.comparator(e.key,t.key)}}]),e}(),Jr=function(){function e(t,n){Object(v.a)(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new xe(Xr.ns)}return Object(y.a)(e,[{key:"checkEmpty",value:function(e){return fe.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Wn(i,t,n,r);this.mutationQueue.push(a);var o,u=Object(s.a)(r);try{for(u.s();!(o=u.n()).done;){var c=o.value;this._s=this._s.add(new Xr(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast())}}catch(l){u.e(l)}finally{u.f()}return fe.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return fe.resolve(this.gs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ys(n),i=r<0?0:r;return fe.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return fe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return fe.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Xr(t,0),i=new Xr(t,Number.POSITIVE_INFINITY),a=[];return this._s.forEachInRange([r,i],(function(e){var t=n.gs(e.ds);a.push(t)})),fe.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new xe(G);return t.forEach((function(e){var t=new Xr(e,0),i=new Xr(e,Number.POSITIVE_INFINITY);n._s.forEachInRange([t,i],(function(e){r=r.add(e.ds)}))})),fe.resolve(this.ps(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;te.isDocumentKey(i)||(i=i.child(""));var a=new Xr(new te(i),0),o=new xe(G);return this._s.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ds)),!0)}),a),fe.resolve(this.ps(o))}},{key:"ps",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.gs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;P(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();var r=this._s;return fe.forEach(t.mutations,(function(i){var a=new Xr(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n._s=r}))}},{key:"En",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Xr(t,0),r=this._s.firstAfterOrEqual(n);return fe.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,fe.resolve()}},{key:"Is",value:function(e,t){return this.ys(e)}},{key:"ys",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"gs",value:function(e){var t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Zr=function(){function e(t){Object(v.a)(this,e),this.Ts=t,this.docs=new Oe(te.comparator),this.size=0}return Object(y.a)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ts(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return fe.resolve(n?n.document.mutableCopy():it.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Jt();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():it.newInvalidDocument(e))})),fe.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Jt(),a=t.path,o=new te(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||oe(ie(l),n)<=0||(r.has(l.key)||Kt(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return fe.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){N()}},{key:"Es",value:function(e,t){return fe.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new ei(this)}},{key:"getSize",value:function(e){return fe.resolve(this.size)}}]),e}(),ei=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).Jn=e,r}return Object(y.a)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Jn.addEntry(e,i)):t.Jn.removeEntry(r)})),fe.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Jn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Jn.getEntries(e,t)}}]),n}(Hr),ti=function(){function e(t){Object(v.a)(this,e),this.persistence=t,this.As=new $t((function(e){return jt(e)}),It),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.Rs=0,this.vs=new $r,this.targetCount=0,this.bs=Wr.vn()}return Object(y.a)(e,[{key:"forEachTarget",value:function(e,t){return this.As.forEach((function(e,n){return t(n)})),fe.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return fe.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return fe.resolve(this.Rs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),fe.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Rs&&(this.Rs=t),fe.resolve()}},{key:"Sn",value:function(e){this.As.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new Wr(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Sn(t),this.targetCount+=1,fe.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Sn(t),fe.resolve()}},{key:"removeTargetData",value:function(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,fe.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.As.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.As.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),fe.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return fe.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.As.get(t)||null;return fe.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.vs.os(t,n),fe.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.vs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),fe.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.vs.hs(t),fe.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.vs.fs(t);return fe.resolve(n)}},{key:"containsKey",value:function(e,t){return fe.resolve(this.vs.containsKey(t))}}]),e}(),ni=function(){function e(t,n){var r=this;Object(v.a)(this,e),this.Ps={},this.overlays={},this.Vs=new de(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new ti(this),this.indexManager=new zr,this.remoteDocumentCache=new Zr((function(e){return r.referenceDelegate.Cs(e)})),this.serializer=new Fr(n),this.xs=new Qr(this.serializer)}return Object(y.a)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ss=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ss}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Yr,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ps[e.toKey()];return n||(n=new Jr(t,this.referenceDelegate),this.Ps[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;C("MemoryPersistence","Starting transaction:",e);var i=new ri(this.Vs.next());return this.referenceDelegate.Ns(),n(i).next((function(e){return r.referenceDelegate.ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return fe.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),ri=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return n}(se),ii=function(){function e(t){Object(v.a)(this,e),this.persistence=t,this.$s=new $r,this.Ms=null}return Object(y.a)(e,[{key:"Bs",get:function(){if(this.Ms)return this.Ms;throw N()}},{key:"addReference",value:function(e,t,n){return this.$s.addReference(n,t),this.Bs.delete(n.toString()),fe.resolve()}},{key:"removeReference",value:function(e,t,n){return this.$s.removeReference(n,t),this.Bs.add(n.toString()),fe.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Bs.add(t.toString()),fe.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.$s.hs(t.targetId).forEach((function(e){return n.Bs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Bs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ns",value:function(){this.Ms=new Set}},{key:"ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Bs,(function(r){var i=te.fromPath(r);return t.Ls(e,i).next((function(e){e||n.removeEntry(i,$.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ls(e,t).next((function(e){e?n.Bs.delete(t.toString()):n.Bs.add(t.toString())}))}},{key:"Cs",value:function(e){return 0}},{key:"Ls",value:function(e,t){var n=this;return fe.or([function(){return fe.resolve(n.$s.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Fs",value:function(t){return new e(t)}}]),e}();var ai=function(){function e(t,n,r,i){Object(v.a)(this,e),this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=i}return Object(y.a)(e,null,[{key:"Di",value:function(t,n){var r,i=sn(),a=sn(),o=Object(s.a)(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(c){o.e(c)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),oi=function(){function e(){Object(v.a)(this,e),this.Ci=!1}return Object(y.a)(e,[{key:"initialize",value:function(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ni(e,t).next((function(a){return a||i.ki(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"Ni",value:function(e,t){var n=this;if(Dt(t))return fe.resolve(null);var r=Vt(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=qt(t,null,"F"),r=Vt(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=sn.apply(void 0,Object(p.a)(i));return n.xi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.$i(t,i);return n.Mi(t,o,a,r.readTime)?n.Ni(e,qt(t,null,"F")):n.Fi(e,o,t,r)}))}))})))}))}},{key:"ki",value:function(e,t,n,r){var i=this;return Dt(t)||r.isEqual($.min())?this.Oi(e,t):this.xi.getDocuments(e,n).next((function(a){var o=i.$i(t,a);return i.Mi(t,o,n,r)?i.Oi(e,t):(x()<=b.a.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ht(t)),i.Fi(e,o,t,re(r,-1)))}))}},{key:"$i",value:function(e,t){var n=new xe(Qt(e));return t.forEach((function(t,r){Kt(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return x()<=b.a.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",Ht(t)),this.xi.getDocumentsMatchingQuery(e,t,ae.min())}},{key:"Fi",value:function(e,t,n,r){return this.xi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),ui=function(){function e(t,n,r,i){Object(v.a)(this,e),this.persistence=t,this.Bi=n,this.serializer=i,this.Li=new Oe(G),this.qi=new $t((function(e){return jt(e)}),It),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}return Object(y.a)(e,[{key:"Gi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gr(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Li)}))}}]),e}();function si(e,t,n,r){return new ui(e,t,n,r)}function ci(e,t){return li.apply(this,arguments)}function li(){return(li=Object(f.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Gi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=sn(),c=Object(s.a)(t);try{for(c.s();!(i=c.n()).done;){var l=i.value;a.push(l.batchId);var f,h=Object(s.a)(l.mutations);try{for(h.s();!(f=h.n()).done;){var d=f.value;u=u.add(d.key)}}catch(k){h.e(k)}finally{h.f()}}}catch(k){c.e(k)}finally{c.f()}var p,v=Object(s.a)(n);try{for(v.s();!(p=v.n()).done;){var y=p.value;o.push(y.batchId);var m,g=Object(s.a)(y.mutations);try{for(g.s();!(m=g.n()).done;){var b=m.value;u=u.add(b.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){v.e(k)}finally{v.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Qi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fi(e,t){var n=R(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ki.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=fe.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);P(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=sn(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function hi(e){var t=R(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ds.getLastRemoteSnapshotVersion(e)}))}function di(e,t){var n=R(e),r=t.snapshotVersion,i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Ds.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Ds.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Ie.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Ds.updateTargetData(e,c))}}));var u=Jt(),s=sn();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(pi(e,a,t.documentUpdates).next((function(e){u=e.zi,s=e.ji}))),!r.isEqual($.min())){var c=n.Ds.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ds.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return fe.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Li=i,e}))}function pi(e,t,n){var r=sn(),i=sn();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Jt();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual($.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):C("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{zi:r,ji:i}}))}function vi(e,t){var n=R(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function yi(e,t){var n=R(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ds.getTargetData(e,t).next((function(i){return i?(r=i,fe.resolve(r)):n.Ds.allocateTargetId(e).next((function(i){return r=new Mr(t,i,0,e.currentSequenceNumber),n.Ds.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Li.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Li=n.Li.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function mi(e,t,n){return gi.apply(this,arguments)}function gi(){return(gi=Object(f.a)(l.a.mark((function e(t,n,r){var i,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=R(t),a=i.Li.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),he(e.t1)){e.next=12;break}throw e.t1;case 12:C("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Li=i.Li.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function bi(e,t,n){var r=R(e),i=$.min(),a=sn();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=R(e),i=r.qi.get(n);return void 0!==i?fe.resolve(r.Li.get(i)):r.Ds.getTargetData(t,n)}(r,e,Vt(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Bi.getDocumentsMatchingQuery(e,t,n?i:$.min(),n?a:sn())})).next((function(e){return ki(r,Gt(t),e),{documents:e,Wi:a}}))}))}function ki(e,t,n){var r=e.Ui.get(t)||$.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ui.set(t,r)}var wi=function(){function e(){Object(v.a)(this,e),this.activeTargetIds=ln()}return Object(y.a)(e,[{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),_i=function(){function e(){Object(v.a)(this,e),this.Br=new wi,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Object(y.a)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Br.tr(e),this.Lr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Lr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Br.er(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Lr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Br.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Br=new wi,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Oi=function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ei=function(){function e(){var t=this;Object(v.a)(this,e),this.Ur=function(){return t.Kr()},this.Gr=function(){return t.Qr()},this.zr=[],this.jr()}return Object(y.a)(e,[{key:"qr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}},{key:"Kr",value:function(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Object(s.a)(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Qr",value:function(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Object(s.a)(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Ti=null;function xi(){return null===Ti?Ti=268435456+Math.round(2147483648*Math.random()):Ti++,"0x"+Ti.toString(16)}var Ci={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Si=function(){function e(t){Object(v.a)(this,e),this.Wr=t.Wr,this.Hr=t.Hr}return Object(y.a)(e,[{key:"Jr",value:function(e){this.Yr=e}},{key:"Zr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.eo=e}},{key:"close",value:function(){this.Hr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"no",value:function(){this.Yr()}},{key:"so",value:function(e){this.Xr(e)}},{key:"io",value:function(e){this.eo(e)}}]),e}(),ji="WebChannelConnection",Ii=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Object(y.a)(n,[{key:"lo",value:function(e,t,n,r){var i=xi();return new Promise((function(a,o){var u=new w.g;u.setWithCredentials(!0),u.listenOnce(w.c.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case w.a.NO_ERROR:var t=u.getResponseJson();C(ji,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case w.a.TIMEOUT:C(ji,"RPC '".concat(e,"' ").concat(i," timed out")),o(new D(A.DEADLINE_EXCEEDED,"Request time out"));break;case w.a.HTTP_ERROR:var n=u.getStatus();if(C(ji,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(t)>=0?t:A.UNKNOWN}(s.status);o(new D(c,s.message))}else o(new D(A.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new D(A.UNAVAILABLE,"Connection failed."));break;default:N()}}finally{C(ji,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);C(ji,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=xi(),i=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Object(w.h)(),o=Object(w.i)(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new w.d({})),this.ho(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var s=i.join("");C(ji,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(s),u);var c=a.createWebChannel(s,u),l=!1,f=!1,h=new Si({Wr:function(t){f?C(ji,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(C(ji,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),C(ji,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Hr:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,w.f.EventType.OPEN,(function(){f||C(ji,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(c,w.f.EventType.CLOSE,(function(){f||(f=!0,C(ji,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.so())})),d(c,w.f.EventType.ERROR,(function(t){f||(f=!0,j(ji,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.so(new D(A.UNAVAILABLE,"The operation could not be completed")))})),d(c,w.f.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];P(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){C(ji,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Vn[e];if(void 0!==t)return Yn(t)}(u),l=o.message;void 0===s&&(s=A.INTERNAL,l="Unknown error status: "+u+" with message "+o.message),f=!0,h.so(new D(s,l)),c.close()}else C(ji,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.io(i)}})),d(o,w.b.STAT_EVENT,(function(t){t.stat===w.e.PROXY?C(ji,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===w.e.NOPROXY&&C(ji,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.no()}),0),h}}]),n}(function(){function e(t){Object(v.a)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Object(y.a)(e,[{key:"uo",get:function(){return!1}},{key:"co",value:function(e,t,n,r,i){var a=xi(),o=this.ao(e,t);C("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this.ho(u,r,i),this.lo(e,o,u,n).then((function(t){return C("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw j("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+E,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=Ci[e];return"".concat(this.ro,"/v1/").concat(t,":").concat(n)}}]),e}());function Ni(){return"undefined"!=typeof document?document:null}function Pi(e){return new lr(e,!0)}var Ri=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Object(v.a)(this,e),this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return Object(y.a)(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}},{key:"vo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),Ai=function(){function e(t,n,r,i,a,o,u,s){Object(v.a)(this,e),this.Ws=t,this.bo=r,this.Po=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new Ri(t,n)}return Object(y.a)(e,[{key:"xo",value:function(){return 1===this.state||5===this.state||this.No()}},{key:"No",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.ko()}},{key:"stop",value:function(){var e=Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.xo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.Co.reset()}},{key:"$o",value:function(){var e=this;this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,(function(){return e.Mo()})))}},{key:"Fo",value:function(e){this.Bo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.No()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"close",value:function(){var e=Object(f.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,4!==t?this.Co.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(S(n.toString()),S("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===A.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Object(o.a)(t,2),i=r[0],a=r[1];e.Vo===n&&e.Ko(i,a)}),(function(n){t((function(){var t=new D(A.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Go(t)}))}))}},{key:"Ko",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr((function(){r((function(){return n.state=2,n.Do=n.Ws.enqueueAfterDelay(n.Po,1e4,(function(){return n.No()&&(n.state=3),Promise.resolve()})),n.listener.Jr()}))})),this.stream.Zr((function(e){r((function(){return n.Go(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"ko",value:function(){var e=this;this.state=5,this.Co.Ao(Object(f.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Go",value:function(e){return C("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Ws.enqueueAndForget((function(){return t.Vo===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Di=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,o,u){var s;return Object(v.a)(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return Object(y.a)(n,[{key:"Qo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Co.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:N()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(P(void 0===t||"string"==typeof t),Ie.fromBase64String(t||"")):(P(void 0===t||t instanceof Uint8Array),Ie.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?A.UNKNOWN:Yn(e.code);return new D(t,e.message||"")}(o);n=new nr(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=gr(e,s.document.name),l=pr(s.document.updateTime),f=s.document.createTime?pr(s.document.createTime):$.min(),h=new nt({mapValue:{fields:s.document.fields}}),d=it.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new er(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var m=gr(e,y.document),g=y.readTime?pr(y.readTime):$.min(),b=it.newNoDocument(m,g),k=y.removedTargetIds||[];n=new er([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=gr(e,w.document),O=w.removedTargetIds||[];n=new er([],O,_,null)}else{if(!("filter"in t))return N();t.filter;var E=t.filter;E.targetId;var T=E.count||0,x=new Gn(T),C=E.targetId;n=new tr(C,x)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return $.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?$.min():t.readTime?pr(t.readTime):$.min()}(e);return this.listener.zo(t,n)}},{key:"jo",value:function(e){var t={};t.database=wr(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=Nt(r)?{documents:Tr(e,r)}:{query:xr(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=hr(e,t.resumeToken):t.snapshotVersion.compareTo($.min())>0&&(n.readTime=fr(e,t.snapshotVersion.toTimestamp())),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return N()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=wr(this.serializer),t.removeTarget=e,this.Fo(t)}}]),n}(Ai),Li=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,o,u){var s;return Object(v.a)(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.Ho=!1,s}return Object(y.a)(n,[{key:"Jo",get:function(){return this.Ho}},{key:"start",value:function(){this.Ho=!1,this.lastStreamToken=void 0,Object(i.a)(Object(a.a)(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Ho&&this.Yo([])}},{key:"Qo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(P(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();var t=function(e,t){return e&&e.length>0?(P(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?pr(e.updateTime):pr(t);return n.isEqual($.min())&&(n=pr(t)),new xn(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=pr(e.commitTime);return this.listener.Zo(n,t)}return P(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}},{key:"tu",value:function(){var e={};e.database=wr(this.serializer),this.Fo(e)}},{key:"Yo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Er(t.serializer,e)}))};this.Fo(n)}}]),n}(Ai),Mi=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a){var o;return Object(v.a)(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.eu=!1,o}return Object(y.a)(n,[{key:"nu",value:function(){if(this.eu)throw new D(A.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Object(o.a)(i,2),u=a[0],s=a[1];return r.connection.co(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===A.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new D(A.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var u=Object(o.a)(a,2),s=u[0],c=u[1];return i.connection.fo(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===A.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new D(A.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.eu=!0}}]),n}(function(){return function e(){Object(v.a)(this,e)}}());var Fi=function(){function e(t,n){Object(v.a)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}return Object(y.a)(e,[{key:"ou",value:function(){var e=this;0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.iu=null,e.cu("Backend didn't respond within 10 seconds."),e.uu("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.uu("Offline")))}},{key:"set",value:function(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}},{key:"uu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"cu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ru?(S(t),this.ru=!1):C("OnlineStateTracker",t)}},{key:"hu",value:function(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}]),e}(),Ui=function e(t,n,r,i,a){var o=this;Object(v.a)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=a,this._u.qr((function(e){r.enqueueAndForget(Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=$i(o),!e.t0){e.next=5;break}return C("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Object(f.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=R(t)).du.add(4),e.next=4,qi(n);case 4:return n.mu.set("Unknown"),n.du.delete(4),e.next=8,Vi(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.mu=new Fi(r,i)};function Vi(e){return zi.apply(this,arguments)}function zi(){return(zi=Object(f.a)(l.a.mark((function e(t){var n,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$i(t)){e.next=18;break}n=Object(s.a)(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function qi(e){return Bi.apply(this,arguments)}function Bi(){return(Bi=Object(f.a)(l.a.mark((function e(t){var n,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(s.a)(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function Wi(e,t){var n=R(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),Yi(n)?Qi(n):Ta(n).No()&&Ki(n,t))}function Hi(e,t){var n=R(e),r=Ta(n);n.fu.delete(t),r.No()&&Gi(n,t),0===n.fu.size&&(r.No()?r.$o():$i(n)&&n.mu.set("Unknown"))}function Ki(e,t){e.gu.Ot(t.targetId),Ta(e).jo(t)}function Gi(e,t){e.gu.Ot(t),Ta(e).Wo(t)}function Qi(e){e.gu=new ir({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.fu.get(t)||null}}),Ta(e).start(),e.mu.ou()}function Yi(e){return $i(e)&&!Ta(e).xo()&&e.fu.size>0}function $i(e){return 0===R(e).du.size}function Xi(e){e.gu=void 0}function Ji(e){return Zi.apply(this,arguments)}function Zi(){return(Zi=Object(f.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.fu.forEach((function(e,n){Ki(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ea(e,t){return ta.apply(this,arguments)}function ta(){return(ta=Object(f.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xi(t),Yi(t)?(t.mu.au(n),Qi(t)):t.mu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function na(e,t,n){return ra.apply(this,arguments)}function ra(){return(ra=Object(f.a)(l.a.mark((function e(t,n,r){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mu.set("Online"),!(n instanceof nr&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Object(f.a)(l.a.mark((function e(t,n){var r,i,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Object(s.a)(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.fu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.fu.delete(o),t.gu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),C("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,ia(t,e.t0);case 11:e.next=29;break;case 13:if(n instanceof er?t.gu.Kt(n):n instanceof tr?t.gu.Jt(n):t.gu.zt(n),r.isEqual($.min())){e.next=29;break}return e.prev=14,e.next=17,hi(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.gu.Xt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.fu.get(r);i&&e.fu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.fu.get(t);if(n){e.fu.set(t,n.withResumeToken(Ie.EMPTY_BYTE_STRING,n.snapshotVersion)),Gi(e,t);var r=new Mr(n.target,t,1,n.sequenceNumber);Ki(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 22:e.next=29;break;case 24:return e.prev=24,e.t2=e.catch(14),C("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,ia(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])})))).apply(this,arguments)}function ia(e,t,n){return aa.apply(this,arguments)}function aa(){return(aa=Object(f.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(he(n)){e.next=2;break}throw n;case 2:return t.du.add(1),e.next=5,qi(t);case 5:t.mu.set("Offline"),r||(r=function(){return hi(t.localStore)}),t.asyncQueue.enqueueRetryable(Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.du.delete(1),e.next=6,Vi(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oa(e,t){return t().catch((function(n){return ia(e,n,t)}))}function ua(e){return sa.apply(this,arguments)}function sa(){return(sa=Object(f.a)(l.a.mark((function e(t){var n,r,i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=R(t),r=xa(n),i=n.lu.length>0?n.lu[n.lu.length-1].batchId:-1;case 2:if(!ca(n)){e.next=19;break}return e.prev=3,e.next=6,vi(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.lu.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,la(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,ia(n,e.t0);case 17:e.next=2;break;case 19:fa(n)&&ha(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function ca(e){return $i(e)&&e.lu.length<10}function la(e,t){e.lu.push(t);var n=xa(e);n.No()&&n.Jo&&n.Yo(t.mutations)}function fa(e){return $i(e)&&!xa(e).xo()&&e.lu.length>0}function ha(e){xa(e).start()}function da(e){return pa.apply(this,arguments)}function pa(){return(pa=Object(f.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xa(t).tu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function va(e){return ya.apply(this,arguments)}function ya(){return(ya=Object(f.a)(l.a.mark((function e(t){var n,r,i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xa(t),r=Object(s.a)(t.lu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Yo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ma(e,t,n){return ga.apply(this,arguments)}function ga(){return(ga=Object(f.a)(l.a.mark((function e(t,n,r){var i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.lu.shift(),a=Hn.from(i,n,r),e.next=3,oa(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,ua(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ba(e,t){return ka.apply(this,arguments)}function ka(){return(ka=Object(f.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&xa(t).Jo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Object(f.a)(l.a.mark((function e(t,n){var r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qn(i=n.code)||i===A.ABORTED){e.next=7;break}return r=t.lu.shift(),xa(t).Oo(),e.next=5,oa(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,ua(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:fa(t)&&ha(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wa(e,t){return _a.apply(this,arguments)}function _a(){return(_a=Object(f.a)(l.a.mark((function e(t,n){var r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=R(t)).asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials"),i=$i(r),r.du.add(3),e.next=6,qi(r);case 6:return i&&r.mu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.du.delete(3),e.next=12,Vi(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oa(e,t){return Ea.apply(this,arguments)}function Ea(){return(Ea=Object(f.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=R(t),!n){e.next=7;break}return r.du.delete(2),e.next=5,Vi(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.du.add(2),e.next=12,qi(r);case 12:r.mu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ta(e){return e.yu||(e.yu=function(e,t,n){var r=R(e);return r.nu(),new Di(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:Ji.bind(null,e),Zr:ea.bind(null,e),zo:na.bind(null,e)}),e.wu.push(function(){var t=Object(f.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.yu.Oo(),Yi(e)?Qi(e):e.mu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.yu.stop();case 6:Xi(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}function xa(e){return e.pu||(e.pu=function(e,t,n){var r=R(e);return r.nu(),new Li(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:da.bind(null,e),Zr:ba.bind(null,e),Xo:va.bind(null,e),Zo:ma.bind(null,e)}),e.wu.push(function(){var t=Object(f.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.pu.Oo(),t.next=4,ua(e);case 4:t.next=9;break;case 6:return t.next=8,e.pu.stop();case 8:e.lu.length>0&&(C("RemoteStore","Stopping write stream with ".concat(e.lu.length," pending writes")),e.lu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}var Ca=function(){function e(t,n,r,i,a){Object(v.a)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new L,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Object(y.a)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Sa(e,t){if(S("AsyncQueue","".concat(t,": ").concat(e)),he(e))return new D(A.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var ja=function(){function e(t){Object(v.a)(this,e),this.comparator=t?function(e,n){return t(e,n)||te.comparator(e.key,n.key)}:function(e,t){return te.comparator(e.key,t.key)},this.keyedMap=en(),this.sortedSet=new Oe(this.comparator)}return Object(y.a)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Ia=function(){function e(){Object(v.a)(this,e),this.Iu=new Oe(te.comparator)}return Object(y.a)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Iu.get(t);n?0!==e.type&&3===n.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==n.type?this.Iu=this.Iu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Iu=this.Iu.remove(t):1===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):N():this.Iu=this.Iu.insert(t,e)}},{key:"Tu",value:function(){var e=[];return this.Iu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Na=function(){function e(t,n,r,i,a,o,u,s,c){Object(v.a)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return Object(y.a)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,ja.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Pa=function e(){Object(v.a)(this,e),this.Eu=void 0,this.listeners=[]},Ra=function e(){Object(v.a)(this,e),this.queries=new $t((function(e){return Wt(e)}),Bt),this.onlineState="Unknown",this.Au=new Set};function Aa(e,t){return Da.apply(this,arguments)}function Da(){return(Da=Object(f.a)(l.a.mark((function e(t,n){var r,i,a,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=R(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Pa),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Eu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Sa(e.t0,"Initialization of query '".concat(Ht(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Ru(r.onlineState),o.Eu&&n.vu(o.Eu)&&Va(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function La(e,t){return Ma.apply(this,arguments)}function Ma(){return(Ma=Object(f.a)(l.a.mark((function e(t,n){var r,i,a,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=R(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fa(e,t){var n,r=R(e),i=!1,a=Object(s.a)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,c=r.queries.get(u);if(c){var l,f=Object(s.a)(c.listeners);try{for(f.s();!(l=f.n()).done;){l.value.vu(o)&&(i=!0)}}catch(h){f.e(h)}finally{f.f()}c.Eu=o}}}catch(h){a.e(h)}finally{a.f()}i&&Va(r)}function Ua(e,t,n){var r=R(e),i=r.queries.get(t);if(i){var a,o=Object(s.a)(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Va(e){e.Au.forEach((function(e){e.next()}))}var za=function(){function e(t,n,r){Object(v.a)(this,e),this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return Object(y.a)(e,[{key:"vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Object(s.a)(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Na(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),a=!0):this.Du(e,this.onlineState)&&(this.Cu(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.bu.error(e)}},{key:"Ru",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}},{key:"Du",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.xu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Su",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Cu",value:function(e){e=Na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}]),e}();var qa=function e(t){Object(v.a)(this,e),this.key=t},Ba=function e(t){Object(v.a)(this,e),this.key=t},Wa=function(){function e(t,n){Object(v.a)(this,e),this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=sn(),this.mutatedKeys=sn(),this.Ku=Qt(t),this.Gu=new ja(this.Ku)}return Object(y.a)(e,[{key:"Qu",get:function(){return this.Lu}},{key:"zu",value:function(e,t){var n=this,r=t?t.ju:new Ia,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Kt(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Wu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ku(f,s)>0||c&&n.Ku(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,ju:r,Mi:u,mutatedKeys:a}}},{key:"Wu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.ju.Tu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return N()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],u=0===this.Uu.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new Na(this.query,e.Gu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}},{key:"Ru",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Ia,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}},{key:"Zu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.Uu;this.Uu=sn(),this.Gu.forEach((function(t){e.Zu(t.key)&&(e.Uu=e.Uu.add(t.key))}));var n=[];return t.forEach((function(t){e.Uu.has(t)||n.push(new Ba(t))})),this.Uu.forEach((function(e){t.has(e)||n.push(new qa(e))})),n}},{key:"Xu",value:function(e){this.Lu=e.Wi,this.Uu=sn();var t=this.zu(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return Na.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),Ha=function e(t,n,r){Object(v.a)(this,e),this.query=t,this.targetId=n,this.view=r},Ka=function e(t){Object(v.a)(this,e),this.key=t,this.ec=!1},Ga=function(){function e(t,n,r,i,a,o){Object(v.a)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new $t((function(e){return Wt(e)}),Bt),this.ic=new Map,this.rc=new Set,this.oc=new Oe(te.comparator),this.uc=new Map,this.cc=new $r,this.ac={},this.hc=new Map,this.lc=Wr.bn(),this.onlineState="Unknown",this.fc=void 0}return Object(y.a)(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function Qa(e,t){return Ya.apply(this,arguments)}function Ya(){return(Ya=Object(f.a)(l.a.mark((function e(t,n){var r,i,a,o,u,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Eo(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,yi(r.localStore,Vt(n));case 8:return u=e.sent,r.isPrimaryClient&&Wi(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,$a(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $a(e,t,n,r,i){return Xa.apply(this,arguments)}function Xa(){return(Xa=Object(f.a)(l.a.mark((function e(t,n,r,i,a){var o,u,s,c,h,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=Object(f.a)(l.a.mark((function e(t,n,r,i){var a,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.zu(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,bi(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.zu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(yo(t,n.targetId,u.Yu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,bi(t.localStore,n,!0);case 3:return o=e.sent,u=new Wa(n,o.Wi),s=u.zu(o.documents),c=Zn.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),h=u.applyChanges(s,t.isPrimaryClient,c),yo(t,r,h.Yu),d=new Ha(n,r,u),e.abrupt("return",(t.sc.set(n,d),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),h.snapshot));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ja(e,t){return Za.apply(this,arguments)}function Za(){return(Za=Object(f.a)(l.a.mark((function e(t,n){var r,i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=R(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!Bt(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,mi(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Hi(r.remoteStore,i.targetId),po(r,i.targetId)})).catch(ce);case 9:e.next=14;break;case 11:return po(r,i.targetId),e.next=14,mi(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eo(e,t,n){return to.apply(this,arguments)}function to(){return(to=Object(f.a)(l.a.mark((function e(t,n,r){var i,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=To(t),e.prev=1,e.next=4,function(e,t){var n,r,i=R(e),a=Y.now(),o=t.reduce((function(e,t){return e.add(t.key)}),sn());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Jt(),c=sn();return i.Ki.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(c=c.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],c=Object(s.a)(t);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=Rn(l,n.get(l.key).overlayedDocument);null!=f&&u.push(new Ln(l.key,f,rt(f.value.mapValue),Cn.exists(!0)))}}catch(h){c.e(h)}finally{c.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,c);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:tn(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new Oe(G)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,bo(i,a.changes);case 9:return e.next=11,ua(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Sa(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function no(e,t){return ro.apply(this,arguments)}function ro(){return(ro=Object(f.a)(l.a.mark((function e(t,n){var r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),e.prev=1,e.next=4,di(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(P(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?P(n.ec):e.removedDocuments.size>0&&(P(n.ec),n.ec=!1))})),e.next=8,bo(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ce(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function io(e,t,n){var r=R(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.Ru(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=R(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Object(s.a)(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Ru(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Va(n)}(r.eventManager,t),i.length&&r.nc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ao(e,t,n){return oo.apply(this,arguments)}function oo(){return(oo=Object(f.a)(l.a.mark((function e(t,n,r){var i,a,o,u,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=R(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Oe(te.comparator)).insert(o,it.newNoDocument(o,$.min())),s=sn().add(o),c=new Jn($.min(),new Map,new xe(G),u,s),e.next=9,no(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),go(i),e.next=16;break;case 14:return e.next=16,mi(i.localStore,n,!1).then((function(){return po(i,n,r)})).catch(ce);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uo(e,t){return so.apply(this,arguments)}function so(){return(so=Object(f.a)(l.a.mark((function e(t,n){var r,i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),i=n.batch.batchId,e.prev=1,e.next=4,fi(r.localStore,n);case 4:return a=e.sent,ho(r,i,null),fo(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,bo(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ce(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function co(e,t,n){return lo.apply(this,arguments)}function lo(){return(lo=Object(f.a)(l.a.mark((function e(t,n,r){var i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=R(t),e.prev=1,e.next=4,function(e,t){var n=R(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return P(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,ho(i,n,r),fo(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,bo(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ce(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function fo(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function ho(e,t,n){var r=R(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function po(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Object(s.a)(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach((function(t){e.cc.containsKey(t)||vo(e,t)}))}function vo(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(Hi(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),go(e))}function yo(e,t,n){var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof qa?(e.cc.addReference(a.key,t),mo(e,a)):a instanceof Ba?(C("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||vo(e,a.key)):N()}}catch(o){i.e(o)}finally{i.f()}}function mo(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(C("SyncEngine","New document in limbo: "+n),e.rc.add(r),go(e))}function go(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new te(J.fromString(t)),r=e.lc.next();e.uc.set(r,new Ka(n)),e.oc=e.oc.insert(n,r),Wi(e.remoteStore,new Mr(Vt(At(n.path)),r,2,de.ct))}}function bo(e,t,n){return ko.apply(this,arguments)}function ko(){return(ko=Object(f.a)(l.a.mark((function e(t,n,r){var i,a,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=R(t),a=[],o=[],u=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){u.push(i.dc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=ai.Di(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.nc.zo(a),e.next=9,function(){var e=Object(f.a)(l.a.mark((function e(t,n){var r,i,a,o,u,c,f,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return fe.forEach(n,(function(t){return fe.forEach(t.Vi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return fe.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),he(e.t0)){e.next=10;break}throw e.t0;case 10:C("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Object(s.a)(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(c=r.Li.get(u),f=c.snapshotVersion,h=c.withLastLimboFreeSnapshotVersion(f),r.Li=r.Li.insert(u,h))}catch(l){i.e(l)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wo(e,t){return _o.apply(this,arguments)}function _o(){return(_o=Object(f.a)(l.a.mark((function e(t,n){var r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=R(t)).currentUser.isEqual(n)){e.next=11;break}return C("SyncEngine","User change. New user:",n.toKey()),e.next=5,ci(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new D(A.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,bo(r,i.Qi);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oo(e,t){var n=R(e),r=n.uc.get(t);if(r&&r.ec)return sn().add(r.key);var i=sn(),a=n.ic.get(t);if(!a)return i;var o,u=Object(s.a)(a);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=n.sc.get(c);i=i.unionWith(l.view.Qu)}}catch(f){u.e(f)}finally{u.f()}return i}function Eo(e){var t=R(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=no.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oo.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ao.bind(null,t),t.nc.zo=Fa.bind(null,t.eventManager),t.nc.wc=Ua.bind(null,t.eventManager),t}function To(e){var t=R(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uo.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=co.bind(null,t),t}var xo=function(){function e(){Object(v.a)(this,e),this.synchronizeTabs=!1}return Object(y.a)(e,[{key:"initialize",value:function(){var e=Object(f.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Pi(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return si(this.persistence,new oi,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new ni(ii.Fs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new _i}},{key:"terminate",value:function(){var e=Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Co=function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,[{key:"initialize",value:function(){var e=Object(f.a)(l.a.mark((function e(t,n){var r=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return io(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=wo.bind(null,this.syncEngine),e.next=12,Oa(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Ra}},{key:"createDatastore",value:function(e){var t,n=Pi(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Ii(t));return function(e,t,n,r){return new Mi(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return io(o.syncEngine,e,0)},a=Ei.D()?new Ei:new Oi,new Ui(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Ga(e,t,n,r,i,a);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Object(f.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=R(t),C("RemoteStore","RemoteStore shutting down."),n.du.add(5),e.next=5,qi(n);case 5:n._u.shutdown(),n.mu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var So=function(){function e(t){Object(v.a)(this,e),this.observer=t,this.muted=!1}return Object(y.a)(e,[{key:"next",value:function(e){this.observer.next&&this.gc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.gc(this.observer.error,e):S("Uncaught Error in snapshot listener:",e.toString())}},{key:"yc",value:function(){this.muted=!0}},{key:"gc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),jo=function(){function e(t,n,r,i){var a=this;Object(v.a)(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=O.UNAUTHENTICATED,this.clientId=K.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Object(f.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return C("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Object(y.a)(e,[{key:"getConfiguration",value:function(){var e=Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new D(A.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new L;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Object(f.a)(l.a.mark((function n(){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Sa(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Io(e,t){return No.apply(this,arguments)}function No(){return(No=Object(f.a)(l.a.mark((function e(t,n){var r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Object(f.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,ci(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Po(e,t){return Ro.apply(this,arguments)}function Ro(){return(Ro=Object(f.a)(l.a.mark((function e(t,n){var r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Do(t);case 3:return r=e.sent,C("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return wa(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return wa(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ao(e){return"FirebaseError"===e.name?e.code===A.FAILED_PRECONDITION||e.code===A.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Do(e){return Lo.apply(this,arguments)}function Lo(){return(Lo=Object(f.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return C("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Io(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Ao(n=e.t0)){e.next=13;break}throw n;case 13:return j("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Io(t,new xo);case 16:e.next=21;break;case 18:return C("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Io(t,new xo);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function Mo(e){return Fo.apply(this,arguments)}function Fo(){return(Fo=Object(f.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return C("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,Po(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return C("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,Po(t,new Co);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uo(e){return Mo(e).then((function(e){return e.syncEngine}))}function Vo(e){return zo.apply(this,arguments)}function zo(){return(zo=Object(f.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mo(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Qa.bind(null,n.syncEngine),r.onUnlisten=Ja.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new L;return e.asyncQueue.enqueueAndForget(Object(f.a)(l.a.mark((function i(){return l.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new So({next:function(n){t.enqueueAndForget((function(){return La(e,o)})),n.fromCache&&"server"===r.source?i.reject(new D(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new za(n,a,{includeMetadataChanges:!0,xu:!0});return Aa(e,o)},i.next=3,Vo(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Bo=new Map;function Wo(e,t,n){if(!n)throw new D(A.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Ho(e){if(!te.isDocumentKey(e))throw new D(A.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ko(e){if(te.isDocumentKey(e))throw new D(A.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Go(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":N()}function Qo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new D(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Go(e);throw new D(A.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Yo=function(){function e(t){var n;if(Object(v.a)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new D(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new D(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new D(A.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Object(y.a)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),$o=function(){function e(t,n,r,i){Object(v.a)(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yo({}),this._settingsFrozen=!1}return Object(y.a)(e,[{key:"app",get:function(){if(!this._app)throw new D(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new D(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yo(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new F;switch(e.type){case"firstParty":return new q(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new D(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Bo.get(e);t&&(C("ComponentProvider","Removing Datastore"),Bo.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Xo(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Qo(e,$o))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&j("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=O.MOCK_USER;else{o=Object(k.l)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new D(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new O(s)}e._authCredentials=new U(new M(o,u))}}var Jo=function(){function e(t,n,r){Object(v.a)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object(y.a)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new eu(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Zo=function(){function e(t,n,r){Object(v.a)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Object(y.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),eu=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this,e,r,At(i)))._path=i,a.type="collection",a}return Object(y.a)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Jo(this.firestore,null,new te(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Zo);function tu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(k.v)(e),Wo("collection","path",t),e instanceof $o){var a=J.fromString.apply(J,[t].concat(r));return Ko(a),new eu(e,null,a)}if(!(e instanceof Jo||e instanceof eu))throw new D(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(J.fromString.apply(J,[t].concat(r)));return Ko(o),new eu(e.firestore,null,o)}var nu=function(){function e(){var t=this;Object(v.a)(this,e),this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new Ri(this,"async_queue_retry"),this.qc=function(){var e=Ni();e&&C("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Co.vo()};var n=Ni();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qc)}return Object(y.a)(e,[{key:"isShuttingDown",get:function(){return this.Oc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Uc(),this.Kc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;var t=Ni();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Uc(),this.Oc)return new Promise((function(){}));var n=new L;return this.Kc((function(){return t.Oc&&t.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.kc.push(e),t.Gc()}))}},{key:"Gc",value:function(){var e=Object(f.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.kc.length){e.next=14;break}return e.prev=1,e.next=4,this.kc[0]();case 4:this.kc.shift(),this.Co.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),he(e.t0)){e.next=12;break}throw e.t0;case 12:C("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.kc.length>0&&this.Co.Ao((function(){return t.Gc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(e){var t=this,n=this.Nc.then((function(){return t.Fc=!0,e().catch((function(e){throw t.Mc=e,t.Fc=!1,S("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.Fc=!1,e}))}));return this.Nc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);var i=Ca.createAndSchedule(this,e,t,n,(function(e){return r.Qc(e)}));return this.$c.push(i),i}},{key:"Uc",value:function(){this.Mc&&N()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Object(f.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Nc,e.next=3,t;case 3:if(t!==this.Nc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"jc",value:function(e){var t,n=Object(s.a)(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Wc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Object(s.a)(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Hc",value:function(e){this.Lc.push(e)}},{key:"Qc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();var ru=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a){var o;return Object(v.a)(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new nu,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Object(y.a)(n,[{key:"_terminate",value:function(){return this._firestoreClient||ou(this),this._firestoreClient.terminate()}}]),n}($o);function iu(e,t){var n="object"==typeof e?e:Object(m.e)(),r="string"==typeof e?e:t||"(default)",i=Object(m.b)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){var a=Object(k.t)("firestore");a&&Xo.apply(void 0,[i].concat(Object(p.a)(a)))}return i}function au(e){return e._firestoreClient||ou(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ou(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Fe(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new jo(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}var uu=function(){function e(t){Object(v.a)(this,e),this._byteString=t}return Object(y.a)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ie.fromBase64String(t))}catch(t){throw new D(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ie.fromUint8Array(t))}}]),e}(),su=function(){function e(){Object(v.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new D(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ee(n)}return Object(y.a)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var cu=function e(t){Object(v.a)(this,e),this._methodName=t},lu=function(){function e(t,n){if(Object(v.a)(this,e),!isFinite(t)||t<-90||t>90)throw new D(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new D(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object(y.a)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return G(this._lat,e._lat)||G(this._long,e._long)}}]),e}(),fu=/^__.*__$/,hu=function(){function e(t,n,r){Object(v.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(y.a)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Ln(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dn(e,this.data,t,this.fieldTransforms)}}]),e}();function du(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw N()}}var pu=function(){function e(t,n,r,i,a,o){Object(v.a)(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Jc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Object(y.a)(e,[{key:"path",get:function(){return this.settings.path}},{key:"Yc",get:function(){return this.settings.Yc}},{key:"Zc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Xc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.ea(e),r}},{key:"na",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.Jc(),r}},{key:"sa",value:function(e){return this.Zc({path:void 0,ta:!0})}},{key:"ia",value:function(e){return xu(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Jc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ea(this.path.get(e))}},{key:"ea",value:function(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(du(this.Yc)&&fu.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}]),e}(),vu=function(){function e(t,n,r){Object(v.a)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Pi(t)}return Object(y.a)(e,[{key:"ua",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new pu({Yc:e,methodName:t,oa:n,path:ee.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function yu(e){var t=e._freezeSettings(),n=Pi(e._databaseId);return new vu(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mu(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ua(a.merge||a.mergeFields?2:0,t,n,i);_u("Data must be an object, but it was:",o,r);var u,c,l=ku(r,o);if(a.merge)u=new Se(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){var f,h=[],d=Object(s.a)(a.mergeFields);try{for(d.s();!(f=d.n()).done;){var p=f.value,v=Ou(t,p,n);if(!o.contains(v))throw new D(A.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));Cu(h,v)||h.push(v)}}catch(y){d.e(y)}finally{d.f()}u=new Se(h),c=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,c=o.fieldTransforms;return new hu(new nt(l),u,c)}function gu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return bu(n,e.ua(r?4:3,t))}function bu(e,t){if(wu(e=Object(k.v)(e)))return _u("Unsupported field value:",t,e),ku(e,t);if(e instanceof cu)return function(e,t){if(!du(t.Yc))throw t.ia("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ia("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&4!==t.Yc)throw t.ia("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Object(s.a)(e);try{for(a.s();!(n=a.n()).done;){var o=bu(n.value,t.sa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Object(k.v)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return dn(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Y.fromDate(e);return{timestampValue:fr(t.serializer,n)}}if(e instanceof Y){var r=new Y(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:fr(t.serializer,r)}}if(e instanceof lu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uu)return{bytesValue:hr(t.serializer,e._byteString)};if(e instanceof Jo){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ia("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:vr(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ia("Unsupported field value: ".concat(Go(e)))}(e,t)}function ku(e,t){var n={};return _e(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):we(e,(function(e,r){var i=bu(r,t.Xc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function wu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Y||e instanceof lu||e instanceof uu||e instanceof Jo||e instanceof cu)}function _u(e,t,n){if(!wu(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Go(n);throw"an object"===r?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function Ou(e,t,n){if((t=Object(k.v)(t))instanceof su)return t._internalPath;if("string"==typeof t)return Tu(e,t);throw xu("Field path arguments must be of type string or ",e,!1,void 0,n)}var Eu=new RegExp("[~\\*/\\[\\]]");function Tu(e,t,n){if(t.search(Eu)>=0)throw xu("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Object(r.a)(su,Object(p.a)(t.split(".")))._internalPath}catch(i){throw xu("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function xu(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new D(A.INVALID_ARGUMENT,u+e+s)}function Cu(e,t){return e.some((function(e){return e.isEqual(t)}))}var Su=function(){function e(t,n,r,i,a){Object(v.a)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Object(y.a)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Jo(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new ju(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Iu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),ju=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"data",value:function(){return Object(i.a)(Object(a.a)(n.prototype),"data",this).call(this)}}]),n}(Su);function Iu(e,t){return"string"==typeof t?Tu(e,t):t instanceof su?t._internalPath:t._delegate._internalPath}function Nu(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new D(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Pu=function e(){Object(v.a)(this,e)},Ru=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return n}(Pu);function Au(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Pu&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Mu})).length,n=e.filter((function(e){return e instanceof Du})).length;if(t>1||t>0&&n>0)throw new D(A.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=Object(s.a)(n);try{for(u.s();!(o=u.n()).done;){var c=o.value;e=c._apply(e)}}catch(l){u.e(l)}finally{u.f()}return e}var Du=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Object(y.a)(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Vu(e._query,t),new Zo(e.firestore,e.converter,zt(e._query,t))}},{key:"_parse",value:function(e){var t=yu(e.firestore);return function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new D(A.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Uu(o,a);var c,l=[],f=Object(s.a)(o);try{for(f.s();!(c=f.n()).done;){var h=c.value;l.push(Fu(r,e,h))}}catch(d){f.e(d)}finally{f.f()}u={arrayValue:{values:l}}}else u=Fu(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Uu(o,a),u=gu(n,"where",o,"in"===a||"not-in"===a);return ft.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Ru);function Lu(e,t,n){var r=t,i=Iu("where",e);return Du._create(i,r,n)}var Mu=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Object(y.a)(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:ht.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=t.getFlattenedFilters(),a=Object(s.a)(i);try{for(a.s();!(n=a.n()).done;){var o=n.value;Vu(r,o),r=zt(r,o)}}catch(u){a.e(u)}finally{a.f()}}(e._query,t),new Zo(e.firestore,e.converter,zt(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Pu);function Fu(e,t,n){if("string"==typeof(n=Object(k.v)(n))){if(""===n)throw new D(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ft(t)&&-1!==n.indexOf("/"))throw new D(A.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(J.fromString(n));if(!te.isDocumentKey(r))throw new D(A.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Qe(e,new te(r))}if(n instanceof Jo)return Qe(e,n._key);throw new D(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Go(n),"."))}function Uu(e,t){if(!Array.isArray(e)||0===e.length)throw new D(A.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Vu(e,t){if(t.isInequality()){var n=Mt(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new D(A.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Lt(e);null!==i&&zu(e,r,i)}var a=function(e,t){var n,r=Object(s.a)(e);try{for(r.s();!(n=r.n()).done;){var i,a=n.value,o=Object(s.a)(a.getFlattenedFilters());try{for(o.s();!(i=o.n()).done;){var u=i.value;if(t.indexOf(u.op)>=0)return u.op}}catch(c){o.e(c)}finally{o.f()}}}catch(c){r.e(c)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new D(A.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new D(A.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function zu(e,t,n){if(!n.isEqual(t))throw new D(A.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var qu=function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ze(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ae(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw N()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return we(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new lu(Re(e.latitude),Re(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Le(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Me(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Pe(e);return new Y(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=J.fromString(e);P(Lr(n));var r=new Ue(n.get(1),n.get(3)),i=new te(n.popFirst(5));return r.isEqual(t)||S("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Bu(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Wu=function(){function e(t,n){Object(v.a)(this,e),this.hasPendingWrites=t,this.fromCache=n}return Object(y.a)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Hu=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,o,u){var s;return Object(v.a)(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Object(y.a)(n,[{key:"exists",value:function(){return Object(i.a)(Object(a.a)(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Iu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Su),Ku=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(Object(a.a)(n.prototype),"data",this).call(this,e)}}]),n}(Hu),Gu=function(){function e(t,n,r,i){Object(v.a)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wu(i.hasPendingWrites,i.fromCache),this.query=r}return Object(y.a)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Ku(n._firestore,n._userDataWriter,r.key,r,new Wu(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new D(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Ku(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Wu(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Ku(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Wu(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Qu(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Qu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return N()}}var Yu=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(y.a)(n,[{key:"convertBytes",value:function(e){return new uu(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jo(this.firestore,null,t)}}]),n}(qu);function $u(e){e=Qo(e,Zo);var t=Qo(e.firestore,ru),n=au(t),r=new Yu(t);return Nu(e._query),qo(n,e._query).then((function(n){return new Gu(t,r,e,n)}))}function Xu(e,t){var n=Qo(e.firestore,ru),r=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(k.v)(e),1===arguments.length&&(t=K.A()),Wo("doc","path",t),e instanceof $o){var a=J.fromString.apply(J,[t].concat(r));return Ho(a),new Jo(e,null,new te(a))}if(!(e instanceof Jo||e instanceof eu))throw new D(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(J.fromString.apply(J,[t].concat(r)));return Ho(o),new Jo(e.firestore,e instanceof eu?e.converter:null,new te(o))}(e),i=Bu(e.converter,t);return Ju(n,[mu(yu(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Cn.exists(!1))]).then((function(){return r}))}function Ju(e,t){return function(e,t){var n=new L;return e.asyncQueue.enqueueAndForget(Object(f.a)(l.a.mark((function r(){return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=eo,r.next=3,Uo(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(au(e),t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){E=e}(m.a),Object(m.c)(new g.a("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new ru(new V(e.getProvider("auth-internal")),new W(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new D(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ue(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Object(m.g)(_,"3.10.0",e),Object(m.g)(_,"3.10.0","esm2017")}()}).call(this,n(36))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Qi})),n.d(t,"b",(function(){return fa})),n.d(t,"c",(function(){return ra})),n.d(t,"d",(function(){return ia})),n.d(t,"e",(function(){return aa})),n.d(t,"f",(function(){return Yi})),n.d(t,"g",(function(){return na})),n.d(t,"h",(function(){return $i})),n.d(t,"i",(function(){return Gi})),n.d(t,"j",(function(){return Xi})),n.d(t,"k",(function(){return Ji}));var r=n(0),i=n.n(r),a=n(12),o=n(3),u=n(25),s=n(8),c=n(9),l=n(15),f=n(7),h=n(1),d=n(2),p=n(18),v=n(24),y=n(4),m=n(21),g="@firebase/database",b="0.14.4",k="";var w=function(){function e(t){Object(h.a)(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Object(d.a)(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(y.O)(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(y.H)(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),_=function(){function e(){Object(h.a)(this,e),this.cache_={},this.isInMemoryStorage=!0}return Object(d.a)(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Object(y.k)(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),O=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new w(t)}}catch(n){}return new _},E=O("localStorage"),T=O("sessionStorage"),x=new m.b("@firebase/database"),C=function(){var e=1;return function(){return e++}}(),S=function(e){var t=Object(y.N)(e),n=new y.d;n.update(t);var r=n.digest();return y.g.encodeByteArray(r)},j=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Object(y.O)(r):r,t+=" "}return t},I=null,N=!0,P=function(e,t){Object(y.e)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(x.logLevel=m.a.VERBOSE,I=x.log.bind(x),t&&T.set("logging_enabled",!0)):"function"===typeof e?I=e:(I=null,T.remove("logging_enabled"))},R=function(){if(!0===N&&(N=!1,null===I&&!0===T.get("logging_enabled")&&P(!0)),I){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=j.apply(null,t);I(r)}},A=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];R.apply(void 0,[e].concat(n))}},D=function(){var e="FIREBASE INTERNAL ERROR: "+j.apply(void 0,arguments);x.error(e)},L=function(){var e="FIREBASE FATAL ERROR: ".concat(j.apply(void 0,arguments));throw x.error(e),new Error(e)},M=function(){var e="FIREBASE WARNING: "+j.apply(void 0,arguments);x.warn(e)},F=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},U="[MIN_NAME]",V="[MAX_NAME]",z=function(e,t){if(e===t)return 0;if(e===U||t===V)return-1;if(t===U||e===V)return 1;var n=Y(e),r=Y(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},q=function(e,t){return e===t?0:e<t?-1:1},B=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(y.O)(t))},W=function e(t){if("object"!==typeof t||null===t)return Object(y.O)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(y.O)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},H=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function K(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var G=function(e){Object(y.e)(!F(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var s=u.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(s.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var Q=new RegExp("^-?(0*)\\d{1,10}$"),Y=function(e){if(Q.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},$=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw M("Exception was thrown by user callback.",e),t}),Math.floor(0))}},X=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},J=function(){function e(t,n){var r=this;Object(h.a)(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return Object(d.a)(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){M('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Z=function(){function e(t,n,r){var i=this;Object(h.a)(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return Object(d.a)(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(R("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',M(e)}}]),e}(),ee=function(){function e(t){Object(h.a)(this,e),this.accessToken=t}return Object(d.a)(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();ee.OWNER="owner";var te="5",ne=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,re="websocket",ie="long_polling",ae=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];Object(h.a)(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=E.get("host:"+t)||this._host}return Object(d.a)(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&E.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function oe(e,t,n){var r;if(Object(y.e)("string"===typeof t,"typeof type must == string"),Object(y.e)("object"===typeof n,"typeof params must == object"),t===re)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ie)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return K(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var ue=function(){function e(){Object(h.a)(this,e),this.counters_={}}return Object(d.a)(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(y.k)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Object(y.n)(this.counters_)}}]),e}(),se={},ce={};function le(e){var t=e.toString();return se[t]||(se[t]=new ue),se[t]}var fe=function(){function e(t){Object(h.a)(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Object(d.a)(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&$((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),he="start",de="close",pe=function(){function e(t,n,r,i,a,o,u){var s=this;Object(h.a)(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=A(t),this.stats_=le(n),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),oe(n,ie,e)}}return Object(d.a)(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new fe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Object(y.D)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ve((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===he)n.id=a,n.password=o;else{if(i!==de)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=te,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&ne.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Object(y.O)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(y.i)(t),r=H(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Object(y.D)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Object(y.O)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Object(y.D)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),ve=function(){function e(t,n,r,i){if(Object(h.a)(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(y.D)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=C(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(u){R("frame writing exception"),u.stack&&R(u.stack),R(u)}}}return Object(d.a)(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Object(y.D)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){R("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||R("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),ye=null;"undefined"!==typeof MozWebSocket?ye=MozWebSocket:"undefined"!==typeof WebSocket&&(ye=WebSocket);var me=function(){function t(e,n,r,i,a,o,u){Object(h.a)(this,t),this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=A(this.connId),this.stats_=le(n),this.connURL=t.connectionURL_(n,o,u,i,r),this.nodeAdmin=n.nodeAdmin}return Object(d.a)(t,[{key:"open",value:function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,E.set("previous_websocket_failure",!0);try{var i;if(Object(y.D)()){var a=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":"Firebase/".concat(te,"/").concat(k,"/").concat(e.platform,"/").concat(a),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=Object({NODE_ENV:"production",PUBLIC_URL:"/video-chat-dpl",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}),u=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;u&&(i.proxy={origin:u})}this.mySock=new ye(this.connURL,[],i)}catch(c){this.log_("Error instantiating WebSocket.");var s=c.message||c.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){E.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(y.H)(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Object(y.e)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Object(y.O)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=H(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=te,!Object(y.D)()&&"undefined"!==typeof location&&location.hostname&&ne.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),oe(e,re,a)}},{key:"forceDisallow",value:function(){t.forceDisallow_=!0}},{key:"isAvailable",value:function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ye&&!t.forceDisallow_}},{key:"previouslyFailed",value:function(){return E.isInMemoryStorage||!0===E.get("previous_websocket_failure")}}]),t}();me.responsesRequiredToBeHealthy=2,me.healthyTimeout=3e4;var ge=function(){function e(t){Object(h.a)(this,e),this.initTransports_(t)}return Object(d.a)(e,[{key:"initTransports_",value:function(t){var n=me&&me.isAvailable(),r=n&&!me.previouslyFailed();if(t.webSocketOnly&&(n||M("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[me];else{var i,a=this.transports_=[],o=Object(f.a)(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var u=i.value;u&&u.isAvailable()&&a.push(u)}}catch(s){o.e(s)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[pe,me]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();ge.globalTransportInitialized_=!1;var be=function(){function e(t,n,r,i,a,o,u,s,c,l){Object(h.a)(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=s,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=A("c:"+this.id+":"),this.transportManager_=new ge(n),this.log_("Connection created"),this.start_()}return Object(d.a)(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=X((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=B("t",e),n=B("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=B("t",e),n=B("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=B("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?D("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):D("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),te!==n&&M("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),X((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):X((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(E.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),ke=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),we=function(){function e(t){Object(h.a)(this,e),this.allowedEvents_=t,this.listeners_={},Object(y.e)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Object(d.a)(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Object(l.a)(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Object(y.e)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),_e=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(y.C)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(d.a)(n,[{key:"getInitialEvent",value:function(e){return Object(y.e)("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(we),Oe=function(){function e(t,n){if(Object(h.a)(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Object(d.a)(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Ee(){return new Oe("")}function Te(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function xe(e){return e.pieces_.length-e.pieceNum_}function Ce(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Oe(e.pieces_,t)}function Se(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Ie(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Oe(t,0)}function Ne(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Oe)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Oe(n,0)}function Pe(e){return e.pieceNum_>=e.pieces_.length}function Re(e,t){var n=Te(e),r=Te(t);if(null===n)return t;if(n===r)return Re(Ce(e),Ce(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ae(e,t){for(var n=je(e,0),r=je(t,0),i=0;i<n.length&&i<r.length;i++){var a=z(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function De(e,t){if(xe(e)!==xe(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Le(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(xe(e)>xe(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Me=function e(t,n){Object(h.a)(this,e),this.errorPrefix_=n,this.parts_=je(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Object(y.M)(this.parts_[r]);Fe(this)};function Fe(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ue(e))}function Ue(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Ve=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e,r,i;return Object(h.a)(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return Object(d.a)(n,[{key:"getInitialEvent",value:function(e){return Object(y.e)("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(we),ze=1e3,qe=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s,c,l){var f;if(Object(h.a)(this,n),(f=t.call(this)).repoInfo_=e,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=o,f.authTokenProvider_=s,f.appCheckTokenProvider_=c,f.authOverride_=l,f.id=n.nextPersistentConnectionId_++,f.log_=A("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=ze,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!Object(y.D)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Ve.getInstance().on("visible",f.onVisible_,Object(u.a)(f)),-1===e.host.indexOf("fblocal")&&_e.getInstance().on("online",f.onOnline_,Object(u.a)(f)),f}return Object(d.a)(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(y.O)(i)),Object(y.e)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new y.a,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(y.e)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(y.e)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var u=o.d,s=o.s;n.warnOnListenWarnings_(u,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(i,a),e.onComplete&&e.onComplete(s,u))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||Object(y.x)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(y.G)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(y.e)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Object(y.O)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):D("Unrecognized action received from server: "+Object(y.O)(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Object(y.e)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ze,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ze,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ze),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,r,o,u,s,c,l,f,h,d,p,v,m,g,b=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+n.nextConnectionId_++,s=this.lastSessionId,c=!1,l=null,f=function(){l?l.close():(c=!0,o())},h=function(e){Object(y.e)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)},this.realtime_={close:f,sendRequest:h},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);case 19:p=e.sent,v=Object(a.a)(p,2),m=v[0],g=v[1],c?R("getToken() completed but was canceled"):(R("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,l=new be(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,(function(e){M(e+" ("+b.repoInfo_.toString()+")"),b.interrupt("server_kill")}),s)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),c||(this.repoInfo_.nodeAdmin&&M(e.t0),f());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){R("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){R("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(y.z)(this.interruptReasons_)&&(this.reconnectDelay_=ze,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return W(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Oe(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){R("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){R("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Object(f.a)(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=e.value,i=Object(f.a)(r.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;this.sendListen_(a)}}catch(c){i.e(c)}finally{i.f()}}}catch(c){t.e(c)}finally{t.f()}for(var o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){var u=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(u.action,u.pathString,u.data,u.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Object(y.D)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+k.replace(/\./g,"-")]=1,Object(y.C)()?e["framework.cordova"]=1:Object(y.E)()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=_e.getInstance().currentlyOnline();return Object(y.z)(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Object(y.k)(e,"w")){var n=Object(y.L)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();M("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(ke);qe.nextPersistentConnectionId_=0,qe.nextConnectionId_=0;var Be,We=function(){function e(t,n){Object(h.a)(this,e),this.name=t,this.node=n}return Object(d.a)(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),He=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new We(U,e),r=new We(U,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return We.MIN}}]),e}(),Ke=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"compare",value:function(e,t){return z(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Object(y.f)("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return We.MIN}},{key:"maxPost",value:function(){return new We(V,Be)}},{key:"makePost",value:function(e,t){return Object(y.e)("string"===typeof e,"KeyIndex indexValue must always be a string."),new We(e,Be)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Be},set:function(e){Be=e}}]),n}(He),Ge=new Ke,Qe=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(h.a)(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Object(d.a)(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Ye=function(){function e(t,n,r,i,a){Object(h.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Je.EMPTY_NODE,this.right=null!=a?a:Je.EMPTY_NODE}return Object(d.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Je.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Je.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Ye.RED=!0,Ye.BLACK=!1;var $e,Xe=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ye(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Je=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Object(h.a)(this,e),this.comparator_=t,this.root_=n}return Object(d.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ye.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ye.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Qe(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Qe(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Qe(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Qe(this.root_,null,this.comparator_,!0,e)}}]),e}();function Ze(e,t){return z(e.name,t.name)}function et(e,t){return z(e,t)}Je.EMPTY_NODE=new Xe;var tt,nt,rt,it=function(e){return"number"===typeof e?"number:"+G(e):"string:"+e},at=function(e){if(e.isLeafNode()){var t=e.val();Object(y.e)("string"===typeof t||"number"===typeof t||"object"===typeof t&&Object(y.k)(t,".sv"),"Priority must be a string or number.")}else Object(y.e)(e===$e||e.isEmpty(),"priority of unexpected type.");Object(y.e)(e===$e||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ot=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Object(h.a)(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(y.e)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),at(this.priorityNode_)}return Object(d.a)(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Pe(t)?this:".priority"===Te(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Te(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(y.e)(".priority"!==r||1===xe(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ce(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+it(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?G(this.value_):this.value_,this.lazyHash_=S(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(y.e)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(y.e)(i>=0,"Unknown leaf type: "+n),Object(y.e)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return tt},set:function(e){tt=e}}]),e}();ot.VALUE_TYPE_ORDER=["object","boolean","number","string"];var ut,st,ct=new(function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?z(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return We.MIN}},{key:"maxPost",value:function(){return new We(V,new ot("[PRIORITY-POST]",rt))}},{key:"makePost",value:function(e,t){var n=nt(e);return new We(t,new ot("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(He)),lt=Math.log(2),ft=function(){function e(t){Object(h.a)(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/lt,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Object(d.a)(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),ht=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,u=i-r;if(0===u)return null;if(1===u)return a=e[r],o=n?n(a):a,new Ye(o,a.node,Ye.BLACK,null,null);var s=parseInt(u/2,10)+r,c=t(r,s),l=t(s+1,i);return a=e[s],o=n?n(a):a,new Ye(o,a.node,Ye.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,u=function(t,r){var a=o-t,u=o;o-=t;var c=i(a+1,u),l=e[a],f=n?n(l):l;s(new Ye(f,l.node,r,null,c))},s=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?u(f,Ye.BLACK):(u(f,Ye.BLACK),u(f,Ye.RED))}return a}(new ft(e.length));return new Je(r||t,a)},dt={},pt=function(){function e(t,n){Object(h.a)(this,e),this.indexes_=t,this.indexSet_=n}return Object(d.a)(e,[{key:"get",value:function(e){var t=Object(y.L)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Je?t:null}},{key:"hasIndex",value:function(e){return Object(y.k)(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Object(y.e)(t!==Ge,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(We.Wrap),u=o.getNext();u;)a=a||t.isDefinedOn(u.node),i.push(u),u=o.getNext();r=a?ht(i,t.getCompare()):dt;var s=t.toString(),c=Object.assign({},this.indexSet_);c[s]=t;var l=Object.assign({},this.indexes_);return l[s]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Object(y.I)(this.indexes_,(function(e,i){var a=Object(y.L)(r.indexSet_,i);if(Object(y.e)(a,"Missing index implementation for "+i),e===dt){if(a.isDefinedOn(t.node)){for(var o=[],u=n.getIterator(We.Wrap),s=u.getNext();s;)s.name!==t.name&&o.push(s),s=u.getNext();return o.push(t),ht(o,a.getCompare())}return dt}var c=n.get(t.name),l=e;return c&&(l=l.remove(new We(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Object(y.I)(this.indexes_,(function(e){if(e===dt)return e;var r=n.get(t.name);return r?e.remove(new We(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Object(y.e)(dt&&ct,"ChildrenNode.ts has not been loaded"),ut=ut||new e({".priority":dt},{".priority":ct})}}]),e}(),vt=function(){function e(t,n,r){Object(h.a)(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&at(this.priorityNode_),this.children_.isEmpty()&&Object(y.e)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object(d.a)(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||st}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?st:t}},{key:"getChild",value:function(e){var t=Te(e);return null===t?this:this.getImmediateChild(t).getChild(Ce(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Object(y.e)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new We(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?st:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Te(e);if(null===n)return t;Object(y.e)(".priority"!==Te(e)||1===xe(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Ce(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(ct,(function(o,u){n[o]=u.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var u in n)o[u]=n[u];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+it(this.getPriority().val())+":"),this.forEachChild(ct,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":S(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new We(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new We(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new We(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,We.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,We.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===yt?-1:0}},{key:"withIndex",value:function(t){if(t===Ge||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Ge||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(ct),r=t.getIterator(ct),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Ge?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return st||(st=new e(new Je(et),null,pt.Default))}}]),e}();vt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var yt=new(function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.call(this,new Je(et),vt.EMPTY_NODE,pt.Default)}return Object(d.a)(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return vt.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(vt));Object.defineProperties(We,{MIN:{value:new We(U,vt.EMPTY_NODE)},MAX:{value:new We(V,yt)}}),Ke.__EMPTY_NODE=vt.EMPTY_NODE,ot.__childrenNodeConstructor=vt,$e=yt,function(e){rt=e}(yt);function mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return vt.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Object(y.e)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new ot(n,mt(t))}if(e instanceof Array){var r=vt.EMPTY_NODE;return K(e,(function(t,n){if(Object(y.k)(e,t)&&"."!==t.substring(0,1)){var i=mt(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(mt(t))}var i=[],a=!1,o=e;if(K(o,(function(e,t){if("."!==e.substring(0,1)){var n=mt(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new We(e,n)))}})),0===i.length)return vt.EMPTY_NODE;var u=ht(i,Ze,(function(e){return e.name}),et);if(a){var s=ht(i,ct.getCompare());return new vt(u,mt(t),new pt({".priority":s},{".priority":ct}))}return new vt(u,mt(t),pt.Default)}!function(e){nt=e}(mt);var gt=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this)).indexPath_=e,Object(y.e)(!Pe(e)&&".priority"!==Te(e),"Can't create PathIndex with empty path or .priority key"),r}return Object(d.a)(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?z(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=mt(e),r=vt.EMPTY_NODE.updateChild(this.indexPath_,n);return new We(t,r)}},{key:"maxPost",value:function(){var e=vt.EMPTY_NODE.updateChild(this.indexPath_,yt);return new We(V,e)}},{key:"toString",value:function(){return je(this.indexPath_,0).join("/")}}]),n}(He),bt=new(function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?z(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return We.MIN}},{key:"maxPost",value:function(){return We.MAX}},{key:"makePost",value:function(e,t){var n=mt(e);return new We(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(He));function kt(e){return{type:"value",snapshotNode:e}}function wt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function _t(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ot(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Et=function(){function e(t){Object(h.a)(this,e),this.index_=t}return Object(d.a)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){Object(y.e)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(_t(t,o)):Object(y.e)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(wt(t,n)):a.trackChildChange(Ot(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ct,(function(e,r){t.hasChild(e)||n.trackChildChange(_t(e,r))})),t.isLeafNode()||t.forEachChild(ct,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Ot(t,r,i))}else n.trackChildChange(wt(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?vt.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),Tt=function(){function e(t){Object(h.a)(this,e),this.indexedFilter_=new Et(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return Object(d.a)(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new We(t,n))||(n=vt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=vt.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(vt.EMPTY_NODE);var i=this;return t.forEachChild(ct,(function(e,t){i.matches(new We(e,t))||(r=r.updateImmediateChild(e,vt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),xt=function(){function e(t){var n=this;Object(h.a)(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Tt(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return Object(d.a)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new We(t,n))||(n=vt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=vt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=vt.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var u;r=(r=t.withIndex(this.index_)).updatePriority(vt.EMPTY_NODE),u=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var s=0;u.hasNext();){var c=u.getNext();s<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?s++:r=r.updateImmediateChild(c.name,vt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var u=e;Object(y.e)(u.numChildren()===this.limit_,"");var s=new We(t,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),l=this.rangedFilter_.matches(s);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||u.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,s);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Ot(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(_t(t,f));var p=u.updateImmediateChild(t,vt.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(wt(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,s)>=0?(null!=i&&(i.trackChildChange(_t(c.name,c.node)),i.trackChildChange(wt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(c.name,vt.EMPTY_NODE)):e}}]),e}(),Ct=function(){function e(){Object(h.a)(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ct}return Object(d.a)(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Object(y.e)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Object(y.e)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:U}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Object(y.e)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Object(y.e)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:V}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Object(y.e)(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===ct}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function St(e){var t,n={};if(e.isDefault())return n;if(e.index_===ct?t="$priority":e.index_===bt?t="$value":e.index_===Ge?t="$key":(Object(y.e)(e.index_ instanceof gt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(y.O)(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=Object(y.O)(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+Object(y.O)(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=Object(y.O)(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+Object(y.O)(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function jt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ct&&(t.i=e.index_.toString()),t}var It=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;return Object(h.a)(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=A("p:rest:"),o.listens_={},o}return Object(d.a)(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var u=n.getListenId_(e,r),s={};this.listens_[u]=s;var c=St(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Object(y.L)(a.listens_,u)===s)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=St(e._queryParams),r=e._path.toString(),i=new y.a;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=Object(a.a)(i,2),u=o[0],s=o[1];u&&u.accessToken&&(n.auth=u.accessToken),s&&s.token&&(n.ac=s.token);var c=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Object(y.J)(n);t.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Object(y.H)(l.responseText)}catch(n){M("Failed to parse JSON response for "+c+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&M("Got unsuccessful REST response for "+c+" Status: "+l.status),r(l.status);r=null}},l.open("GET",c,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Object(y.e)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(ke),Nt=function(){function e(){Object(h.a)(this,e),this.rootNode_=vt.EMPTY_NODE}return Object(d.a)(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Pt(){return{value:null,children:new Map}}function Rt(e,t,n){if(Pe(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Te(t);e.children.has(r)||e.children.set(r,Pt()),Rt(e.children.get(r),t=Ce(t),n)}}function At(e,t){if(Pe(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(ct,(function(t,n){Rt(e,new Oe(t),n)})),At(e,t)}if(e.children.size>0){var r=Te(t);if(t=Ce(t),e.children.has(r))At(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Dt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Dt(r,new Oe(t.toString()+"/"+e),n)}))}var Lt,Mt=function(){function e(t){Object(h.a)(this,e),this.collection_=t,this.last_=null}return Object(d.a)(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&K(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Ft=function(){function e(t,n){Object(h.a)(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Mt(t);var r=1e4+2e4*Math.random();X(this.reportStats_.bind(this),Math.floor(r))}return Object(d.a)(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;K(t,(function(t,i){i>0&&Object(y.k)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),X(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Ut(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Lt||(Lt={}));var Vt,zt=function(){function e(t,n,r){Object(h.a)(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Lt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Object(d.a)(e,[{key:"operationForChild",value:function(t){if(Pe(this.path)){if(null!=this.affectedTree.value)return Object(y.e)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Oe(t));return new e(Ee(),n,this.revert)}return Object(y.e)(Te(this.path)===t,"operationForChild called for unrelated child."),new e(Ce(this.path),this.affectedTree,this.revert)}}]),e}(),qt=function(){function e(t,n){Object(h.a)(this,e),this.source=t,this.path=n,this.type=Lt.LISTEN_COMPLETE}return Object(d.a)(e,[{key:"operationForChild",value:function(t){return Pe(this.path)?new e(this.source,Ee()):new e(this.source,Ce(this.path))}}]),e}(),Bt=function(){function e(t,n,r){Object(h.a)(this,e),this.source=t,this.path=n,this.snap=r,this.type=Lt.OVERWRITE}return Object(d.a)(e,[{key:"operationForChild",value:function(t){return Pe(this.path)?new e(this.source,Ee(),this.snap.getImmediateChild(t)):new e(this.source,Ce(this.path),this.snap)}}]),e}(),Wt=function(){function e(t,n,r){Object(h.a)(this,e),this.source=t,this.path=n,this.children=r,this.type=Lt.MERGE}return Object(d.a)(e,[{key:"operationForChild",value:function(t){if(Pe(this.path)){var n=this.children.subtree(new Oe(t));return n.isEmpty()?null:n.value?new Bt(this.source,Ee(),n.value):new e(this.source,Ee(),n)}return Object(y.e)(Te(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ce(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Ht=function(){function e(t,n,r){Object(h.a)(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Object(d.a)(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Pe(e))return this.isFullyInitialized()&&!this.filtered_;var t=Te(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),Kt=function e(t){Object(h.a)(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()};function Gt(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(y.f)("Should only compare child_ events.");var r=new We(t.childName,t.snapshotNode),i=new We(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Qt(e,t){return{eventCache:e,serverCache:t}}function Yt(e,t,n,r){return Qt(new Ht(t,n,r),e.serverCache)}function $t(e,t,n,r){return Qt(e.eventCache,new Ht(t,n,r))}function Xt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Jt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Zt=function(){return Vt||(Vt=new Je(q)),Vt},en=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt();Object(h.a)(this,e),this.value=t,this.children=n}return Object(d.a)(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Ee(),value:this.value};if(Pe(e))return null;var n=Te(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Ce(e),t);return null!=i?{path:Ne(new Oe(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Pe(t))return this;var n=Te(t),r=this.children.get(n);return null!==r?r.subtree(Ce(t)):new e(null)}},{key:"set",value:function(t,n){if(Pe(t))return new e(n,this.children);var r=Te(t),i=(this.children.get(r)||new e(null)).set(Ce(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Pe(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Te(t),r=this.children.get(n);if(r){var i,a=r.remove(Ce(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Pe(e))return this.value;var t=Te(e),n=this.children.get(t);return n?n.get(Ce(e)):null}},{key:"setTree",value:function(t,n){if(Pe(t))return n;var r,i=Te(t),a=(this.children.get(i)||new e(null)).setTree(Ce(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Ee(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Ne(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Ee(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Pe(e))return null;var i=Te(e),a=this.children.get(i);return a?a.findOnPath_(Ce(e),Ne(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Ee(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Pe(t))return this;this.value&&r(n,this.value);var i=Te(t),a=this.children.get(i);return a?a.foreachOnPath_(Ce(t),Ne(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Ee(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Ne(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return K(t,(function(e,t){n=n.set(new Oe(e),t)})),n}}]),e}(),tn=function(){function e(t){Object(h.a)(this,e),this.writeTree_=t}return Object(d.a)(e,null,[{key:"empty",value:function(){return new e(new en(null))}}]),e}();function nn(e,t,n){if(Pe(t))return new tn(new en(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Re(i,t);return a=a.updateChild(o,n),new tn(e.writeTree_.set(i,a))}var u=new en(n),s=e.writeTree_.setTree(t,u);return new tn(s)}function rn(e,t,n){var r=e;return K(n,(function(e,n){r=nn(r,Ne(t,e),n)})),r}function an(e,t){if(Pe(t))return tn.empty();var n=e.writeTree_.setTree(t,new en(null));return new tn(n)}function on(e,t){return null!=un(e,t)}function un(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Re(n.path,t)):null}function sn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ct,(function(e,n){t.push(new We(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new We(e,n.value))})),t}function cn(e,t){if(Pe(t))return e;var n=un(e,t);return new tn(null!=n?new en(n):e.writeTree_.subtree(t))}function ln(e){return e.writeTree_.isEmpty()}function fn(e,t){return hn(Ee(),e.writeTree_,t)}function hn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Object(y.e)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=hn(Ne(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ne(e,".priority"),r)),n}function dn(e,t){return Cn(t,e)}function pn(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function vn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Object(y.e)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var u=e.allWrites[o];u.visible&&(o>=n&&yn(u,r.path)?i=!1:Le(r.path,u.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=gn(e.allWrites,mn,Ee()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=an(e.visibleWrites,r.path):K(r.children,(function(t){e.visibleWrites=an(e.visibleWrites,Ne(r.path,t))}));return!0}return!1}function yn(e,t){if(e.snap)return Le(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Le(Ne(e.path,n),t))return!0;return!1}function mn(e){return e.visible}function gn(e,t,n){for(var r=tn.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,u=void 0;if(a.snap)Le(n,o)?r=nn(r,u=Re(n,o),a.snap):Le(o,n)&&(u=Re(o,n),r=nn(r,Ee(),a.snap.getChild(u)));else{if(!a.children)throw Object(y.f)("WriteRecord should have .snap or .children");if(Le(n,o))r=rn(r,u=Re(n,o),a.children);else if(Le(o,n))if(Pe(u=Re(o,n)))r=rn(r,Ee(),a.children);else{var s=Object(y.L)(a.children,Te(u));if(s){var c=s.getChild(Ce(u));r=nn(r,Ee(),c)}}}}}return r}function bn(e,t,n,r,i){if(r||i){var a=cn(e.visibleWrites,t);if(!i&&ln(a))return n;if(i||null!=n||on(a,Ee())){return fn(gn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Le(e.path,t)||Le(t,e.path))}),t),n||vt.EMPTY_NODE)}return null}var o=un(e.visibleWrites,t);if(null!=o)return o;var u=cn(e.visibleWrites,t);return ln(u)?n:null!=n||on(u,Ee())?fn(u,n||vt.EMPTY_NODE):null}function kn(e,t,n,r){return bn(e.writeTree,e.treePath,t,n,r)}function wn(e,t){return function(e,t,n){var r=vt.EMPTY_NODE,i=un(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ct,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=cn(e.visibleWrites,t);return n.forEachChild(ct,(function(e,t){var n=fn(cn(a,new Oe(e)),t);r=r.updateImmediateChild(e,n)})),sn(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return sn(cn(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function _n(e,t,n,r){return function(e,t,n,r,i){Object(y.e)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Ne(t,n);if(on(e.visibleWrites,a))return null;var o=cn(e.visibleWrites,a);return ln(o)?i.getChild(n):fn(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function On(e,t){return function(e,t){return un(e.visibleWrites,t)}(e.writeTree,Ne(e.treePath,t))}function En(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var u,s=cn(e.visibleWrites,t),c=un(s,Ee());if(null!=c)u=c;else{if(null==n)return[];u=fn(s,n)}if((u=u.withIndex(o)).isEmpty()||u.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Tn(e,t,n){return function(e,t,n,r){var i=Ne(t,n),a=un(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?fn(cn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function xn(e,t){return Cn(Ne(e.treePath,t),e.writeTree)}function Cn(e,t){return{treePath:e,writeTree:t}}var Sn=function(){function e(){Object(h.a)(this,e),this.changeMap=new Map}return Object(d.a)(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Object(y.e)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(y.e)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Ot(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,_t(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,wt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(y.f)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Ot(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),jn=new(function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),In=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(h.a)(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Object(d.a)(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Ht(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Tn(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Jt(this.viewCache_),i=En(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Nn(e,t,n,r,i){var a,o,u=new Sn;if(n.type===Lt.OVERWRITE){var s=n;s.source.fromUser?a=An(e,t,s.path,s.snap,r,i,u):(Object(y.e)(s.source.fromServer,"Unknown source."),o=s.source.tagged||t.serverCache.isFiltered()&&!Pe(s.path),a=Rn(e,t,s.path,s.snap,r,i,o,u))}else if(n.type===Lt.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var u=t;return r.foreach((function(r,s){var c=Ne(n,r);Dn(t,Te(c))&&(u=An(e,u,c,s,i,a,o))})),r.foreach((function(r,s){var c=Ne(n,r);Dn(t,Te(c))||(u=An(e,u,c,s,i,a,o))})),u}(e,t,c.path,c.children,r,i,u):(Object(y.e)(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=Mn(e,t,c.path,c.children,r,i,o,u))}else if(n.type===Lt.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=On(r,n))return t;var u,s=new In(r,t,i),c=t.eventCache.getNode();if(Pe(n)||".priority"===Te(n)){var l;if(t.serverCache.isFullyInitialized())l=kn(r,Jt(t));else{var f=t.serverCache.getNode();Object(y.e)(f instanceof vt,"serverChildren would be complete if leaf node"),l=wn(r,f)}l=l,u=e.filter.updateFullNode(c,l,a)}else{var h=Te(n),d=Tn(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(u=null!=d?e.filter.updateChild(c,h,d,Ce(n),s,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,vt.EMPTY_NODE,Ce(n),s,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=kn(r,Jt(t))).isLeafNode()&&(u=e.filter.updateFullNode(u,o,a))}return o=t.serverCache.isFullyInitialized()||null!=On(r,Ee()),Yt(t,u,o,e.filter.filtersNodes())}(e,t,l.path,r,i,u):function(e,t,n,r,i,a,o){if(null!=On(i,n))return t;var u=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(Pe(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return Rn(e,t,n,s.getNode().getChild(n),i,a,u,o);if(Pe(n)){var c=new en(null);return s.getNode().forEachChild(Ge,(function(e,t){c=c.set(new Oe(e),t)})),Mn(e,t,n,c,i,a,u,o)}return t}var l=new en(null);return r.foreach((function(e,t){var r=Ne(n,e);s.isCompleteForPath(r)&&(l=l.set(e,s.getNode().getChild(r)))})),Mn(e,t,n,l,i,a,u,o)}(e,t,l.path,l.affectedTree,r,i,u)}else{if(n.type!==Lt.LISTEN_COMPLETE)throw Object(y.f)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=$t(t,a.getNode(),a.isFullyInitialized()||Pe(n),a.isFiltered());return Pn(e,o,n,r,jn,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Xt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(kt(Xt(t)))}}(t,a,f),{viewCache:a,changes:f}}function Pn(e,t,n,r,i,a){var o,u,s=t.eventCache;if(null!=On(r,n))return t;if(Pe(n))if(Object(y.e)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=Jt(t),l=wn(r,c instanceof vt?c:vt.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=kn(r,Jt(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Te(n);if(".priority"===h){Object(y.e)(1===xe(n),"Can't have a priority with additional path components");var d=s.getNode(),p=_n(r,n,d,u=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):s.getNode()}else{var v,m=Ce(n);if(s.isCompleteForChild(h)){u=t.serverCache.getNode();var g=_n(r,n,s.getNode(),u);v=null!=g?s.getNode().getImmediateChild(h).updateChild(m,g):s.getNode().getImmediateChild(h)}else v=Tn(r,h,t.serverCache);o=null!=v?e.filter.updateChild(s.getNode(),h,v,m,i,a):s.getNode()}}return Yt(t,o,s.isFullyInitialized()||Pe(n),e.filter.filtersNodes())}function Rn(e,t,n,r,i,a,o,u){var s,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(Pe(n))s=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);s=l.updateFullNode(c.getNode(),f,null)}else{var h=Te(n);if(!c.isCompleteForPath(n)&&xe(n)>1)return t;var d=Ce(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);s=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,jn,null)}var v=$t(t,s,c.isFullyInitialized()||Pe(n),l.filtersNodes());return Pn(e,v,n,i,new In(i,v,a),u)}function An(e,t,n,r,i,a,o){var u,s,c=t.eventCache,l=new In(i,t,a);if(Pe(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=Yt(t,s,!0,e.filter.filtersNodes());else{var f=Te(n);if(".priority"===f)s=e.filter.updatePriority(t.eventCache.getNode(),r),u=Yt(t,s,c.isFullyInitialized(),c.isFiltered());else{var h,d=Ce(n),p=c.getNode().getImmediateChild(f);if(Pe(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===Se(d)&&v.getChild(Ie(d)).isEmpty()?v:v.updateChild(d,r):vt.EMPTY_NODE}if(p.equals(h))u=t;else u=Yt(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return u}function Dn(e,t){return e.eventCache.isCompleteForChild(t)}function Ln(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Mn(e,t,n,r,i,a,o,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,c=t;s=Pe(n)?r:new en(null).setTree(n,r);var l=t.serverCache.getNode();return s.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var s=Ln(0,t.serverCache.getNode().getImmediateChild(n),r);c=Rn(e,c,new Oe(n),s,i,a,o,u)}})),s.children.inorderTraversal((function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!s){var f=Ln(0,t.serverCache.getNode().getImmediateChild(n),r);c=Rn(e,c,new Oe(n),f,i,a,o,u)}})),c}var Fn,Un=function(){function e(t,n){Object(h.a)(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new Et(i.getIndex()),o=(r=i).loadsAllData()?new Et(r.getIndex()):r.hasLimit()?new xt(r):new Tt(r);this.processor_=function(e){return{filter:e}}(o);var u=n.serverCache,s=n.eventCache,c=a.updateFullNode(vt.EMPTY_NODE,u.getNode(),null),l=o.updateFullNode(vt.EMPTY_NODE,s.getNode(),null),f=new Ht(c,u.isFullyInitialized(),a.filtersNodes()),d=new Ht(l,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Qt(d,f),this.eventGenerator_=new Kt(this.query_)}return Object(d.a)(e,[{key:"query",get:function(){return this.query_}}]),e}();function Vn(e,t){var n=Jt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Pe(t)&&!n.getImmediateChild(Te(t)).isEmpty())?n.getChild(t):null}function zn(e){return 0===e.eventRegistrations_.length}function qn(e,t,n){var r=[];if(n){Object(y.e)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var u=e.eventRegistrations_[o];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Bn(e,t,n,r){t.type===Lt.MERGE&&null!==t.source.queryId&&(Object(y.e)(Jt(e.viewCache_),"We should always have a full cache before handling merges"),Object(y.e)(Xt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,u=Nn(e.processor_,o,t,n,r);return i=e.processor_,a=u.viewCache,Object(y.e)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(y.e)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(y.e)(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Wn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Wn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Gt(e,i,"child_removed",t,r,n),Gt(e,i,"child_added",t,r,n),Gt(e,i,"child_moved",a,r,n),Gt(e,i,"child_changed",t,r,n),Gt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Hn,Kn=function e(){Object(h.a)(this,e),this.views=new Map};function Gn(e){return 0===e.views.size}function Qn(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Object(y.e)(null!=a,"SyncTree gave us an op for an invalid query."),Bn(a,t,n,r)}var o,u=[],s=Object(f.a)(e.views.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u=u.concat(Bn(c,t,n,r))}}catch(l){s.e(l)}finally{s.f()}return u}function Yn(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var u=kn(n,i?r:null),s=!1;u?s=!0:r instanceof vt?(u=wn(n,r),s=!1):(u=vt.EMPTY_NODE,s=!1);var c=Qt(new Ht(u,s,!1),new Ht(r,i,!1));return new Un(t,c)}return o}function $n(e,t,n,r,i,a){var o=Yn(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ct,(function(e,t){r.push(wt(e,t))})),n.isFullyInitialized()&&r.push(kt(n.getNode())),Wn(e,r,n.getNode(),t)}(o,n)}function Xn(e,t,n,r){var i=t._queryIdentifier,o=[],u=[],s=nr(e);if("default"===i){var c,l=Object(f.a)(e.views.entries());try{for(l.s();!(c=l.n()).done;){var h=Object(a.a)(c.value,2),d=h[0],p=h[1];u=u.concat(qn(p,n,r)),zn(p)&&(e.views.delete(d),p.query._queryParams.loadsAllData()||o.push(p.query))}}catch(m){l.e(m)}finally{l.f()}}else{var v=e.views.get(i);v&&(u=u.concat(qn(v,n,r)),zn(v)&&(e.views.delete(i),v.query._queryParams.loadsAllData()||o.push(v.query)))}return s&&!nr(e)&&o.push(new(Object(y.e)(Fn,"Reference.ts has not been loaded"),Fn)(t._repo,t._path)),{removed:o,events:u}}function Jn(e){var t,n=[],r=Object(f.a)(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function Zn(e,t){var n,r=null,i=Object(f.a)(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Vn(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function er(e,t){if(t._queryParams.loadsAllData())return rr(e);var n=t._queryIdentifier;return e.views.get(n)}function tr(e,t){return null!=er(e,t)}function nr(e){return null!=rr(e)}function rr(e){var t,n=Object(f.a)(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var ir=1,ar=function e(t){Object(h.a)(this,e),this.listenProvider_=t,this.syncPointTree_=new en(null),this.pendingWriteTree_={visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function or(e,t,n,r,i){return function(e,t,n,r,i){Object(y.e)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=nn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?pr(e,new Bt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ur(e,t,n,r){!function(e,t,n,r){Object(y.e)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=rn(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=en.fromObject(n);return pr(e,new Wt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function sr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=pn(e.pendingWriteTree_,t),i=vn(e.pendingWriteTree_,t);if(i){var a=new en(null);return null!=r.snap?a=a.set(Ee(),!0):K(r.children,(function(e){a=a.set(new Oe(e),!0)})),pr(e,new zt(r.path,a,n))}return[]}function cr(e,t,n){return pr(e,new Bt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function lr(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),u=[];if(o&&("default"===t._queryIdentifier||tr(o,t))){var s=Xn(o,t,n,r);Gn(o)&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=s.removed;if(u=s.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return nr(t)}));if(l&&!f){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var d=Or(h),p=0;p<d.length;++p){var v=d[p],y=v.query,m=mr(e,v);e.listenProvider_.startListening(Er(y),gr(e,y),m.hashFn,m.onComplete)}}if(!f&&c.length>0&&!r)if(l){var g=null;e.listenProvider_.stopListening(Er(t),g)}else c.forEach((function(t){var n=e.queryToTagMap.get(br(t));e.listenProvider_.stopListening(Er(t),n)}))}Tr(e,c)}return u}function fr(e,t,n,r){var i=kr(e,r);if(null!=i){var a=wr(i),o=a.path,u=a.queryId,s=Re(o,t);return _r(e,o,new Bt(Ut(u),s,n))}return[]}function hr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=Re(e,i);a=a||Zn(t,n),o=o||nr(t)}));var u,s=e.syncPointTree_.get(i);if(s?(o=o||nr(s),a=a||Zn(s,Ee())):(s=new Kn,e.syncPointTree_=e.syncPointTree_.set(i,s)),null!=a)u=!0;else{u=!1,a=vt.EMPTY_NODE;var c=e.syncPointTree_.subtree(i);c.foreachChild((function(e,t){var n=Zn(t,Ee());n&&(a=a.updateImmediateChild(e,n))}))}var l=tr(s,t);if(!l&&!t._queryParams.loadsAllData()){var f=br(t);Object(y.e)(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");var h=xr();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}var d=dn(e.pendingWriteTree_,i),p=$n(s,t,n,d,a,u);if(!l&&!o&&!r){var v=er(s,t);p=p.concat(Cr(e,t,v))}return p}function dr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Zn(n,Re(e,t));if(r)return r}));return bn(r,t,i,n,!0)}function pr(e,t){return vr(t,e.syncPointTree_,null,dn(e.pendingWriteTree_,Ee()))}function vr(e,t,n,r){if(Pe(e.path))return yr(e,t,n,r);var i=t.get(Ee());null==n&&null!=i&&(n=Zn(i,Ee()));var a=[],o=Te(e.path),u=e.operationForChild(o),s=t.children.get(o);if(s&&u){var c=n?n.getImmediateChild(o):null,l=xn(r,o);a=a.concat(vr(u,s,c,l))}return i&&(a=a.concat(Qn(i,e,r,n))),a}function yr(e,t,n,r){var i=t.get(Ee());null==n&&null!=i&&(n=Zn(i,Ee()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,u=xn(r,t),s=e.operationForChild(t);s&&(a=a.concat(yr(s,i,o,u)))})),i&&(a=a.concat(Qn(i,e,r,n))),a}function mr(e,t){var n=t.query,r=gr(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||vt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=kr(e,n);if(r){var i=wr(r),a=i.path,o=i.queryId,u=Re(a,t);return _r(e,a,new qt(Ut(o),u))}return[]}(e,n._path,r):function(e,t){return pr(e,new qt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return lr(e,n,null,i)}}}function gr(e,t){var n=br(t);return e.queryToTagMap.get(n)}function br(e){return e._path.toString()+"$"+e._queryIdentifier}function kr(e,t){return e.tagToQueryMap.get(t)}function wr(e){var t=e.indexOf("$");return Object(y.e)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Oe(e.substr(0,t))}}function _r(e,t,n){var r=e.syncPointTree_.get(t);return Object(y.e)(r,"Missing sync point for query tag that we're tracking"),Qn(r,n,dn(e.pendingWriteTree_,t),null)}function Or(e){return e.fold((function(e,t,n){if(t&&nr(t))return[rr(t)];var r=[];return t&&(r=Jn(t)),K(n,(function(e,t){r=r.concat(t)})),r}))}function Er(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Object(y.e)(Hn,"Reference.ts has not been loaded"),Hn)(e._repo,e._path):e}function Tr(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=br(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function xr(){return ir++}function Cr(e,t,n){var r=t._path,i=gr(e,t),a=mr(e,n),o=e.listenProvider_.startListening(Er(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)Object(y.e)(!nr(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var s=u.fold((function(e,t,n){if(!Pe(e)&&t&&nr(t))return[rr(t).query];var r=[];return t&&(r=r.concat(Jn(t).map((function(e){return e.query})))),K(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<s.length;++c){var l=s[c];e.listenProvider_.stopListening(Er(l),gr(e,l))}return o}var Sr=function(){function e(t){Object(h.a)(this,e),this.node_=t}return Object(d.a)(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),jr=function(){function e(t,n){Object(h.a)(this,e),this.syncTree_=t,this.path_=n}return Object(d.a)(e,[{key:"getImmediateChild",value:function(t){var n=Ne(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return dr(this.syncTree_,this.path_)}}]),e}(),Ir=function(e,t,n){return e&&"object"===typeof e?(Object(y.e)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Nr(e[".sv"],t,n):"object"===typeof e[".sv"]?Pr(e[".sv"],t):void Object(y.e)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Nr=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Object(y.e)(!1,"Unexpected server value: "+e)}},Pr=function(e,t,n){e.hasOwnProperty("increment")||Object(y.e)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Object(y.e)(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(y.e)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Rr=function(e,t,n,r){return Dr(t,new jr(n,e),r)},Ar=function(e,t,n){return Dr(e,new Sr(t),n)};function Dr(e,t,n){var r,i=e.getPriority().val(),a=Ir(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,u=Ir(o.getValue(),t,n);return u!==o.getValue()||a!==o.getPriority().val()?new ot(u,mt(a)):e}var s=e;return r=s,a!==s.getPriority().val()&&(r=r.updatePriority(new ot(a))),s.forEachChild(ct,(function(e,i){var a=Dr(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var Lr=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Object(h.a)(this,e),this.name=t,this.parent=n,this.node=r};function Mr(e,t){for(var n=t instanceof Oe?t:new Oe(t),r=e,i=Te(n);null!==i;){var a=Object(y.L)(r.node.children,i)||{children:{},childCount:0};r=new Lr(i,r,a),i=Te(n=Ce(n))}return r}function Fr(e){return e.node.value}function Ur(e,t){e.node.value=t,Wr(e)}function Vr(e){return e.node.childCount>0}function zr(e,t){K(e.node.children,(function(n,r){t(new Lr(n,e,r))}))}function qr(e,t,n,r){n&&!r&&t(e),zr(e,(function(e){qr(e,t,!0,r)})),n&&r&&t(e)}function Br(e){return new Oe(null===e.parent?e.name:Br(e.parent)+"/"+e.name)}function Wr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Fr(e)&&!Vr(e)}(n),i=Object(y.k)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Wr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Wr(e))}(e.parent,e.name,e)}var Hr=/[\[\].#$\/\u0000-\u001F\u007F]/,Kr=/[\[\].#$\u0000-\u001F\u007F]/,Gr=10485760,Qr=function(e){return"string"===typeof e&&0!==e.length&&!Hr.test(e)},Yr=function(e){return"string"===typeof e&&0!==e.length&&!Kr.test(e)},$r=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!F(e)||e&&"object"===typeof e&&Object(y.k)(e,".sv")},Xr=function(e,t,n,r){r&&void 0===t||Jr(Object(y.p)(e,"value"),t,n)},Jr=function e(t,n,r){var i=r instanceof Oe?new Me(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Ue(i));if("function"===typeof n)throw new Error(t+"contains a function "+Ue(i)+" with contents = "+n.toString());if(F(n))throw new Error(t+"contains "+n.toString()+" "+Ue(i));if("string"===typeof n&&n.length>Gr/3&&Object(y.M)(n)>Gr)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Ue(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(K(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Qr(n)))throw new Error(t+" contains an invalid key ("+n+") "+Ue(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,s;s=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=Object(y.M)(s),Fe(u),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Object(y.M)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+Ue(i)+" in addition to actual children.")}},Zr=function(e,t,n,r){if(!r||void 0!==t){var i=Object(y.p)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];K(t,(function(e,t){var r=new Oe(e);if(Jr(i,t,Ne(n,r)),".priority"===Se(r)&&!$r(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=je(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!Qr(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Ae);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Le(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},ei=function(e,t,n){if(!n||void 0!==t){if(F(t))throw new Error(Object(y.p)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!$r(t))throw new Error(Object(y.p)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ti=function(e,t,n,r){if((!r||void 0!==n)&&!Yr(n))throw new Error(Object(y.p)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ni=function(e,t){if(".info"===Te(t))throw new Error(e+" failed = Can't modify data under /.info/")},ri=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Qr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Yr(e)}(n))throw new Error(Object(y.p)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ii=function e(){Object(h.a)(this,e),this.eventLists_=[],this.recursionDepth_=0};function ai(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||De(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function oi(e,t,n){ai(e,n),si(e,(function(e){return De(e,t)}))}function ui(e,t,n){ai(e,n),si(e,(function(e){return Le(e,t)||Le(t,e)}))}function si(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(ci(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function ci(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();I&&R("event: "+n.toString()),$(r)}}}var li="repo_interrupt",fi=function(){function e(t,n,r,i){Object(h.a)(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ii,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Pt(),this.transactionQueueTree_=new Lr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Object(d.a)(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function hi(e,t,n){if(e.stats_=le(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new It(e.repoInfo_,(function(t,n,r,i){vi(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return yi(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(y.O)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new qe(e.repoInfo_,t,(function(t,n,r,i){vi(e,t,n,r,i)}),(function(t){yi(e,t)}),(function(t){!function(e,t){K(t,(function(t,n){mi(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return ce[n]||(ce[n]=t()),ce[n]}(e.repoInfo_,(function(){return new Ft(e.stats_,e.server_)})),e.infoData_=new Nt,e.infoSyncTree_=new ar({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=cr(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),mi(e,"connected",!1),e.serverSyncTree_=new ar({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);ui(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function di(e){var t=e.infoData_.getNode(new Oe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function pi(e){return(t=(t={timestamp:di(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function vi(e,t,n,r,i){e.dataUpdateCount++;var a=new Oe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var u=Object(y.I)(n,(function(e){return mt(e)}));o=function(e,t,n,r){var i=kr(e,r);if(i){var a=wr(i),o=a.path,u=a.queryId,s=Re(o,t),c=en.fromObject(n);return _r(e,o,new Wt(Ut(u),s,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var s=mt(n);o=fr(e.serverSyncTree_,a,s,i)}else if(r){var c=Object(y.I)(n,(function(e){return mt(e)}));o=function(e,t,n){var r=en.fromObject(n);return pr(e,new Wt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=mt(n);o=cr(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=ji(e,a)),ui(e.eventQueue_,f,o)}function yi(e,t){mi(e,"connected",t),!1===t&&function(e){Ei(e,"onDisconnectEvents");var t=pi(e),n=Pt();Dt(e.onDisconnect_,Ee(),(function(r,i){var a=Rr(r,i,e.serverSyncTree_,t);Rt(n,r,a)}));var r=[];Dt(n,Ee(),(function(t,n){r=r.concat(cr(e.serverSyncTree_,t,n));var i=Ai(e,t);ji(e,i)})),e.onDisconnect_=Pt(),ui(e.eventQueue_,Ee(),r)}(e)}function mi(e,t,n){var r=new Oe("/.info/"+t),i=mt(n);e.infoData_.updateSnapshot(r,i);var a=cr(e.infoSyncTree_,r,i);ui(e.eventQueue_,r,a)}function gi(e){return e.nextWriteId_++}function bi(e,t,n,r,i){Ei(e,"set",{path:t.toString(),value:n,priority:r});var a=pi(e),o=mt(n,r),u=dr(e.serverSyncTree_,t),s=Ar(o,u,a),c=gi(e),l=or(e.serverSyncTree_,t,s,c,!0);ai(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||M("set at "+t+" failed: "+n);var o=sr(e.serverSyncTree_,c,!a);ui(e.eventQueue_,t,o),Ti(e,i,n,r)}));var f=Ai(e,t);ji(e,f),ui(e.eventQueue_,f,[])}function ki(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&At(e.onDisconnect_,t),Ti(e,n,r,i)}))}function wi(e,t,n,r){var i=mt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&Rt(e.onDisconnect_,t,i),Ti(e,r,n,a)}))}function _i(e,t,n){var r;r=".info"===Te(t._path)?lr(e.infoSyncTree_,t,n):lr(e.serverSyncTree_,t,n),oi(e.eventQueue_,t._path,r)}function Oi(e){e.persistentConnection_&&e.persistentConnection_.interrupt(li)}function Ei(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];R.apply(void 0,[t].concat(r))}function Ti(e,t,n,r){t&&$((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function xi(e,t,n){return dr(e.serverSyncTree_,t,n)||vt.EMPTY_NODE}function Ci(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Ri(e,t),Fr(t)){var n=Ni(e,t);Object(y.e)(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&Si(e,Br(t),n)}else Vr(t)&&zr(t,(function(t){Ci(e,t)}))}function Si(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=xi(e,t,r),a=i,o=i.hash(),u=0;u<n.length;u++){var s=n[u];Object(y.e)(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var c=Re(t,s.path);a=a.updateChild(c,s.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){Ei(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(sr(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},u=0;u<n.length;u++)o(u);Ri(e,Mr(e.transactionQueueTree_,t)),Ci(e,e.transactionQueueTree_),ui(e.eventQueue_,t,i);for(var s=0;s<a.length;s++)$(a[s])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{M("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}ji(e,t)}}),o)}function ji(e,t){var n=Ii(e,t),r=Br(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),o=function(o){var u,s=t[o],c=Re(n,s.path),l=!1,f=void 0;if(Object(y.e)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)l=!0,f=s.abortReason,i=i.concat(sr(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)l=!0,f="maxretry",i=i.concat(sr(e.serverSyncTree_,s.currentWriteId,!0));else{var h=xi(e,s.path,a);s.currentInputSnapshot=h;var d=t[o].update(h.val());if(void 0!==d){Jr("transaction failed: Data returned ",d,s.path);var p=mt(d);"object"===typeof d&&null!=d&&Object(y.k)(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=s.currentWriteId,m=pi(e),g=Ar(p,h,m);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=g,s.currentWriteId=gi(e),a.splice(a.indexOf(v),1),i=(i=i.concat(or(e.serverSyncTree_,s.path,g,s.currentWriteId,s.applyLocally))).concat(sr(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(sr(e.serverSyncTree_,s.currentWriteId,!0))}ui(e.eventQueue_,n,i),i=[],l&&(t[o].status=2,u=t[o].unwatcher,setTimeout(u,Math.floor(0)),t[o].onComplete&&("nodata"===f?r.push((function(){return t[o].onComplete(null,!1,t[o].currentInputSnapshot)})):r.push((function(){return t[o].onComplete(new Error(f),!1,null)}))))},u=0;u<t.length;u++)o(u);Ri(e,e.transactionQueueTree_);for(var s=0;s<r.length;s++)$(r[s]);Ci(e,e.transactionQueueTree_)}(e,Ni(e,n),r),r}function Ii(e,t){var n,r=e.transactionQueueTree_;for(n=Te(t);null!==n&&void 0===Fr(r);)r=Mr(r,n),n=Te(t=Ce(t));return r}function Ni(e,t){var n=[];return Pi(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Pi(e,t,n){var r=Fr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);zr(t,(function(t){Pi(e,t,n)}))}function Ri(e,t){var n=Fr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Ur(t,n.length>0?n:void 0)}zr(t,(function(t){Ri(e,t)}))}function Ai(e,t){var n=Br(Ii(e,t)),r=Mr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Di(e,t)})),Di(e,r),qr(r,(function(t){Di(e,t)})),n}function Di(e,t){var n=Fr(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Object(y.e)(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Object(y.e)(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(sr(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Ur(t,void 0):n.length=a+1,ui(e.eventQueue_,Br(t),i);for(var u=0;u<r.length;u++)$(r[u])}}var Li=function(e,t){var n=Mi(e),r=n.namespace;"firebase.com"===n.domain&&L(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||L("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&M("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ae(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Oe(n.pathString)}},Mi=function(e){var t="",n="",r="",i="",a="",o=!0,u="https",s=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(u=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,h)));var d=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Object(f.a)(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):M("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(o="https"===u||"wss"===u,s=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),a=r}"ns"in d&&(a=d.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:u,pathString:i,namespace:a}},Fi="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ui=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=Fi.charAt(n%64),n=Math.floor(n/64);Object(y.e)(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=Fi.charAt(t[r]);return Object(y.e)(20===o.length,"nextPushId: Length should be 20."),o}}(),Vi=function(){function e(t,n,r,i){Object(h.a)(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return Object(d.a)(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Object(y.O)(this.snapshot.exportVal())}}]),e}(),zi=function(){function e(t,n,r){Object(h.a)(this,e),this.eventRegistration=t,this.error=n,this.path=r}return Object(d.a)(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),qi=function(){function e(t,n){Object(h.a)(this,e),this.snapshotCallback=t,this.cancelCallback=n}return Object(d.a)(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return Object(y.e)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),Bi=function(){function e(t,n){Object(h.a)(this,e),this._repo=t,this._path=n}return Object(d.a)(e,[{key:"cancel",value:function(){var e=new y.a;return ki(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){ni("OnDisconnect.remove",this._path);var e=new y.a;return wi(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){ni("OnDisconnect.set",this._path),Xr("OnDisconnect.set",e,this._path,!1);var t=new y.a;return wi(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){ni("OnDisconnect.setWithPriority",this._path),Xr("OnDisconnect.setWithPriority",e,this._path,!1),ei("OnDisconnect.setWithPriority",t,!1);var n=new y.a;return function(e,t,n,r,i){var a=mt(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&Rt(e.onDisconnect_,t,a),Ti(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){ni("OnDisconnect.update",this._path),Zr("OnDisconnect.update",e,this._path,!1);var t=new y.a;return function(e,t,n,r){if(Object(y.z)(n))return R("onDisconnect().update() called with empty data.  Don't do anything."),void Ti(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&K(n,(function(n,r){var i=mt(r);Rt(e.onDisconnect_,Ne(t,n),i)})),Ti(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),Wi=function(){function e(t,n,r,i){Object(h.a)(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object(d.a)(e,[{key:"key",get:function(){return Pe(this._path)?null:Se(this._path)}},{key:"ref",get:function(){return new Hi(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=jt(this._queryParams),t=W(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return jt(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Object(y.v)(t))instanceof e))return!1;var n=this._repo===t._repo,r=De(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var Hi=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){return Object(h.a)(this,n),t.call(this,e,r,new Ct,!1)}return Object(d.a)(n,[{key:"parent",get:function(){var e=Ie(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(Wi),Ki=function(){function e(t,n,r){Object(h.a)(this,e),this._node=t,this.ref=n,this._index=r}return Object(d.a)(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Oe(t),r=Qi(this.ref,t);return new e(this._node.getChild(n),r,ct)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Qi(n.ref,r),ct))}))}},{key:"hasChild",value:function(e){var t=new Oe(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function Gi(e,t){return(e=Object(y.v)(e))._checkNotDeleted("ref"),void 0!==t?Qi(e._root,t):e._root}function Qi(e,t){var n,r,i,a;return null===Te((e=Object(y.v)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ti(n,r,i,a)):ti("child","path",t,!1),new Hi(e._repo,Ne(e._path,t))}function Yi(e){return e=Object(y.v)(e),new Bi(e._repo,e._path)}function $i(e,t){e=Object(y.v)(e),ni("push",e._path),Xr("push",t,e._path,!0);var n,r=di(e._repo),i=Ui(r),a=Qi(e,i),o=Qi(e,i);return n=null!=t?Xi(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Xi(e,t){e=Object(y.v)(e),ni("set",e._path),Xr("set",t,e._path,!1);var n=new y.a;return bi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Ji(e,t){Zr("update",t,e._path,!1);var n=new y.a;return function(e,t,n,r){Ei(e,"update",{path:t.toString(),value:n});var i=!0,a=pi(e),o={};if(K(n,(function(n,r){i=!1,o[n]=Rr(Ne(t,n),mt(r),e.serverSyncTree_,a)})),i)R("update() called with empty data.  Don't do anything."),Ti(0,r,"ok",void 0);else{var u=gi(e),s=ur(e.serverSyncTree_,t,o,u);ai(e.eventQueue_,s),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||M("update at "+t+" failed: "+n);var o=sr(e.serverSyncTree_,u,!a),s=o.length>0?ji(e,t):t;ui(e.eventQueue_,s,o),Ti(0,r,n,i)})),K(n,(function(n){var r=Ai(e,Ne(t,n));ji(e,r)})),ui(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}var Zi=function(){function e(t){Object(h.a)(this,e),this.callbackContext=t}return Object(d.a)(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new Vi("value",this,new Ki(e.snapshotNode,new Hi(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new zi(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),ea=function(){function e(t,n){Object(h.a)(this,e),this.eventType=t,this.callbackContext=n}return Object(d.a)(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new zi(this,e,t):null}},{key:"createEvent",value:function(e,t){Object(y.e)(null!=e.childName,"Child events should have a childName.");var n=Qi(new Hi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Vi(e.type,this,new Ki(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function ta(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,u=function(t,n){_i(e._repo,e,c),o(t,n)};u.userCallback=n.userCallback,u.context=n.context,n=u}var s=new qi(n,a||void 0),c="value"===t?new Zi(s):new ea(t,s);return function(e,t,n){var r;r=".info"===Te(t._path)?hr(e.infoSyncTree_,t,n):hr(e.serverSyncTree_,t,n),oi(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return _i(e._repo,e,c)}}function na(e,t,n,r){return ta(e,"value",t,n,r)}function ra(e,t,n,r){return ta(e,"child_added",t,n,r)}function ia(e,t,n,r){return ta(e,"child_changed",t,n,r)}function aa(e,t,n,r){return ta(e,"child_removed",t,n,r)}!function(e){Object(y.e)(!Fn,"__referenceConstructor has already been defined"),Fn=e}(Hi),function(e){Object(y.e)(!Hn,"__referenceConstructor has already been defined"),Hn=e}(Hi);var oa={},ua=!1;function sa(e,t,n,r){e.repoInfo_=new ae("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function ca(t,n,r,i,a){var o=i||t.options.databaseURL;void 0===o&&(t.options.projectId||L("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),R("Using default host for project ",t.options.projectId),o="".concat(t.options.projectId,"-default-rtdb.firebaseio.com"));var u,s=Li(o,a),c=s.repoInfo,l=void 0;"undefined"!==typeof e&&Object({NODE_ENV:"production",PUBLIC_URL:"/video-chat-dpl",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})&&(l=Object({NODE_ENV:"production",PUBLIC_URL:"/video-chat-dpl",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_DATABASE_EMULATOR_HOST),l?(u=!0,o="http://".concat(l,"?ns=").concat(c.namespace),c=(s=Li(o,a)).repoInfo):u=!s.repoInfo.secure;var f=a&&u?new ee(ee.OWNER):new Z(t.name,t.options,n);ri("Invalid Firebase Database URL",s),Pe(s.path)||L("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=oa[t.name];i||(i={},oa[t.name]=i);var a=i[e.toURLString()];a&&L("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new fi(e,ua,n,r),i[e.toURLString()]=a,a}(c,t,f,new J(t.name,r));return new la(h,t)}var la=function(){function e(t,n){Object(h.a)(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object(d.a)(e,[{key:"_repo",get:function(){return this._instanceStarted||(hi(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Hi(this._repo,Ee())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=oa[t];n&&n[e.key]===e||L("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Oi(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&L("Cannot call "+e+" on a deleted database.")}}]),e}();function fa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(p.e)(),t=arguments.length>1?arguments[1]:void 0,n=Object(p.b)(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){var r=Object(y.t)("database");r&&ha.apply(void 0,[n].concat(Object(l.a)(r)))}return n}function ha(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Object(y.v)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&L("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&L('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new ee(ee.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Object(y.l)(r.mockUserToken,e.app.options.projectId);a=new ee(o)}sa(i,t,n,a)}qe.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},qe.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var da;!function(e){k=e}(p.a),Object(p.c)(new v.a("database",(function(e,t){var n=t.instanceIdentifier;return ca(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Object(p.g)(g,b,da),Object(p.g)(g,b,"esm2017")}).call(this,n(36))},function(e,t,n){"use strict";var r=n(18);n.d(t,"a",(function(){return r.f}));Object(r.g)("firebase","9.19.1","app")},function(e,t,n){"use strict";(function(e){var r=n(5),i=n.n(r),a=n(14),o=n.n(a),u=n(77);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var m={HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"},g=function(e,t){var n;"function"===typeof window.CustomEvent?n=new window.CustomEvent(e,{detail:t}):(n=document.createEvent("Event")).initEvent(e,!1,!0,t),window.dispatchEvent(n)};var b=function(e,t){var n=this.state.show,r=this.props.id,i=this.isCapture(t.currentTarget),a=t.currentTarget.getAttribute("currentItem");i||t.stopPropagation(),n&&"true"===a?e||this.hideTooltip(t):(t.currentTarget.setAttribute("currentItem","true"),k(t.currentTarget,this.getTargetArray(r)),this.showTooltip(t))},k=function(e,t){for(var n=0;n<t.length;n++)e!==t[n]?t[n].setAttribute("currentItem","false"):t[n].setAttribute("currentItem","true")},w={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(e,t,n){this.id in e?e[this.id][t]=n:Object.defineProperty(e,this.id,{configurable:!0,value:l({},t,n)})},get:function(e,t){var n=e[this.id];if(void 0!==n)return n[t]}};var _=function(e,t,n){var r=t.respectEffect,i=void 0!==r&&r,a=t.customEvent,o=void 0!==a&&a,u=this.props.id,s=n.target.getAttribute("data-tip")||null,c=n.target.getAttribute("data-for")||null,l=n.target;if(!this.isCustomEvent(l)||o){var f=null==u&&null==c||c===u;if(null!=s&&(!i||"float"===this.getEffect(l))&&f){var h=function(e){var t={};for(var n in e)"function"===typeof e[n]?t[n]=e[n].bind(e):t[n]=e[n];return t}(n);h.currentTarget=l,e(h)}}},O=function(e,t){var n={};return e.forEach((function(e){var r=e.getAttribute(t);r&&r.split(" ").forEach((function(e){return n[e]=!0}))})),n},E=function(){return document.getElementsByTagName("body")[0]};function T(e,t,n,r,i,a,o){for(var u=x(n),s=u.width,c=u.height,l=x(t),f=l.width,h=l.height,d=C(e,t,a),p=d.mouseX,v=d.mouseY,y=S(a,f,h,s,c),m=j(o),g=m.extraOffsetX,b=m.extraOffsetY,k=window.innerWidth,w=window.innerHeight,_=I(n),O=_.parentTop,E=_.parentLeft,T=function(e){var t=y[e].l;return p+t+g},N=function(e){var t=y[e].t;return v+t+b},P=function(e){return function(e){var t=y[e].r;return p+t+g}(e)>k},R=function(e){return function(e){var t=y[e].b;return v+t+b}(e)>w},A=function(e){return function(e){return T(e)<0}(e)||P(e)||function(e){return N(e)<0}(e)||R(e)},D=function(e){return!A(e)},L=["top","bottom","left","right"],M=[],F=0;F<4;F++){var U=L[F];D(U)&&M.push(U)}var V,z=!1,q=i!==r;return D(i)&&q?(z=!0,V=i):M.length>0&&A(i)&&A(r)&&(z=!0,V=M[0]),z?{isNewState:!0,newState:{place:V}}:{isNewState:!1,position:{left:parseInt(T(r)-E,10),top:parseInt(N(r)-O,10)}}}var x=function(e){var t=e.getBoundingClientRect(),n=t.height,r=t.width;return{height:parseInt(n,10),width:parseInt(r,10)}},C=function(e,t,n){var r=t.getBoundingClientRect(),i=r.top,a=r.left,o=x(t),u=o.width,s=o.height;return"float"===n?{mouseX:e.clientX,mouseY:e.clientY}:{mouseX:a+u/2,mouseY:i+s/2}},S=function(e,t,n,r,i){var a,o,u,s;return"float"===e?(a={l:-r/2,r:r/2,t:-(i+3+2),b:-3},u={l:-r/2,r:r/2,t:15,b:i+3+2+12},s={l:-(r+3+2),r:-3,t:-i/2,b:i/2},o={l:3,r:r+3+2,t:-i/2,b:i/2}):"solid"===e&&(a={l:-r/2,r:r/2,t:-(n/2+i+2),b:-n/2},u={l:-r/2,r:r/2,t:n/2,b:n/2+i+2},s={l:-(r+t/2+2),r:-t/2,t:-i/2,b:i/2},o={l:t/2,r:r+t/2+2,t:-i/2,b:i/2}),{top:a,bottom:u,left:s,right:o}},j=function(e){var t=0,n=0;for(var r in"[object String]"===Object.prototype.toString.apply(e)&&(e=JSON.parse(e.toString().replace(/'/g,'"'))),e)"top"===r?n-=parseInt(e[r],10):"bottom"===r?n+=parseInt(e[r],10):"left"===r?t-=parseInt(e[r],10):"right"===r&&(t+=parseInt(e[r],10));return{extraOffsetX:t,extraOffsetY:n}},I=function(e){for(var t=e;t;){var n=window.getComputedStyle(t);if("none"!==n.getPropertyValue("transform")||"transform"===n.getPropertyValue("will-change"))break;t=t.parentElement}return{parentTop:t&&t.getBoundingClientRect().top||0,parentLeft:t&&t.getBoundingClientRect().left||0}};function N(e,t,n,r){if(t)return t;if(void 0!==n&&null!==n)return n;if(null===n)return null;var a=/<br\s*\/?>/;return r&&"false"!==r&&a.test(e)?e.split(a).map((function(e,t){return i.a.createElement("span",{key:t,className:"multi-line"},e)})):e}function P(e){var t={};return Object.keys(e).filter((function(e){return/(^aria-\w+$|^role$)/.test(e)})).forEach((function(n){t[n]=e[n]})),t}function R(e){var t=e.length;return e.hasOwnProperty?Array.prototype.slice.call(e):new Array(t).fill().map((function(t){return e[t]}))}var A={dark:{text:"#fff",background:"#222",border:"transparent",arrow:"#222"},success:{text:"#fff",background:"#8DC572",border:"transparent",arrow:"#8DC572"},warning:{text:"#fff",background:"#F0AD4E",border:"transparent",arrow:"#F0AD4E"},error:{text:"#fff",background:"#BE6464",border:"transparent",arrow:"#BE6464"},info:{text:"#fff",background:"#337AB7",border:"transparent",arrow:"#337AB7"},light:{text:"#222",background:"#fff",border:"transparent",arrow:"#fff"}};function D(e,t,n,r){return function(e,t){var n=t.text,r=t.background,i=t.border,a=t.arrow;return"\n  \t.".concat(e," {\n\t    color: ").concat(n,";\n\t    background: ").concat(r,";\n\t    border: 1px solid ").concat(i,";\n  \t}\n\n  \t.").concat(e,".place-top {\n        margin-top: -10px;\n    }\n    .").concat(e,".place-top::before {\n        border-top: 8px solid ").concat(i,";\n    }\n    .").concat(e,".place-top::after {\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        bottom: -6px;\n        left: 50%;\n        margin-left: -8px;\n        border-top-color: ").concat(a,";\n        border-top-style: solid;\n        border-top-width: 6px;\n    }\n\n    .").concat(e,".place-bottom {\n        margin-top: 10px;\n    }\n    .").concat(e,".place-bottom::before {\n        border-bottom: 8px solid ").concat(i,";\n    }\n    .").concat(e,".place-bottom::after {\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        top: -6px;\n        left: 50%;\n        margin-left: -8px;\n        border-bottom-color: ").concat(a,";\n        border-bottom-style: solid;\n        border-bottom-width: 6px;\n    }\n\n    .").concat(e,".place-left {\n        margin-left: -10px;\n    }\n    .").concat(e,".place-left::before {\n        border-left: 8px solid ").concat(i,";\n    }\n    .").concat(e,".place-left::after {\n        border-top: 5px solid transparent;\n        border-bottom: 5px solid transparent;\n        right: -6px;\n        top: 50%;\n        margin-top: -4px;\n        border-left-color: ").concat(a,";\n        border-left-style: solid;\n        border-left-width: 6px;\n    }\n\n    .").concat(e,".place-right {\n        margin-left: 10px;\n    }\n    .").concat(e,".place-right::before {\n        border-right: 8px solid ").concat(i,";\n    }\n    .").concat(e,".place-right::after {\n        border-top: 5px solid transparent;\n        border-bottom: 5px solid transparent;\n        left: -6px;\n        top: 50%;\n        margin-top: -4px;\n        border-right-color: ").concat(a,";\n        border-right-style: solid;\n        border-right-width: 6px;\n    }\n  ")}(e,function(e,t,n){var r=e.text,i=e.background,a=e.border,o=e.arrow?e.arrow:e.background,u=function(e){return A[e]?d({},A[e]):void 0}(t);r&&(u.text=r);i&&(u.background=i);n&&(u.border=a||("light"===t?"black":"white"));o&&(u.arrow=o);return u}(t,n,r))}var L="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function M(e,t){return e(t={exports:{}},t.exports),t.exports}var F=function(e){return e&&e.Math==Math&&e},U=F("object"==typeof globalThis&&globalThis)||F("object"==typeof window&&window)||F("object"==typeof self&&self)||F("object"==typeof L&&L)||function(){return this}()||Function("return this")(),V=function(e){try{return!!e()}catch(t){return!0}},z=!V((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),q={}.propertyIsEnumerable,B=Object.getOwnPropertyDescriptor,W={f:B&&!q.call({1:2},1)?function(e){var t=B(this,e);return!!t&&t.enumerable}:q},H=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},K={}.toString,G=function(e){return K.call(e).slice(8,-1)},Q="".split,Y=V((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==G(e)?Q.call(e,""):Object(e)}:Object,$=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e},X=function(e){return Y($(e))},J=function(e){return"object"===typeof e?null!==e:"function"===typeof e},Z=function(e,t){if(!J(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!J(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!J(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!J(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},ee=function(e){return Object($(e))},te={}.hasOwnProperty,ne=function(e,t){return te.call(ee(e),t)},re=U.document,ie=J(re)&&J(re.createElement),ae=function(e){return ie?re.createElement(e):{}},oe=!z&&!V((function(){return 7!=Object.defineProperty(ae("div"),"a",{get:function(){return 7}}).a})),ue=Object.getOwnPropertyDescriptor,se={f:z?ue:function(e,t){if(e=X(e),t=Z(t,!0),oe)try{return ue(e,t)}catch(n){}if(ne(e,t))return H(!W.f.call(e,t),e[t])}},ce=function(e){if(!J(e))throw TypeError(String(e)+" is not an object");return e},le=Object.defineProperty,fe={f:z?le:function(e,t,n){if(ce(e),t=Z(t,!0),ce(n),oe)try{return le(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},he=z?function(e,t,n){return fe.f(e,t,H(1,n))}:function(e,t,n){return e[t]=n,e},de=function(e,t){try{he(U,e,t)}catch(n){U[e]=t}return t},pe="__core-js_shared__",ve=U[pe]||de(pe,{}),ye=Function.toString;"function"!=typeof ve.inspectSource&&(ve.inspectSource=function(e){return ye.call(e)});var me,ge,be,ke=ve.inspectSource,we=U.WeakMap,_e="function"===typeof we&&/native code/.test(ke(we)),Oe=M((function(e){(e.exports=function(e,t){return ve[e]||(ve[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.12.1",mode:"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})})),Ee=0,Te=Math.random(),xe=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++Ee+Te).toString(36)},Ce=Oe("keys"),Se=function(e){return Ce[e]||(Ce[e]=xe(e))},je={},Ie="Object already initialized",Ne=U.WeakMap;if(_e||ve.state){var Pe=ve.state||(ve.state=new Ne),Re=Pe.get,Ae=Pe.has,De=Pe.set;me=function(e,t){if(Ae.call(Pe,e))throw new TypeError(Ie);return t.facade=e,De.call(Pe,e,t),t},ge=function(e){return Re.call(Pe,e)||{}},be=function(e){return Ae.call(Pe,e)}}else{var Le=Se("state");je[Le]=!0,me=function(e,t){if(ne(e,Le))throw new TypeError(Ie);return t.facade=e,he(e,Le,t),t},ge=function(e){return ne(e,Le)?e[Le]:{}},be=function(e){return ne(e,Le)}}var Me,Fe,Ue={set:me,get:ge,has:be,enforce:function(e){return be(e)?ge(e):me(e,{})},getterFor:function(e){return function(t){var n;if(!J(t)||(n=ge(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Ve=M((function(e){var t=Ue.get,n=Ue.enforce,r=String(String).split("String");(e.exports=function(e,t,i,a){var o,u=!!a&&!!a.unsafe,s=!!a&&!!a.enumerable,c=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof t||ne(i,"name")||he(i,"name",t),(o=n(i)).source||(o.source=r.join("string"==typeof t?t:""))),e!==U?(u?!c&&e[t]&&(s=!0):delete e[t],s?e[t]=i:he(e,t,i)):s?e[t]=i:de(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||ke(this)}))})),ze=U,qe=function(e){return"function"==typeof e?e:void 0},Be=function(e,t){return arguments.length<2?qe(ze[e])||qe(U[e]):ze[e]&&ze[e][t]||U[e]&&U[e][t]},We=Math.ceil,He=Math.floor,Ke=function(e){return isNaN(e=+e)?0:(e>0?He:We)(e)},Ge=Math.min,Qe=function(e){return e>0?Ge(Ke(e),9007199254740991):0},Ye=Math.max,$e=Math.min,Xe=function(e){return function(t,n,r){var i,a=X(t),o=Qe(a.length),u=function(e,t){var n=Ke(e);return n<0?Ye(n+t,0):$e(n,t)}(r,o);if(e&&n!=n){for(;o>u;)if((i=a[u++])!=i)return!0}else for(;o>u;u++)if((e||u in a)&&a[u]===n)return e||u||0;return!e&&-1}},Je={includes:Xe(!0),indexOf:Xe(!1)}.indexOf,Ze=function(e,t){var n,r=X(e),i=0,a=[];for(n in r)!ne(je,n)&&ne(r,n)&&a.push(n);for(;t.length>i;)ne(r,n=t[i++])&&(~Je(a,n)||a.push(n));return a},et=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],tt=et.concat("length","prototype"),nt={f:Object.getOwnPropertyNames||function(e){return Ze(e,tt)}},rt={f:Object.getOwnPropertySymbols},it=Be("Reflect","ownKeys")||function(e){var t=nt.f(ce(e)),n=rt.f;return n?t.concat(n(e)):t},at=function(e,t){for(var n=it(t),r=fe.f,i=se.f,a=0;a<n.length;a++){var o=n[a];ne(e,o)||r(e,o,i(t,o))}},ot=/#|\.prototype\./,ut=function(e,t){var n=ct[st(e)];return n==ft||n!=lt&&("function"==typeof t?V(t):!!t)},st=ut.normalize=function(e){return String(e).replace(ot,".").toLowerCase()},ct=ut.data={},lt=ut.NATIVE="N",ft=ut.POLYFILL="P",ht=ut,dt=se.f,pt=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function")}(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},vt=Array.isArray||function(e){return"Array"==G(e)},yt=Be("navigator","userAgent")||"",mt=U.process,gt=mt&&mt.versions,bt=gt&&gt.v8;bt?Fe=(Me=bt.split("."))[0]<4?1:Me[0]+Me[1]:yt&&(!(Me=yt.match(/Edge\/(\d+)/))||Me[1]>=74)&&(Me=yt.match(/Chrome\/(\d+)/))&&(Fe=Me[1]);var kt,wt=Fe&&+Fe,_t=!!Object.getOwnPropertySymbols&&!V((function(){return!String(Symbol())||!Symbol.sham&&wt&&wt<41})),Ot=_t&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Et=Oe("wks"),Tt=U.Symbol,xt=Ot?Tt:Tt&&Tt.withoutSetter||xe,Ct=function(e){return ne(Et,e)&&(_t||"string"==typeof Et[e])||(_t&&ne(Tt,e)?Et[e]=Tt[e]:Et[e]=xt("Symbol."+e)),Et[e]},St=Ct("species"),jt=function(e,t){var n;return vt(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!vt(n.prototype)?J(n)&&null===(n=n[St])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},It=[].push,Nt=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,a=6==e,o=7==e,u=5==e||a;return function(s,c,l,f){for(var h,d,p=ee(s),v=Y(p),y=pt(c,l,3),m=Qe(v.length),g=0,b=f||jt,k=t?b(s,m):n||o?b(s,0):void 0;m>g;g++)if((u||g in v)&&(d=y(h=v[g],g,p),e))if(t)k[g]=d;else if(d)switch(e){case 3:return!0;case 5:return h;case 6:return g;case 2:It.call(k,h)}else switch(e){case 4:return!1;case 7:It.call(k,h)}return a?-1:r||i?i:k}},Pt={forEach:Nt(0),map:Nt(1),filter:Nt(2),some:Nt(3),every:Nt(4),find:Nt(5),findIndex:Nt(6),filterOut:Nt(7)},Rt=Object.keys||function(e){return Ze(e,et)},At=z?Object.defineProperties:function(e,t){ce(e);for(var n,r=Rt(t),i=r.length,a=0;i>a;)fe.f(e,n=r[a++],t[n]);return e},Dt=Be("document","documentElement"),Lt=Se("IE_PROTO"),Mt=function(){},Ft=function(e){return"<script>"+e+"</"+"script>"},Ut=function(){try{kt=document.domain&&new ActiveXObject("htmlfile")}catch(t){}Ut=kt?function(e){e.write(Ft("")),e.close();var t=e.parentWindow.Object;return e=null,t}(kt):function(){var e,t=ae("iframe");return t.style.display="none",Dt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Ft("document.F=Object")),e.close(),e.F}();for(var e=et.length;e--;)delete Ut.prototype[et[e]];return Ut()};je[Lt]=!0;var Vt=Object.create||function(e,t){var n;return null!==e?(Mt.prototype=ce(e),n=new Mt,Mt.prototype=null,n[Lt]=e):n=Ut(),void 0===t?n:At(n,t)},zt=Ct("unscopables"),qt=Array.prototype;void 0==qt[zt]&&fe.f(qt,zt,{configurable:!0,value:Vt(null)});var Bt,Wt,Ht,Kt,Gt=Pt.find,Qt="find",Yt=!0;Qt in[]&&Array(1).find((function(){Yt=!1})),function(e,t){var n,r,i,a,o,u=e.target,s=e.global,c=e.stat;if(n=s?U:c?U[u]||de(u,{}):(U[u]||{}).prototype)for(r in t){if(a=t[r],i=e.noTargetGet?(o=dt(n,r))&&o.value:n[r],!ht(s?r:u+(c?".":"#")+r,e.forced)&&void 0!==i){if(typeof a===typeof i)continue;at(a,i)}(e.sham||i&&i.sham)&&he(a,"sham",!0),Ve(n,r,a,e)}}({target:"Array",proto:!0,forced:Yt},{find:function(e){return Gt(this,e,arguments.length>1?arguments[1]:void 0)}}),Bt=Qt,qt[zt][Bt]=!0;var $t,Xt=function(e){e.hide=function(e){g(m.HIDE,{target:e})},e.rebuild=function(){g(m.REBUILD)},e.show=function(e){g(m.SHOW,{target:e})},e.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},e.prototype.globalShow=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.showTooltip({currentTarget:t&&e.detail.target},!0)}},e.prototype.globalHide=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.hideTooltip({currentTarget:t&&e.detail.target},t)}}}(Wt=function(e){e.prototype.bindWindowEvents=function(e){window.removeEventListener(m.HIDE,this.globalHide),window.addEventListener(m.HIDE,this.globalHide,!1),window.removeEventListener(m.REBUILD,this.globalRebuild),window.addEventListener(m.REBUILD,this.globalRebuild,!1),window.removeEventListener(m.SHOW,this.globalShow),window.addEventListener(m.SHOW,this.globalShow,!1),e&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},e.prototype.unbindWindowEvents=function(){window.removeEventListener(m.HIDE,this.globalHide),window.removeEventListener(m.REBUILD,this.globalRebuild),window.removeEventListener(m.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},e.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}}(Wt=function(e){e.prototype.isCustomEvent=function(e){return this.state.event||!!e.getAttribute("data-event")},e.prototype.customBindListener=function(e){var t=this,n=this.state,r=n.event,i=n.eventOff,a=e.getAttribute("data-event")||r,o=e.getAttribute("data-event-off")||i;a.split(" ").forEach((function(n){e.removeEventListener(n,w.get(e,n));var r=b.bind(t,o);w.set(e,n,r),e.addEventListener(n,r,!1)})),o&&o.split(" ").forEach((function(n){e.removeEventListener(n,t.hideTooltip),e.addEventListener(n,t.hideTooltip,!1)}))},e.prototype.customUnbindListener=function(e){var t=this.state,n=t.event,r=t.eventOff,i=n||e.getAttribute("data-event"),a=r||e.getAttribute("data-event-off");e.removeEventListener(i,w.get(e,n)),a&&e.removeEventListener(a,this.hideTooltip)}}(Wt=function(e){e.prototype.isCapture=function(e){return e&&"true"===e.getAttribute("data-iscapture")||this.props.isCapture||!1}}(Wt=function(e){e.prototype.getEffect=function(e){return e.getAttribute("data-effect")||this.props.effect||"float"}}(Wt=function(e){e.prototype.isBodyMode=function(){return!!this.props.bodyMode},e.prototype.bindBodyListener=function(e){var t=this,n=this.state,r=n.event,i=n.eventOff,a=n.possibleCustomEvents,o=n.possibleCustomEventsOff,u=E(),s=O(e,"data-event"),c=O(e,"data-event-off");null!=r&&(s[r]=!0),null!=i&&(c[i]=!0),a.split(" ").forEach((function(e){return s[e]=!0})),o.split(" ").forEach((function(e){return c[e]=!0})),this.unbindBodyListener(u);var l=this.bodyModeListeners={};for(var f in null==r&&(l.mouseover=_.bind(this,this.showTooltip,{}),l.mousemove=_.bind(this,this.updateTooltip,{respectEffect:!0}),l.mouseout=_.bind(this,this.hideTooltip,{})),s)l[f]=_.bind(this,(function(e){var n=e.currentTarget.getAttribute("data-event-off")||i;b.call(t,n,e)}),{customEvent:!0});for(var h in c)l[h]=_.bind(this,this.hideTooltip,{customEvent:!0});for(var d in l)u.addEventListener(d,l[d])},e.prototype.unbindBodyListener=function(e){e=e||E();var t=this.bodyModeListeners;for(var n in t)e.removeEventListener(n,t[n])}}((Kt=Ht=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=y(this,p(t).call(this,e))).state={uuid:e.uuid||"t"+Object(u.a)(),place:e.place||"top",desiredPlace:e.place||"top",type:"dark",effect:"float",show:!1,border:!1,customColors:{},offset:{},extraClass:"",html:!1,delayHide:0,delayShow:0,event:e.event||null,eventOff:e.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:P(e),isEmptyTip:!1,disable:!1,possibleCustomEvents:e.possibleCustomEvents||"",possibleCustomEventsOff:e.possibleCustomEventsOff||"",originTooltip:null,isMultiline:!1},n.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),n.mount=!0,n.delayShowLoop=null,n.delayHideLoop=null,n.delayReshow=null,n.intervalUpdateContent=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),c(t,null,[{key:"propTypes",get:function(){return{uuid:o.a.string,children:o.a.any,place:o.a.string,type:o.a.string,effect:o.a.string,offset:o.a.object,multiline:o.a.bool,border:o.a.bool,textColor:o.a.string,backgroundColor:o.a.string,borderColor:o.a.string,arrowColor:o.a.string,insecure:o.a.bool,class:o.a.string,className:o.a.string,id:o.a.string,html:o.a.bool,delayHide:o.a.number,delayUpdate:o.a.number,delayShow:o.a.number,event:o.a.string,eventOff:o.a.string,isCapture:o.a.bool,globalEventOff:o.a.string,getContent:o.a.any,afterShow:o.a.func,afterHide:o.a.func,overridePosition:o.a.func,disable:o.a.bool,scrollHide:o.a.bool,resizeHide:o.a.bool,wrapper:o.a.string,bodyMode:o.a.bool,possibleCustomEvents:o.a.string,possibleCustomEventsOff:o.a.string,clickable:o.a.bool}}}]),c(t,[{key:"bind",value:function(e){var t=this;e.forEach((function(e){t[e]=t[e].bind(t)}))}},{key:"componentDidMount",value:function(){var e=this.props,t=(e.insecure,e.resizeHide);this.bindListener(),this.bindWindowEvents(t),this.injectStyles()}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(this.state.currentTarget),this.unbindWindowEvents()}},{key:"injectStyles",value:function(){var e=this.tooltipRef;if(e){for(var t,n=e.parentNode;n.parentNode;)n=n.parentNode;switch(n.constructor.name){case"Document":case"HTMLDocument":case void 0:t=n.head;break;case"ShadowRoot":default:t=n}if(!t.querySelector("style[data-react-tooltip]")){var r=document.createElement("style");r.textContent='.__react_component_tooltip {\n  border-radius: 3px;\n  display: inline-block;\n  font-size: 13px;\n  left: -999em;\n  opacity: 0;\n  padding: 8px 21px;\n  position: fixed;\n  pointer-events: none;\n  transition: opacity 0.3s ease-out;\n  top: -999em;\n  visibility: hidden;\n  z-index: 999;\n}\n.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {\n  pointer-events: auto;\n}\n.__react_component_tooltip::before, .__react_component_tooltip::after {\n  content: "";\n  width: 0;\n  height: 0;\n  position: absolute;\n}\n.__react_component_tooltip.show {\n  opacity: 0.9;\n  margin-top: 0;\n  margin-left: 0;\n  visibility: visible;\n}\n.__react_component_tooltip.place-top::before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  bottom: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-bottom::before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  top: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-left::before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  right: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip.place-right::before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  left: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip .multi-line {\n  display: block;\n  padding: 2px 0;\n  text-align: center;\n}',r.setAttribute("data-react-tooltip","true"),t.appendChild(r)}}}},{key:"mouseOnToolTip",value:function(){return!(!this.state.show||!this.tooltipRef)&&(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover"))}},{key:"getTargetArray",value:function(e){var t,n=[];if(e){var r=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');t='[data-tip][data-for="'.concat(r,'"]')}else t="[data-tip]:not([data-for])";return R(document.getElementsByTagName("*")).filter((function(e){return e.shadowRoot})).forEach((function(e){n=n.concat(R(e.shadowRoot.querySelectorAll(t)))})),n.concat(R(document.querySelectorAll(t)))}},{key:"bindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff,i=t.isCapture,a=this.getTargetArray(n);a.forEach((function(t){null===t.getAttribute("currentItem")&&t.setAttribute("currentItem","false"),e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),this.isBodyMode()?this.bindBodyListener(a):a.forEach((function(t){var n=e.isCapture(t),r=e.getEffect(t);e.isCustomEvent(t)?e.customBindListener(t):(t.addEventListener("mouseenter",e.showTooltip,n),t.addEventListener("focus",e.showTooltip,n),"float"===r&&t.addEventListener("mousemove",e.updateTooltip,n),t.addEventListener("mouseleave",e.hideTooltip,n),t.addEventListener("blur",e.hideTooltip,n))})),r&&(window.removeEventListener(r,this.hideTooltip),window.addEventListener(r,this.hideTooltip,i)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff;this.isBodyMode()?this.unbindBodyListener():this.getTargetArray(n).forEach((function(t){e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),r&&window.removeEventListener(r,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(e){var t=this.isCapture(e);e.removeEventListener("mouseenter",this.showTooltip,t),e.removeEventListener("mousemove",this.updateTooltip,t),e.removeEventListener("mouseleave",this.hideTooltip,t)}},{key:"getTooltipContent",value:function(){var e,t=this.props,n=t.getContent,r=t.children;return n&&(e=Array.isArray(n)?n[0]&&n[0](this.state.originTooltip):n(this.state.originTooltip)),N(this.state.originTooltip,r,e,this.state.isMultiline)}},{key:"isEmptyTip",value:function(e){return"string"===typeof e&&""===e||null===e}},{key:"showTooltip",value:function(e,t){if(this.tooltipRef){if(t&&!this.getTargetArray(this.props.id).some((function(t){return t===e.currentTarget})))return;var n=this.props,r=n.multiline,i=n.getContent,a=e.currentTarget.getAttribute("data-tip"),o=e.currentTarget.getAttribute("data-multiline")||r||!1,u=e instanceof window.FocusEvent||t,s=!0;e.currentTarget.getAttribute("data-scroll-hide")?s="true"===e.currentTarget.getAttribute("data-scroll-hide"):null!=this.props.scrollHide&&(s=this.props.scrollHide),e&&e.currentTarget&&e.currentTarget.setAttribute&&e.currentTarget.setAttribute("aria-describedby",this.state.uuid);var c=e.currentTarget.getAttribute("data-place")||this.props.place||"top",l=u?"solid":this.getEffect(e.currentTarget),f=e.currentTarget.getAttribute("data-offset")||this.props.offset||{},h=T(e,e.currentTarget,this.tooltipRef,c,c,l,f);h.position&&this.props.overridePosition&&(h.position=this.props.overridePosition(h.position,e,e.currentTarget,this.tooltipRef,c,c,l,f));var d=h.isNewState?h.newState.place:c;this.clearTimer();var p=e.currentTarget,v=this.state.show?p.getAttribute("data-delay-update")||this.props.delayUpdate:0,y=this,m=function(){y.setState({originTooltip:a,isMultiline:o,desiredPlace:c,place:d,type:p.getAttribute("data-type")||y.props.type||"dark",customColors:{text:p.getAttribute("data-text-color")||y.props.textColor||null,background:p.getAttribute("data-background-color")||y.props.backgroundColor||null,border:p.getAttribute("data-border-color")||y.props.borderColor||null,arrow:p.getAttribute("data-arrow-color")||y.props.arrowColor||null},effect:l,offset:f,html:(p.getAttribute("data-html")?"true"===p.getAttribute("data-html"):y.props.html)||!1,delayShow:p.getAttribute("data-delay-show")||y.props.delayShow||0,delayHide:p.getAttribute("data-delay-hide")||y.props.delayHide||0,delayUpdate:p.getAttribute("data-delay-update")||y.props.delayUpdate||0,border:(p.getAttribute("data-border")?"true"===p.getAttribute("data-border"):y.props.border)||!1,extraClass:p.getAttribute("data-class")||y.props.class||y.props.className||"",disable:(p.getAttribute("data-tip-disable")?"true"===p.getAttribute("data-tip-disable"):y.props.disable)||!1,currentTarget:p},(function(){s&&y.addScrollListener(y.state.currentTarget),y.updateTooltip(e),i&&Array.isArray(i)&&(y.intervalUpdateContent=setInterval((function(){if(y.mount){var e=y.props.getContent,t=N(a,"",e[0](),o),n=y.isEmptyTip(t);y.setState({isEmptyTip:n}),y.updatePosition()}}),i[1]))}))};v?this.delayReshow=setTimeout(m,v):m()}}},{key:"updateTooltip",value:function(e){var t=this,n=this.state,r=n.delayShow,i=n.disable,a=this.props.afterShow,o=this.getTooltipContent(),u=e.currentTarget||e.target;if(!this.mouseOnToolTip()&&!this.isEmptyTip(o)&&!i){var s=this.state.show?0:parseInt(r,10),c=function(){if(Array.isArray(o)&&o.length>0||o){var n=!t.state.show;t.setState({currentEvent:e,currentTarget:u,show:!0},(function(){t.updatePosition(),n&&a&&a(e)}))}};clearTimeout(this.delayShowLoop),s?this.delayShowLoop=setTimeout(c,s):c()}}},{key:"listenForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isScroll:!1},i=this.state.disable,a=r.isScroll,o=a?0:this.state.delayHide,u=this.props.afterHide,s=this.getTooltipContent();if(this.mount&&!this.isEmptyTip(s)&&!i){if(t){var c=this.getTargetArray(this.props.id),l=c.some((function(t){return t===e.currentTarget}));if(!l||!this.state.show)return}e&&e.currentTarget&&e.currentTarget.removeAttribute&&e.currentTarget.removeAttribute("aria-describedby");var f=function(){var t=n.state.show;n.mouseOnToolTip()?n.listenForTooltipExit():(n.removeListenerForTooltipExit(),n.setState({show:!1},(function(){n.removeScrollListener(n.state.currentTarget),t&&u&&u(e)})))};this.clearTimer(),o?this.delayHideLoop=setTimeout(f,parseInt(o,10)):f()}}},{key:"hideTooltipOnScroll",value:function(e,t){this.hideTooltip(e,t,{isScroll:!0})}},{key:"addScrollListener",value:function(e){var t=this.isCapture(e);window.addEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"removeScrollListener",value:function(e){var t=this.isCapture(e);window.removeEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"updatePosition",value:function(){var e=this,t=this.state,n=t.currentEvent,r=t.currentTarget,i=t.place,a=t.desiredPlace,o=t.effect,u=t.offset,s=this.tooltipRef,c=T(n,r,s,i,a,o,u);if(c.position&&this.props.overridePosition&&(c.position=this.props.overridePosition(c.position,n,r,s,i,a,o,u)),c.isNewState)return this.setState(c.newState,(function(){e.updatePosition()}));s.style.left=c.position.left+"px",s.style.top=c.position.top+"px"}},{key:"clearTimer",value:function(){clearTimeout(this.delayShowLoop),clearTimeout(this.delayHideLoop),clearTimeout(this.delayReshow),clearInterval(this.intervalUpdateContent)}},{key:"hasCustomColors",value:function(){var e=this;return Boolean(Object.keys(this.state.customColors).find((function(t){return"border"!==t&&e.state.customColors[t]}))||this.state.border&&this.state.customColors.border)}},{key:"render",value:function(){var e=this,n=this.state,r=n.extraClass,a=n.html,o=n.ariaProps,u=n.disable,s=n.uuid,c=this.getTooltipContent(),l=this.isEmptyTip(c),h=D(this.state.uuid,this.state.customColors,this.state.type,this.state.border),d="__react_component_tooltip"+" ".concat(this.state.uuid)+(!this.state.show||u||l?"":" show")+(this.state.border?" border":"")+" place-".concat(this.state.place)+" type-".concat(this.hasCustomColors()?"custom":this.state.type)+(this.props.delayUpdate?" allow_hover":"")+(this.props.clickable?" allow_click":""),p=this.props.wrapper;t.supportedWrappers.indexOf(p)<0&&(p=t.defaultProps.wrapper);var v=[d,r].filter(Boolean).join(" ");if(a){var y="".concat(c,'\n<style aria-hidden="true">').concat(h,"</style>");return i.a.createElement(p,f({className:"".concat(v),id:this.props.id||s,ref:function(t){return e.tooltipRef=t}},o,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:y}}))}return i.a.createElement(p,f({className:"".concat(v),id:this.props.id||s},o,{ref:function(t){return e.tooltipRef=t},"data-id":"tooltip"}),i.a.createElement("style",{dangerouslySetInnerHTML:{__html:h},"aria-hidden":"true"}),c)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.ariaProps,r=P(e);return Object.keys(r).some((function(e){return r[e]!==n[e]}))?d({},t,{ariaProps:r}):null}}]),t}(i.a.Component),l(Ht,"defaultProps",{insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1}),l(Ht,"supportedWrappers",["div","span"]),l(Ht,"displayName","ReactTooltip"),($t=Wt=Kt).prototype.bindRemovalTracker=function(){var e=this,t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(null!=t){var n=new t((function(t){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.removedNodes.length;i++)if(r.removedNodes[i]===e.state.currentTarget)return void e.hideTooltip()}));n.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=n}},Wt=void($t.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)})||Wt))||Wt)||Wt)||Wt)||Wt)||Wt)||Wt;t.a=Xt}).call(this,n(32))},function(e,t,n){"use strict";e.exports=n(69)},function(e,t,n){"use strict";function r(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.d(t,"a",(function(){return s}));var i="function"===typeof Symbol&&Symbol.observable||"@@observable",a=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+a(),REPLACE:"@@redux/REPLACE"+a(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+a()}};function u(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var a;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(r(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(r(1));return n(s)(e,t)}if("function"!==typeof e)throw new Error(r(2));var c=e,l=t,f=[],h=f,d=!1;function p(){h===f&&(h=f.slice())}function v(){if(d)throw new Error(r(3));return l}function y(e){if("function"!==typeof e)throw new Error(r(4));if(d)throw new Error(r(5));var t=!0;return p(),h.push(e),function(){if(t){if(d)throw new Error(r(6));t=!1,p();var n=h.indexOf(e);h.splice(n,1),f=null}}}function m(e){if(!u(e))throw new Error(r(7));if("undefined"===typeof e.type)throw new Error(r(8));if(d)throw new Error(r(9));try{d=!0,l=c(l,e)}finally{d=!1}for(var t=f=h,n=0;n<t.length;n++){(0,t[n])()}return e}function g(e){if("function"!==typeof e)throw new Error(r(10));c=e,m({type:o.REPLACE})}function b(){var e,t=y;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(r(11));function n(){e.next&&e.next(v())}return n(),{unsubscribe:t(n)}}})[i]=function(){return this},e}return m({type:o.INIT}),(a={dispatch:m,subscribe:y,getState:v,replaceReducer:g})[i]=b,a}},function(e,t,n){"use strict";var r=n(45),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var b=g.prototype=new m;b.constructor=g,r(b,y.prototype),b.isPureReactComponent=!0;var k={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:k.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+x(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),C(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+x(u=e[c],c);s+=C(u,t,n,l,o)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(u=e.next()).done;)s+=C(u=u.value,t,n,l=r+x(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function S(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function j(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var I={current:null};function N(){var e=I.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:S,forEach:function(e,t,n){S(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return S(e,(function(){t++})),t},toArray:function(e){return S(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(5),i=n(45),a=n(55);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,b);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,b);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,b);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,O=60106,E=60107,T=60108,x=60114,C=60109,S=60110,j=60112,I=60113,N=60120,P=60115,R=60116,A=60121,D=60128,L=60129,M=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;_=U("react.element"),O=U("react.portal"),E=U("react.fragment"),T=U("react.strict_mode"),x=U("react.profiler"),C=U("react.provider"),S=U("react.context"),j=U("react.forward_ref"),I=U("react.suspense"),N=U("react.suspense_list"),P=U("react.memo"),R=U("react.lazy"),A=U("react.block"),U("react.scope"),D=U("react.opaque.id"),L=U("react.debug_trace_mode"),M=U("react.offscreen"),F=U("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function B(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function K(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case O:return"Portal";case x:return"Profiler";case T:return"StrictMode";case I:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case j:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case A:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ke=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){ke.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Oe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(Oe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Se=null,je=null;function Ie(e){if(e=ei(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=ni(t),Ce(e.stateNode,e.type,t))}}function Ne(e){Se?je?je.push(e):je=[e]:Se=e}function Pe(){if(Se){var e=Se,t=je;if(je=Se=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Re(e,t){return e(t)}function Ae(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Re,Me=!1,Fe=!1;function Ue(){null===Se&&null===je||(De(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){ze=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(ye){ze=!1}function Be(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,Qe={onError:function(e){We=!0,He=e}};function Ye(e,t,n,r,i,a,o,u,s){We=!1,He=null,Be.apply(Qe,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if($e(e)!==e)throw Error(o(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ei(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=Zr(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ei(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){gt(e)&&n.delete(t)}function kt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ei(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(bt),ft.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,kt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function Ot(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:Ot("Animation","AnimationEnd"),animationiteration:Ot("Animation","AnimationIteration"),animationstart:Ot("Animation","AnimationStart"),transitionend:Ot("Transition","TransitionEnd")},Tt={},xt={};function Ct(e){if(Tt[e])return Tt[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in xt)return Tt[e]=n[t];return e}f&&(xt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var St=Ct("animationend"),jt=Ct("animationiteration"),It=Ct("animationstart"),Nt=Ct("transitionend"),Pt=new Map,Rt=new Map,At=["abort","abort",St,"animationEnd",jt,"animationIteration",It,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function Mt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Mt(s),i=Lt):0!==(u&=a)&&(r=Mt(u),i=Lt)}else 0!==(a=n&~o)?(r=Mt(a),i=Lt):0!==u&&(r=Mt(u),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function $t(e,t,n,r){Me||De();var i=Jt,a=Me;Me=!0;try{Ae(i,e,t,n,r)}finally{(Me=a)||Ue()}}function Xt(e,t,n,r){Qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=yt(ut,e,t,n,r,i),!0;case"dragenter":return st=yt(st,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Pr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=xe(r);if(null!==(i=Zr(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Pr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(yn),gn=sn(i({},yn,{dataTransfer:0})),bn=sn(i({},pn,{relatedTarget:0})),kn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=sn(i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),_n=sn(i({},hn,{data:0})),On={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return xn}var Sn=sn(i({},pn,{key:function(e){if(e.key){var t=On[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),jn=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=sn(i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Rn=[9,13,27,32],An=f&&"CompositionEvent"in window,Dn=null;f&&"documentMode"in document&&(Dn=document.documentMode);var Ln=f&&"TextEvent"in window&&!Dn,Mn=f&&(!An||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ne(r),0<(t=Ar(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){xr(e,0)}function Yn(e){if(X(ti(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(f){var Jn;if(f){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];if(Hn(t,Gn,e,xe(e)),e=Qn,Me)e(t);else{Me=!0;try{Re(e,t)}finally{Me=!1,Ue()}}}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},sr=Object.prototype.hasOwnProperty;function cr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=f&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==J(r)||("selectionStart"in(r=yr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&cr(gr,r)||(gr=r,0<(r=Ar(mr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(At,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<wr.length;_r++)Rt.set(wr[_r],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Er=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Ye.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function xr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Tr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Tr(i,u,c),a=s}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Cr(e,t){var n=ri(t),r=e+"__bubble";n.has(r)||(Nr(t,e,2,!1),n.add(r))}var Sr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){e[Sr]||(e[Sr]=!0,u.forEach((function(t){Er.has(t)||Ir(t,!1,e,null),Ir(t,!0,e,null)})))}function Ir(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Er.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ri(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Nr(a,e,i,t),o.add(u))}function Nr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Pr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=Zr(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=xe(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Sn;break;case"focusin":c="focus",s=bn;break;case"focusout":c="blur",s=bn;break;case"beforeblur":case"afterblur":s=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=In;break;case St:case jt:case It:s=kn;break;case Nt:s=Nn;break;case"scroll":s=vn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=jn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Rr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!Zr(c)&&!c[Xr])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?Zr(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=jn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ti(s),d=null==c?u:ti(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,Zr(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Dr(d))p++;for(d=0,v=h;v;v=Dr(v))d++;for(;0<p-d;)l=Dr(l),p--;for(;0<d-p;)h=Dr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Dr(l),h=Dr(h)}l=null}else l=null;null!==s&&Lr(o,u,s,l,!1),null!==c&&null!==f&&Lr(o,f,c,l,!0)}if("select"===(s=(u=r?ti(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=$n;else if(Wn(u))if(Xn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Hn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ti(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,qn=!0)),0<(m=Ar(r,b)).length&&(b=new _n(b,e,null,n,i),o.push({event:b,listeners:m}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!An&&Vn(e,t)?(e=rn(),nn=tn=en=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Ar(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}xr(o,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ar(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Rr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Rr(e,a,i))),e=e.return}return r}function Dr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Rr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Rr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Mr(){}var Fr=null,Ur=null;function Vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qr="function"===typeof setTimeout?setTimeout:void 0,Br="function"===typeof clearTimeout?clearTimeout:void 0;function Wr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Hr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Gr=0;var Qr=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Qr,$r="__reactProps$"+Qr,Xr="__reactContainer$"+Qr,Jr="__reactEvents$"+Qr;function Zr(e){var t=e[Yr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xr]||n[Yr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[Yr])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ei(e){return!(e=e[Yr]||e[Xr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ti(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ni(e){return e[$r]||null}function ri(e){var t=e[Jr];return void 0===t&&(t=e[Jr]=new Set),t}var ii=[],ai=-1;function oi(e){return{current:e}}function ui(e){0>ai||(e.current=ii[ai],ii[ai]=null,ai--)}function si(e,t){ai++,ii[ai]=e.current,e.current=t}var ci={},li=oi(ci),fi=oi(!1),hi=ci;function di(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vi(){ui(fi),ui(li)}function yi(e,t,n){if(li.current!==ci)throw Error(o(168));si(li,t),si(fi,n)}function mi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,hi=li.current,si(li,e),si(fi,fi.current),!0}function bi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=mi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,ui(fi),ui(li),si(li,e)):ui(fi),si(fi,n)}var ki=null,wi=null,_i=a.unstable_runWithPriority,Oi=a.unstable_scheduleCallback,Ei=a.unstable_cancelCallback,Ti=a.unstable_shouldYield,xi=a.unstable_requestPaint,Ci=a.unstable_now,Si=a.unstable_getCurrentPriorityLevel,ji=a.unstable_ImmediatePriority,Ii=a.unstable_UserBlockingPriority,Ni=a.unstable_NormalPriority,Pi=a.unstable_LowPriority,Ri=a.unstable_IdlePriority,Ai={},Di=void 0!==xi?xi:function(){},Li=null,Mi=null,Fi=!1,Ui=Ci(),Vi=1e4>Ui?Ci:function(){return Ci()-Ui};function zi(){switch(Si()){case ji:return 99;case Ii:return 98;case Ni:return 97;case Pi:return 96;case Ri:return 95;default:throw Error(o(332))}}function qi(e){switch(e){case 99:return ji;case 98:return Ii;case 97:return Ni;case 96:return Pi;case 95:return Ri;default:throw Error(o(332))}}function Bi(e,t){return e=qi(e),_i(e,t)}function Wi(e,t,n){return e=qi(e),Oi(e,t,n)}function Hi(){if(null!==Mi){var e=Mi;Mi=null,Ei(e)}Ki()}function Ki(){if(!Fi&&null!==Li){Fi=!0;var e=0;try{var t=Li;Bi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(n){throw null!==Li&&(Li=Li.slice(e+1)),Oi(ji,Hi),n}finally{Fi=!1}}}var Gi=w.ReactCurrentBatchConfig;function Qi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Yi=oi(null),$i=null,Xi=null,Ji=null;function Zi(){Ji=Xi=$i=null}function ea(e){var t=Yi.current;ui(Yi),e.type._context._currentValue=t}function ta(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function na(e,t){$i=e,Ji=Xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ao=!0),e.firstContext=null)}function ra(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Xi){if(null===$i)throw Error(o(308));Xi=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else Xi=Xi.next=t;return e._currentValue}var ia=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ua(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ca(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function la(e,t,n,r){var a=e.updateQueue;ia=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ia=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Fu|=u,e.lanes=u,e.memoizedState=h}}function fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var ha=(new r.Component).refs;function da(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cs(),i=ls(e),a=ua(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),sa(e,a),fs(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cs(),i=ls(e),a=ua(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),sa(e,a),fs(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cs(),r=ls(e),i=ua(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),sa(e,i),fs(e,r,n)}};function va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,a))}function ya(e,t,n){var r=!1,i=ci,a=t.contextType;return"object"===typeof a&&null!==a?a=ra(a):(i=pi(t)?hi:li.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?di(e,i):ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ha,aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ra(a):(a=pi(t)?hi:li.current,i.context=di(e,a)),la(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(da(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&pa.enqueueReplaceState(i,i.state,null),la(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ba=Array.isArray;function ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ha&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function wa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _a(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Bs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Gs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ka(e,t,n),r.return=e,r):((r=Ws(n.type,n.key,n.props,null,e.mode,r)).ref=ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Hs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Gs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ws(t.type,t.key,t.props,null,e.mode,n)).ref=ka(e,null,t),n.return=e,n;case O:return(t=Qs(t,e.mode,n)).return=e,t}if(ba(t)||q(t))return(t=Hs(t,e.mode,n,null)).return=e,t;wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case O:return n.key===i?l(e,t,n,r):null}if(ba(n)||q(n))return null!==i?null:f(e,t,n,r,null);wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case O:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ba(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);wa(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,u,s,c){var l=q(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),u=a(b,u,y),null===f?l=b:f.sibling=b,f=b,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case _:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}break;default:if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=ka(e,c,a),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Hs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Ws(a.type,a.key,a.props,null,e.mode,s)).ref=ka(e,r,a),s.return=e,e=s)}return u(e);case O:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Qs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Gs(a,e.mode,s)).return=e,e=r),u(e);if(ba(a))return v(e,r,a,s);if(q(a))return y(e,r,a,s);if(l&&wa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Oa=_a(!0),Ea=_a(!1),Ta={},xa=oi(Ta),Ca=oi(Ta),Sa=oi(Ta);function ja(e){if(e===Ta)throw Error(o(174));return e}function Ia(e,t){switch(si(Sa,t),si(Ca,e),si(xa,Ta),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(xa),si(xa,t)}function Na(){ui(xa),ui(Ca),ui(Sa)}function Pa(e){ja(Sa.current);var t=ja(xa.current),n=pe(t,e.type);t!==n&&(si(Ca,e),si(xa,n))}function Ra(e){Ca.current===e&&(ui(xa),ui(Ca))}var Aa=oi(0);function Da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var La=null,Ma=null,Fa=!1;function Ua(e,t){var n=zs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Va(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function za(e){if(Fa){var t=Ma;if(t){var n=t;if(!Va(e,t)){if(!(t=Hr(n.nextSibling))||!Va(e,t))return e.flags=-1025&e.flags|2,Fa=!1,void(La=e);Ua(La,n)}La=e,Ma=Hr(t.firstChild)}else e.flags=-1025&e.flags|2,Fa=!1,La=e}}function qa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;La=e}function Ba(e){if(e!==La)return!1;if(!Fa)return qa(e),Fa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=Ma;t;)Ua(e,t),t=Hr(t.nextSibling);if(qa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ma=Hr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ma=null}}else Ma=La?Hr(e.stateNode.nextSibling):null;return!0}function Wa(){Ma=La=null,Fa=!1}var Ha=[];function Ka(){for(var e=0;e<Ha.length;e++)Ha[e]._workInProgressVersionPrimary=null;Ha.length=0}var Ga=w.ReactCurrentDispatcher,Qa=w.ReactCurrentBatchConfig,Ya=0,$a=null,Xa=null,Ja=null,Za=!1,eo=!1;function to(){throw Error(o(321))}function no(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function ro(e,t,n,r,i,a){if(Ya=a,$a=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ga.current=null===e||null===e.memoizedState?Io:No,e=n(r,i),eo){a=0;do{if(eo=!1,!(25>a))throw Error(o(301));a+=1,Ja=Xa=null,t.updateQueue=null,Ga.current=Po,e=n(r,i)}while(eo)}if(Ga.current=jo,t=null!==Xa&&null!==Xa.next,Ya=0,Ja=Xa=$a=null,Za=!1,t)throw Error(o(300));return e}function io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ja?$a.memoizedState=Ja=e:Ja=Ja.next=e,Ja}function ao(){if(null===Xa){var e=$a.alternate;e=null!==e?e.memoizedState:null}else e=Xa.next;var t=null===Ja?$a.memoizedState:Ja.next;if(null!==t)Ja=t,Xa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Xa=e).memoizedState,baseState:Xa.baseState,baseQueue:Xa.baseQueue,queue:Xa.queue,next:null},null===Ja?$a.memoizedState=Ja=e:Ja=Ja.next=e}return Ja}function oo(e,t){return"function"===typeof t?t(e):t}function uo(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Xa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Ya&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,$a.lanes|=l,Fu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,ur(r,t.memoizedState)||(Ao=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function so(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);ur(a,t.memoizedState)||(Ao=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function co(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ya&e)===e)&&(t._workInProgressVersionPrimary=r,Ha.push(t))),e)return n(t._source);throw Ha.push(t),Error(o(350))}function lo(e,t,n,r){var i=Iu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ga.current,c=s.useState((function(){return co(i,t,n)})),l=c[1],f=c[0];c=Ja;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=$a;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!ur(u,e)){e=n(t._source),ur(f,e)||(l(e),e=ls(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Wt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ls(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),ur(p,n)&&ur(v,t)&&ur(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:f}).dispatch=l=So.bind(null,$a,e),c.queue=e,c.baseQueue=null,f=co(i,t,n),c.memoizedState=c.baseState=f),f}function fo(e,t,n){return lo(ao(),e,t,n)}function ho(e){var t=io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e}).dispatch=So.bind(null,$a,e),[t.memoizedState,e]}function po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$a.updateQueue)?(t={lastEffect:null},$a.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function vo(e){return e={current:e},io().memoizedState=e}function yo(){return ao().memoizedState}function mo(e,t,n,r){var i=io();$a.flags|=e,i.memoizedState=po(1|t,n,void 0,void 0===r?null:r)}function go(e,t,n,r){var i=ao();r=void 0===r?null:r;var a=void 0;if(null!==Xa){var o=Xa.memoizedState;if(a=o.destroy,null!==r&&no(r,o.deps))return void po(t,n,a,r)}$a.flags|=e,i.memoizedState=po(1|t,n,a,r)}function bo(e,t){return mo(516,4,e,t)}function ko(e,t){return go(516,4,e,t)}function wo(e,t){return go(4,2,e,t)}function _o(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Oo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,go(4,2,_o.bind(null,t,e),n)}function Eo(){}function To(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xo(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Co(e,t){var n=zi();Bi(98>n?98:n,(function(){e(!0)})),Bi(97<n?97:n,(function(){var n=Qa.transition;Qa.transition=1;try{e(!1),t()}finally{Qa.transition=n}}))}function So(e,t,n){var r=cs(),i=ls(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===$a||null!==o&&o===$a)eo=Za=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,ur(s,u))return}catch(c){}fs(e,i,r)}}var jo={readContext:ra,useCallback:to,useContext:to,useEffect:to,useImperativeHandle:to,useLayoutEffect:to,useMemo:to,useReducer:to,useRef:to,useState:to,useDebugValue:to,useDeferredValue:to,useTransition:to,useMutableSource:to,useOpaqueIdentifier:to,unstable_isNewReconciler:!1},Io={readContext:ra,useCallback:function(e,t){return io().memoizedState=[e,void 0===t?null:t],e},useContext:ra,useEffect:bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,mo(4,2,_o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mo(4,2,e,t)},useMemo:function(e,t){var n=io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=So.bind(null,$a,e),[r.memoizedState,e]},useRef:vo,useState:ho,useDebugValue:Eo,useDeferredValue:function(e){var t=ho(e),n=t[0],r=t[1];return bo((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=ho(!1),t=e[0];return vo(e=Co.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=io();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},lo(r,e,t,n)},useOpaqueIdentifier:function(){if(Fa){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Gr++).toString(36))),Error(o(355))})),n=ho(t)[1];return 0===(2&$a.mode)&&($a.flags|=516,po(5,(function(){n("r:"+(Gr++).toString(36))}),void 0,null)),t}return ho(t="r:"+(Gr++).toString(36)),t},unstable_isNewReconciler:!1},No={readContext:ra,useCallback:To,useContext:ra,useEffect:ko,useImperativeHandle:Oo,useLayoutEffect:wo,useMemo:xo,useReducer:uo,useRef:yo,useState:function(){return uo(oo)},useDebugValue:Eo,useDeferredValue:function(e){var t=uo(oo),n=t[0],r=t[1];return ko((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=uo(oo)[0];return[yo().current,e]},useMutableSource:fo,useOpaqueIdentifier:function(){return uo(oo)[0]},unstable_isNewReconciler:!1},Po={readContext:ra,useCallback:To,useContext:ra,useEffect:ko,useImperativeHandle:Oo,useLayoutEffect:wo,useMemo:xo,useReducer:so,useRef:yo,useState:function(){return so(oo)},useDebugValue:Eo,useDeferredValue:function(e){var t=so(oo),n=t[0],r=t[1];return ko((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=so(oo)[0];return[yo().current,e]},useMutableSource:fo,useOpaqueIdentifier:function(){return so(oo)[0]},unstable_isNewReconciler:!1},Ro=w.ReactCurrentOwner,Ao=!1;function Do(e,t,n,r){t.child=null===e?Ea(t,null,n,r):Oa(t,e.child,n,r)}function Lo(e,t,n,r,i){n=n.render;var a=t.ref;return na(t,i),r=ro(e,t,n,r,a,i),null===e||Ao?(t.flags|=1,Do(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,nu(e,t,i))}function Mo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||qs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ws(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Fo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:cr)(i,r)&&e.ref===t.ref)?nu(e,t,a):(t.flags|=1,(e=Bs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Fo(e,t,n,r,i,a){if(null!==e&&cr(e.memoizedProps,r)&&e.ref===t.ref){if(Ao=!1,0===(a&i))return t.lanes=e.lanes,nu(e,t,a);0!==(16384&e.flags)&&(Ao=!0)}return zo(e,t,n,r,a)}function Uo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},bs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bs(t,e),null;t.memoizedState={baseLanes:0},bs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,bs(t,r);return Do(e,t,i,n),t.child}function Vo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function zo(e,t,n,r,i){var a=pi(n)?hi:li.current;return a=di(t,a),na(t,i),n=ro(e,t,n,r,a,i),null===e||Ao?(t.flags|=1,Do(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,nu(e,t,i))}function qo(e,t,n,r,i){if(pi(n)){var a=!0;gi(t)}else a=!1;if(na(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ya(t,n,r),ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ra(c):c=di(t,c=pi(n)?hi:li.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ma(t,o,r,c),ia=!1;var h=t.memoizedState;o.state=h,la(t,r,o,i),s=t.memoizedState,u!==r||h!==s||fi.current||ia?("function"===typeof l&&(da(t,n,l,r),s=t.memoizedState),(u=ia||va(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Qi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=ra(s):s=di(t,s=pi(n)?hi:li.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ma(t,o,r,s),ia=!1,h=t.memoizedState,o.state=h,la(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||fi.current||ia?("function"===typeof d&&(da(t,n,d,r),p=t.memoizedState),(c=ia||va(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Bo(e,t,n,r,a,i)}function Bo(e,t,n,r,i,a){Vo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&bi(t,n,!1),nu(e,t,a);r=t.stateNode,Ro.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Oa(t,e.child,null,a),t.child=Oa(t,null,u,a)):Do(e,t,u,a),t.memoizedState=r.state,i&&bi(t,n,!0),t.child}function Wo(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Ia(e,t.containerInfo)}var Ho,Ko,Go,Qo={dehydrated:null,retryLane:0};function Yo(e,t,n){var r,i=t.pendingProps,a=Aa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),si(Aa,1&a),null===e?(void 0!==i.fallback&&za(t),e=i.children,a=i.fallback,o?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qo,e):"number"===typeof i.unstable_expectedLoadTime?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qo,t.lanes=33554432,e):((n=Ks({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=Jo(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Qo,i):(n=Xo(e,t,i.children,n),t.memoizedState=null,n))}function $o(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ks(t,i,0,null),n=Hs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function Xo(e,t,n,r){var i=e.child;return e=i.sibling,n=Bs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Jo(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Bs(o,u),null!==e?r=Bs(e,r):(r=Hs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Zo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ta(e.return,t)}function eu(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function tu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Do(e,t,r.children,n),0!==(2&(r=Aa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zo(e,n);else if(19===e.tag)Zo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(si(Aa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Da(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),eu(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Da(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}eu(t,!0,n,null,a,t.lastEffect);break;case"together":eu(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function nu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Bs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ru(e,t){if(!Fa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function iu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pi(t.type)&&vi(),null;case 3:return Na(),ui(fi),ui(li),Ka(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ba(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ra(t);var a=ja(Sa.current);if(n=t.type,null!==e&&null!=t.stateNode)Ko(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=ja(xa.current),Ba(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Yr]=t,r[$r]=u,n){case"dialog":Cr("cancel",r),Cr("close",r);break;case"iframe":case"object":case"embed":Cr("load",r);break;case"video":case"audio":for(e=0;e<Or.length;e++)Cr(Or[e],r);break;case"source":Cr("error",r);break;case"img":case"image":case"link":Cr("error",r),Cr("load",r);break;case"details":Cr("toggle",r);break;case"input":ee(r,u),Cr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Cr("invalid",r);break;case"textarea":se(r,u),Cr("invalid",r)}for(var c in Ee(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Cr("scroll",r));switch(n){case"input":$(r),re(r,u,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Mr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Yr]=t,e[$r]=r,Ho(e,t),t.stateNode=e,c=Te(n,r),n){case"dialog":Cr("cancel",e),Cr("close",e),a=r;break;case"iframe":case"object":case"embed":Cr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Or.length;a++)Cr(Or[a],e);a=r;break;case"source":Cr("error",e),a=r;break;case"img":case"image":case"link":Cr("error",e),Cr("load",e),a=r;break;case"details":Cr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Cr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Cr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Cr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?_e(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Cr("scroll",e):null!=f&&k(e,u,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Mr)}Vr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Go(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=ja(Sa.current),ja(xa.current),Ba(t)?(r=t.stateNode,n=t.memoizedProps,r[Yr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Yr]=t,t.stateNode=r)}return null;case 13:return ui(Aa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ba(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Aa.current)?0===Du&&(Du=3):(0!==Du&&3!==Du||(Du=4),null===Iu||0===(134217727&Fu)&&0===(134217727&Uu)||vs(Iu,Pu))),(r||n)&&(t.flags|=4),null);case 4:return Na(),null===e&&jr(t.stateNode.containerInfo),null;case 10:return ea(t),null;case 17:return pi(t.type)&&vi(),null;case 19:if(ui(Aa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ru(r,!1);else{if(0!==Du||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Da(e))){for(t.flags|=64,ru(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return si(Aa,1&Aa.current|2),t.child}e=e.sibling}null!==r.tail&&Vi()>Bu&&(t.flags|=64,u=!0,ru(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Da(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ru(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Fa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=64,u=!0,ru(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,t=Aa.current,si(Aa,u?1&t|2:1&t),n):null;case 23:case 24:return ks(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function au(e){switch(e.tag){case 1:pi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Na(),ui(fi),ui(li),Ka(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ra(e),null;case 13:return ui(Aa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ui(Aa),null;case 4:return Na(),null;case 10:return ea(e),null;case 23:case 24:return ks(),null;default:return null}}function ou(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function uu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ho=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ko=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ja(xa.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Mr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Cr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===D?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Go=function(e,t,n,r){n!==r&&(t.flags|=4)};var su="function"===typeof WeakMap?WeakMap:Map;function cu(e,t,n){(n=ua(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gu||(Gu=!0,Qu=r),uu(0,t)},n}function lu(e,t,n){(n=ua(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return uu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Yu?Yu=new Set([this]):Yu.add(this),uu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var fu="function"===typeof WeakSet?WeakSet:Set;function hu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ms(e,n)}else t.current=null}function du(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Wr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function pu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(As(n,e),Rs(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Qi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Vr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function vu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function yu(e,t){if(wi&&"function"===typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(ki,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))As(t,n);else{r=t;try{i()}catch(a){Ms(r,a)}}n=n.next}while(n!==e)}break;case 1:if(hu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Ms(t,a)}break;case 5:hu(t);break;case 4:_u(e,t)}}function mu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function gu(e){return 5===e.tag||3===e.tag||4===e.tag}function bu(e){e:{for(var t=e.return;null!==t;){if(gu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||gu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ku(e,n,t):wu(e,n,t)}function ku(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Mr));else if(4!==r&&null!==(e=e.child))for(ku(e,t,n),e=e.sibling;null!==e;)ku(e,t,n),e=e.sibling}function wu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(wu(e,t,n),e=e.sibling;null!==e;)wu(e,t,n),e=e.sibling}function _u(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(yu(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(yu(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ou(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?_e(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ge(n,s):k(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(qu=Vi(),vu(t.child,!0)),void Eu(t);case 19:return void Eu(t);case 17:return;case 23:case 24:return void vu(t,null!==t.memoizedState)}throw Error(o(163))}function Eu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new fu),t.forEach((function(t){var r=Us.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Tu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var xu=Math.ceil,Cu=w.ReactCurrentDispatcher,Su=w.ReactCurrentOwner,ju=0,Iu=null,Nu=null,Pu=0,Ru=0,Au=oi(0),Du=0,Lu=null,Mu=0,Fu=0,Uu=0,Vu=0,zu=null,qu=0,Bu=1/0;function Wu(){Bu=Vi()+500}var Hu,Ku=null,Gu=!1,Qu=null,Yu=null,$u=!1,Xu=null,Ju=90,Zu=[],es=[],ts=null,ns=0,rs=null,is=-1,as=0,os=0,us=null,ss=!1;function cs(){return 0!==(48&ju)?Vi():-1!==is?is:is=Vi()}function ls(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===zi()?1:2;if(0===as&&(as=Mu),0!==Gi.transition){0!==os&&(os=null!==zu?zu.pendingLanes:0),e=as;var t=4186112&~os;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=zi(),0!==(4&ju)&&98===e?e=Vt(12,as):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),as),e}function fs(e,t,n){if(50<ns)throw ns=0,rs=null,Error(o(185));if(null===(e=hs(e,t)))return null;Bt(e,t,n),e===Iu&&(Uu|=t,4===Du&&vs(e,Pu));var r=zi();1===t?0!==(8&ju)&&0===(48&ju)?ys(e):(ds(e,n),0===ju&&(Wu(),Hi())):(0===(4&ju)||98!==r&&99!==r||(null===ts?ts=new Set([e]):ts.add(e)),ds(e,n)),zu=e}function hs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ds(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Wt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=Lt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ft(e,e===Iu?Pu:0),t=Lt,0===r)null!==n&&(n!==Ai&&Ei(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ai&&Ei(n)}15===t?(n=ys.bind(null,e),null===Li?(Li=[n],Mi=Oi(ji,Ki)):Li.push(n),n=Ai):14===t?n=Wi(99,ys.bind(null,e)):n=Wi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),ps.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function ps(e){if(is=-1,os=as=0,0!==(48&ju))throw Error(o(327));var t=e.callbackNode;if(Ps()&&e.callbackNode!==t)return null;var n=Ft(e,e===Iu?Pu:0);if(0===n)return null;var r=n,i=ju;ju|=16;var a=Os();for(Iu===e&&Pu===r||(Wu(),ws(e,r));;)try{xs();break}catch(s){_s(e,s)}if(Zi(),Cu.current=a,ju=i,null!==Nu?r=0:(Iu=null,Pu=0,r=Du),0!==(Mu&Uu))ws(e,0);else if(0!==r){if(2===r&&(ju|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(n=Ut(e))&&(r=Es(e,n))),1===r)throw t=Lu,ws(e,0),vs(e,n),ds(e,Vi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:js(e);break;case 3:if(vs(e,n),(62914560&n)===n&&10<(r=qu+500-Vi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){cs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qr(js.bind(null,e),r);break}js(e);break;case 4:if(vs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Wt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xu(n/1960))-n)){e.timeoutHandle=qr(js.bind(null,e),n);break}js(e);break;case 5:js(e);break;default:throw Error(o(329))}}return ds(e,Vi()),e.callbackNode===t?ps.bind(null,e):null}function vs(e,t){for(t&=~Vu,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ys(e){if(0!==(48&ju))throw Error(o(327));if(Ps(),e===Iu&&0!==(e.expiredLanes&Pu)){var t=Pu,n=Es(e,t);0!==(Mu&Uu)&&(n=Es(e,t=Ft(e,t)))}else n=Es(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(ju|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(t=Ut(e))&&(n=Es(e,t))),1===n)throw n=Lu,ws(e,0),vs(e,t),ds(e,Vi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,js(e),ds(e,Vi()),null}function ms(e,t){var n=ju;ju|=1;try{return e(t)}finally{0===(ju=n)&&(Wu(),Hi())}}function gs(e,t){var n=ju;ju&=-2,ju|=8;try{return e(t)}finally{0===(ju=n)&&(Wu(),Hi())}}function bs(e,t){si(Au,Ru),Ru|=t,Mu|=t}function ks(){Ru=Au.current,ui(Au)}function ws(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Br(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Na(),ui(fi),ui(li),Ka();break;case 5:Ra(r);break;case 4:Na();break;case 13:case 19:ui(Aa);break;case 10:ea(r);break;case 23:case 24:ks()}n=n.return}Iu=e,Nu=Bs(e.current,null),Pu=Ru=Mu=t,Du=0,Lu=null,Vu=Uu=Fu=0}function _s(e,t){for(;;){var n=Nu;try{if(Zi(),Ga.current=jo,Za){for(var r=$a.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Za=!1}if(Ya=0,Ja=Xa=$a=null,eo=!1,Su.current=null,null===n||null===n.return){Du=1,Lu=t,Nu=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Pu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Aa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=ua(-1,1);g.tag=2,sa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new su,s=new Set,b.set(c,s)):void 0===(s=b.get(c))&&(s=new Set,b.set(c,s)),!s.has(u)){s.add(u);var k=Fs.bind(null,a,c,u);c.then(k,k)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Du&&(Du=2),s=ou(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ca(h,cu(0,a,t));break e;case 1:a=s;var w=h.type,_=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Yu||!Yu.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,ca(h,lu(h,a,t));break e}}h=h.return}while(null!==h)}Ss(n)}catch(O){t=O,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function Os(){var e=Cu.current;return Cu.current=jo,null===e?jo:e}function Es(e,t){var n=ju;ju|=16;var r=Os();for(Iu===e&&Pu===t||ws(e,t);;)try{Ts();break}catch(i){_s(e,i)}if(Zi(),ju=n,Cu.current=r,null!==Nu)throw Error(o(261));return Iu=null,Pu=0,Du}function Ts(){for(;null!==Nu;)Cs(Nu)}function xs(){for(;null!==Nu&&!Ti();)Cs(Nu)}function Cs(e){var t=Hu(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?Ss(e):Nu=t,Su.current=null}function Ss(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=iu(n,t,Ru)))return void(Nu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ru)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=au(t)))return n.flags&=2047,void(Nu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Du&&(Du=5)}function js(e){var t=zi();return Bi(99,Is.bind(null,e,t)),null}function Is(e,t){do{Ps()}while(null!==Xu);if(0!==(48&ju))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==ts&&0===(24&r)&&ts.has(e)&&ts.delete(e),e===Iu&&(Nu=Iu=null,Pu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=ju,ju|=32,Su.current=null,Fr=Yt,pr(u=dr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(x){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=u,m=null;t:for(;;){for(var g;y!==s||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===u)break t;if(m===s&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Ur={focusedElem:u,selectionRange:s},Yt=!1,us=null,ss=!1,Ku=r;do{try{Ns()}catch(x){if(null===Ku)throw Error(o(330));Ms(Ku,x),Ku=Ku.nextEffect}}while(null!==Ku);us=null,Ku=r;do{try{for(u=e;null!==Ku;){var b=Ku.flags;if(16&b&&ge(Ku.stateNode,""),128&b){var k=Ku.alternate;if(null!==k){var w=k.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:bu(Ku),Ku.flags&=-3;break;case 6:bu(Ku),Ku.flags&=-3,Ou(Ku.alternate,Ku);break;case 1024:Ku.flags&=-1025;break;case 1028:Ku.flags&=-1025,Ou(Ku.alternate,Ku);break;case 4:Ou(Ku.alternate,Ku);break;case 8:_u(u,s=Ku);var _=s.alternate;mu(s),null!==_&&mu(_)}Ku=Ku.nextEffect}}catch(x){if(null===Ku)throw Error(o(330));Ms(Ku,x),Ku=Ku.nextEffect}}while(null!==Ku);if(w=Ur,k=dr(),b=w.focusedElem,u=w.selectionRange,k!==b&&b&&b.ownerDocument&&hr(b.ownerDocument.documentElement,b)){null!==u&&pr(b)&&(k=u.start,void 0===(w=u.end)&&(w=k),"selectionStart"in b?(b.selectionStart=k,b.selectionEnd=Math.min(w,b.value.length)):(w=(k=b.ownerDocument||document)&&k.defaultView||window).getSelection&&(w=w.getSelection(),s=b.textContent.length,_=Math.min(u.start,s),u=void 0===u.end?_:Math.min(u.end,s),!w.extend&&_>u&&(s=u,u=_,_=s),s=fr(b,_),a=fr(b,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((k=k.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),_>u?(w.addRange(k),w.extend(a.node,a.offset)):(k.setEnd(a.node,a.offset),w.addRange(k))))),k=[];for(w=b;w=w.parentNode;)1===w.nodeType&&k.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<k.length;b++)(w=k[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Fr,Ur=Fr=null,e.current=n,Ku=r;do{try{for(b=e;null!==Ku;){var O=Ku.flags;if(36&O&&pu(b,Ku.alternate,Ku),128&O){k=void 0;var E=Ku.ref;if(null!==E){var T=Ku.stateNode;switch(Ku.tag){case 5:k=T;break;default:k=T}"function"===typeof E?E(k):E.current=k}}Ku=Ku.nextEffect}}catch(x){if(null===Ku)throw Error(o(330));Ms(Ku,x),Ku=Ku.nextEffect}}while(null!==Ku);Ku=null,Di(),ju=i}else e.current=n;if($u)$u=!1,Xu=e,Ju=t;else for(Ku=r;null!==Ku;)t=Ku.nextEffect,Ku.nextEffect=null,8&Ku.flags&&((O=Ku).sibling=null,O.stateNode=null),Ku=t;if(0===(r=e.pendingLanes)&&(Yu=null),1===r?e===rs?ns++:(ns=0,rs=e):ns=0,n=n.stateNode,wi&&"function"===typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(ki,n,void 0,64===(64&n.current.flags))}catch(x){}if(ds(e,Vi()),Gu)throw Gu=!1,e=Qu,Qu=null,e;return 0!==(8&ju)||Hi(),null}function Ns(){for(;null!==Ku;){var e=Ku.alternate;ss||null===us||(0!==(8&Ku.flags)?et(Ku,us)&&(ss=!0):13===Ku.tag&&Tu(e,Ku)&&et(Ku,us)&&(ss=!0));var t=Ku.flags;0!==(256&t)&&du(e,Ku),0===(512&t)||$u||($u=!0,Wi(97,(function(){return Ps(),null}))),Ku=Ku.nextEffect}}function Ps(){if(90!==Ju){var e=97<Ju?97:Ju;return Ju=90,Bi(e,Ds)}return!1}function Rs(e,t){Zu.push(t,e),$u||($u=!0,Wi(97,(function(){return Ps(),null})))}function As(e,t){es.push(t,e),$u||($u=!0,Wi(97,(function(){return Ps(),null})))}function Ds(){if(null===Xu)return!1;var e=Xu;if(Xu=null,0!==(48&ju))throw Error(o(331));var t=ju;ju|=32;var n=es;es=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Ms(a,c)}}for(n=Zu,Zu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Ms(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return ju=t,Hi(),!0}function Ls(e,t,n){sa(e,t=cu(0,t=ou(n,t),1)),t=cs(),null!==(e=hs(e,1))&&(Bt(e,1,t),ds(e,t))}function Ms(e,t){if(3===e.tag)Ls(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ls(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yu||!Yu.has(r))){var i=lu(n,e=ou(t,e),1);if(sa(n,i),i=cs(),null!==(n=hs(n,1)))Bt(n,1,i),ds(n,i);else if("function"===typeof r.componentDidCatch&&(null===Yu||!Yu.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Fs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cs(),e.pingedLanes|=e.suspendedLanes&n,Iu===e&&(Pu&n)===n&&(4===Du||3===Du&&(62914560&Pu)===Pu&&500>Vi()-qu?ws(e,0):Vu|=n),ds(e,t)}function Us(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===zi()?1:2:(0===as&&(as=Mu),0===(t=zt(62914560&~as))&&(t=4194304))),n=cs(),null!==(e=hs(e,t))&&(Bt(e,t,n),ds(e,n))}function Vs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zs(e,t,n,r){return new Vs(e,t,n,r)}function qs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bs(e,t){var n=e.alternate;return null===n?((n=zs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ws(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)qs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Hs(n.children,i,a,t);case L:u=8,i|=16;break;case T:u=8,i|=1;break;case x:return(e=zs(12,n,t,8|i)).elementType=x,e.type=x,e.lanes=a,e;case I:return(e=zs(13,n,t,i)).type=I,e.elementType=I,e.lanes=a,e;case N:return(e=zs(19,n,t,i)).elementType=N,e.lanes=a,e;case M:return Ks(n,i,a,t);case F:return(e=zs(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:u=10;break e;case S:u=9;break e;case j:u=11;break e;case P:u=14;break e;case R:u=16,r=null;break e;case A:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=zs(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Hs(e,t,n,r){return(e=zs(7,e,r,t)).lanes=n,e}function Ks(e,t,n,r){return(e=zs(23,e,r,t)).elementType=M,e.lanes=n,e}function Gs(e,t,n){return(e=zs(6,e,null,t)).lanes=n,e}function Qs(e,t,n){return(t=zs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ys(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function $s(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:O,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Xs(e,t,n,r){var i=t.current,a=cs(),u=ls(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(pi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(pi(c)){n=mi(n,c,s);break e}}n=s}else n=ci;return null===t.context?t.context=n:t.pendingContext=n,(t=ua(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),sa(i,t),fs(i,u,a),u}function Js(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Zs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ec(e,t){Zs(e,t),(e=e.alternate)&&Zs(e,t)}function tc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ys(e,t,null!=n&&!0===n.hydrate),t=zs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,aa(t),e[Xr]=n.current,jr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=Js(o);u.call(e)}}Xs(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=Js(o);s.call(e)}}gs((function(){Xs(t,o,e,i)}))}return Js(o)}function ic(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(t))throw Error(o(200));return $s(e,t,null,n)}Hu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Ao=!0;else{if(0===(n&r)){switch(Ao=!1,t.tag){case 3:Wo(t),Wa();break;case 5:Pa(t);break;case 1:pi(t.type)&&gi(t);break;case 4:Ia(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;si(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Yo(e,t,n):(si(Aa,1&Aa.current),null!==(t=nu(e,t,n))?t.sibling:null);si(Aa,1&Aa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return tu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),si(Aa,Aa.current),r)break;return null;case 23:case 24:return t.lanes=0,Uo(e,t,n)}return nu(e,t,n)}Ao=0!==(16384&e.flags)}else Ao=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=di(t,li.current),na(t,n),i=ro(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pi(r)){var a=!0;gi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,aa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&da(t,r,u,e),i.updater=pa,t.stateNode=i,i._reactInternals=t,ga(t,r,e,n),t=Bo(null,t,r,!0,a,n)}else t.tag=0,Do(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return qs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===j)return 11;if(e===P)return 14}return 2}(i),e=Qi(i,e),a){case 0:t=zo(null,t,i,e,n);break e;case 1:t=qo(null,t,i,e,n);break e;case 11:t=Lo(null,t,i,e,n);break e;case 14:t=Mo(null,t,i,Qi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,zo(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 3:if(Wo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oa(e,t),la(t,r,null,n),(r=t.memoizedState.element)===i)Wa(),t=nu(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ma=Hr(t.stateNode.containerInfo.firstChild),La=t,a=Fa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ha.push(a);for(n=Ea(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Do(e,t,r,n),Wa();t=t.child}return t;case 5:return Pa(t),null===e&&za(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,zr(r,i)?u=null:null!==a&&zr(r,a)&&(t.flags|=16),Vo(e,t),Do(e,t,u,n),t.child;case 6:return null===e&&za(t),null;case 13:return Yo(e,t,n);case 4:return Ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Oa(t,null,r,n):Do(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Lo(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 7:return Do(e,t,t.pendingProps,n),t.child;case 8:case 12:return Do(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(si(Yi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=ur(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!fi.current){t=nu(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=ua(-1,n&-n)).tag=2,sa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ta(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Do(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,na(t,n),r=r(i=ra(i,a.unstable_observedBits)),t.flags|=1,Do(e,t,r,n),t.child;case 14:return a=Qi(i=t.type,t.pendingProps),Mo(e,t,i,a=Qi(i.type,a),r,n);case 15:return Fo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pi(r)?(e=!0,gi(t)):e=!1,na(t,n),ya(t,r,i),ga(t,r,i,n),Bo(null,t,r,!0,e,n);case 19:return tu(e,t,n);case 23:case 24:return Uo(e,t,n)}throw Error(o(156,t.tag))},tc.prototype.render=function(e){Xs(e,this._internalRoot,null,null)},tc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Xs(null,e,null,(function(){t[Xr]=null}))},tt=function(e){13===e.tag&&(fs(e,4,cs()),ec(e,4))},nt=function(e){13===e.tag&&(fs(e,67108864,cs()),ec(e,67108864))},rt=function(e){if(13===e.tag){var t=cs(),n=ls(e);fs(e,n,t),ec(e,n)}},it=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ni(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=ms,Ae=function(e,t,n,r,i){var a=ju;ju|=4;try{return Bi(98,e.bind(null,t,n,r,i))}finally{0===(ju=a)&&(Wu(),Hi())}},De=function(){0===(49&ju)&&(function(){if(null!==ts){var e=ts;ts=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ds(e,Vi())}))}Hi()}(),Ps())},Le=function(e,t){var n=ju;ju|=2;try{return e(t)}finally{0===(ju=n)&&(Wu(),Hi())}};var ac={Events:[ei,ti,ni,Ne,Pe,Ps,{current:!1}]},oc={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},uc={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{ki=sc.inject(uc),wi=sc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ac,t.createPortal=ic,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=ju;if(0!==(48&n))return e(t);ju|=1;try{if(e)return Bi(99,e.bind(null,t))}finally{ju=n,Hi()}},t.hydrate=function(e,t,n){if(!nc(t))throw Error(o(200));return rc(null,e,t,!0,n)},t.render=function(e,t,n){if(!nc(t))throw Error(o(200));return rc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nc(e))throw Error(o(40));return!!e._reactRootContainer&&(gs((function(){rc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Xr]=null}))})),!0)},t.unstable_batchedUpdates=ms,t.unstable_createPortal=function(e,t){return ic(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return rc(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(56)},function(e,t,n){"use strict";var r,i,a,o;if("object"===typeof performance&&"function"===typeof performance.now){var u=performance;t.unstable_now=function(){return u.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,f=null,h=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(h,0))},i=function(e,t){f=setTimeout(e,t)},a=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,m=null,g=-1,b=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+b;try{m(!0,e)?_.postMessage(null):(y=!1,m=null)}catch(n){throw _.postMessage(null),n}}else y=!1},r=function(e){m=e,y||(y=!0,_.postMessage(null))},i=function(e,n){g=d((function(){e(t.unstable_now())}),n)},a=function(){p(g),g=-1}}function O(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<x(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>x(o,n))void 0!==s&&0>x(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>x(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function x(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],S=[],j=1,I=null,N=3,P=!1,R=!1,A=!1;function D(e){for(var t=E(S);null!==t;){if(null===t.callback)T(S);else{if(!(t.startTime<=e))break;T(S),t.sortIndex=t.expirationTime,O(C,t)}t=E(S)}}function L(e){if(A=!1,D(e),!R)if(null!==E(C))R=!0,r(M);else{var t=E(S);null!==t&&i(L,t.startTime-e)}}function M(e,n){R=!1,A&&(A=!1,a()),P=!0;var r=N;try{for(D(n),I=E(C);null!==I&&(!(I.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=I.callback;if("function"===typeof o){I.callback=null,N=I.priorityLevel;var u=o(I.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?I.callback=u:I===E(C)&&T(C),D(n)}else T(C);I=E(C)}if(null!==I)var s=!0;else{var c=E(S);null!==c&&i(L,c.startTime-n),s=!1}return s}finally{I=null,N=r,P=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||P||(R=!0,r(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return E(C)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,n,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:j++,callback:n,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,O(S,e),null===E(C)&&e===E(S)&&(A?a():A=!0,i(L,o-u))):(e.sortIndex=s,O(C,e),R||P||(R=!0,r(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},,function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(P){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),u=new j(r||[]);return i(o,"_invoke",{value:T(e,n,u)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var h="suspendedStart",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var b={};c(b,o,(function(){return this}));var k=Object.getPrototypeOf,w=k&&k(k(I([])));w&&w!==n&&r.call(w,o)&&(b=w);var _=g.prototype=y.prototype=Object.create(b);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,u){var s=f(e[i],e,a);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"===typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(e,t,n){var r=h;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=f(e,t,n);if("normal"===s.type){if(r=n.done?p:"suspendedYield",s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=f(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:N}}function N(){return{value:t,done:!0}}return m.prototype=g,i(_,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:m,configurable:!0}),m.displayName=c(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},O(E.prototype),c(E.prototype,u,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(_),c(_,s,"Generator"),c(_,o,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},,function(e,t,n){"use strict";n(45);var r=n(5),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(62),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(32))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,a={},o=!1,u=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){l(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var e=u.documentElement;r=function(t){var n=u.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},s.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return a[i]=o,r(i),i++},s.clearImmediate=c}function c(e){delete a[e]}function l(e){if(o)setTimeout(l,0,e);else{var t=a[e];if(t){o=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{c(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(32),n(36))},function(e,t,n){"use strict";var r=n(64);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,,function(e,t,n){"use strict";e.exports=n(68)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,k=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case o:case s:case u:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case m:case y:case c:return e;default:return t}}case a:return t}}}function O(e){return _(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=m,t.Memo=y,t.Portal=a,t.Profiler=s,t.StrictMode=u,t.Suspense=p,t.isAsyncMode=function(e){return O(e)||_(e)===f},t.isConcurrentMode=O,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===y},t.isPortal=function(e){return _(e)===a},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===u},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===u||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===k||e.$$typeof===w||e.$$typeof===g)},t.typeOf=_},function(e,t,n){"use strict";var r=60103,i=60106,a=60107,o=60108,u=60114,s=60109,c=60110,l=60112,f=60113,h=60120,d=60115,p=60116,v=60121,y=60122,m=60117,g=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;r=k("react.element"),i=k("react.portal"),a=k("react.fragment"),o=k("react.strict_mode"),u=k("react.profiler"),s=k("react.provider"),c=k("react.context"),l=k("react.forward_ref"),f=k("react.suspense"),h=k("react.suspense_list"),d=k("react.memo"),p=k("react.lazy"),v=k("react.block"),y=k("react.server.block"),m=k("react.fundamental"),g=k("react.debug_trace_mode"),b=k("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case f:case h:return e;default:switch(e=e&&e.$$typeof){case c:case l:case p:case d:case s:return e;default:return t}}case i:return t}}}var _=s,O=r,E=l,T=a,x=p,C=d,S=i,j=u,I=o,N=f;t.ContextConsumer=c,t.ContextProvider=_,t.Element=O,t.ForwardRef=E,t.Fragment=T,t.Lazy=x,t.Memo=C,t.Portal=S,t.Profiler=j,t.StrictMode=I,t.Suspense=N,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===l},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===p},t.isMemo=function(e){return w(e)===d},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===u||e===g||e===o||e===f||e===h||e===b||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===d||e.$$typeof===s||e.$$typeof===c||e.$$typeof===l||e.$$typeof===m||e.$$typeof===v||e[0]===y)},t.typeOf=w},,,,,,,,function(e,t,n){"use strict";var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16);function a(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}for(var o=[],u=0;u<256;++u)o[u]=(u+256).toString(16).substr(1);var s=function(e,t){var n=t||0,r=o;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")};t.a=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||a)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[r+o]=i[o];return t||s(i)}}]]);
//# sourceMappingURL=2.ce13db09.chunk.js.map